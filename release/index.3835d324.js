var Fp=Object.defineProperty,Hp=Object.defineProperties;var Up=Object.getOwnPropertyDescriptors;var U2=Object.getOwnPropertySymbols;var Oo=Object.prototype.hasOwnProperty,Po=Object.prototype.propertyIsEnumerable;var Mo=(e,t,i)=>t in e?Fp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,S=(e,t)=>{for(var i in t||(t={}))Oo.call(t,i)&&Mo(e,i,t[i]);if(U2)for(var i of U2(t))Po.call(t,i)&&Mo(e,i,t[i]);return e},J=(e,t)=>Hp(e,Up(t));var Do=(e,t)=>{var i={};for(var n in e)Oo.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&U2)for(var n of U2(e))t.indexOf(n)<0&&Po.call(e,n)&&(i[n]=e[n]);return i};const Kp=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function i(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=i(o);fetch(o.href,r)}};Kp();const $0=512,W0=683,p9="canv",No="canv-outer";let K2=null,f9=null,Bo=1;const n2=(e,t,i)=>{const n=K2&&window.OffscreenCanvas?new window.OffscreenCanvas(e||1,t||1):document.createElement("canvas");n.width=e||1,n.height=t||1;let o;return i?(console.error("WebGL rendering has been removed."),o=n.getContext("webgl-2d")):o=n.getContext("2d"),[n,o,e,t]},wt=e=>{if(e==="outer"&&f9)return f9;if(K2)return K2;{const[t,i]=n2(W0,$0);t.id=p9,i.imageSmoothingEnabled=!1;const n=document.getElementById("canvas-container");if(n){const[o,r]=n2(W0,$0);o.id=No,r.imageSmoothingEnabled=!1;const s=document.createElement("div");s.style.position="absolute",s.style.width="100%",s.style.height="100%",s.style.top="0",s.id="fade";const l=document.createElement("div");l.style.position="absolute",l.style.width="100%",l.style.height="100%",l.style.top="0",l.id="fade2",n.appendChild(t),n.appendChild(s),n.appendChild(l),n.appendChild(o)}else console.warn("Failed to acquire parent div for primary canvas.");return K2=t,t}},$o={},K1=e=>{var n;let t=$o[e!=null?e:"def"];if(t)return t;const i=wt(e);return t=(n=i.getContext("2d"))!=null?n:i.getContext("webgl-2d"),$o[e!=null?e:"def"]=t,t},zp=(e,t)=>{e&&(e.style.width=String(W0*t),e.style.height=String($0*t),t>2&&(e.style.position="relative",e.style.left=-(parseInt(e.style.width)/4)+"px",e.style.top=-(parseInt(e.style.height)/4)+"px"))},Wo=e=>{Bo=e;const t=document.getElementById(p9);t&&zp(t,e);const i=document.getElementById(No);i&&(i.width=W0*e/2,i.height=$0*e/2,i.style.position="absolute",i.style.left="0px",i.style.top="0px",f9=i)},bt=()=>Bo,vt=()=>[W0,$0];let Go={resources:[],spritemap:{}};const xt=window.sounds={},l0={},jp=[];var l1;(function(e){e.NORMAL="normal",e.MUSIC="music",e.SPRITESHEET="spritesheet"})(l1||(l1={}));const Fo={},Yp=e=>{var t;return(t=Fo[e])!=null?t:null},Vp=(e,t)=>{Fo[e.id]=t},Ho=e=>{e.addEventListener("timeupdate",function(){const t=this,i=Yp(t.id);i&&(t.currentTime>i.end||t.currentTime<i.start)&&t.pause()}.bind(e))},y9=async e=>{const t=`${fe()}/snd`,i=t+"/"+e.slice(0,-4)+".json";Go=await fetch(i).then(c=>c.json()).catch(c=>{console.error("Failed to load json metadata for sound spritesheet",c)});const n=await fetch(t+"/"+e).then(c=>c.blob()),o=new FileReader;o.readAsDataURL(n);const r=await new Promise((c,d)=>{const u=setTimeout(()=>{d("failed to read blob: "+e)},1e4);o.addEventListener("loadend",()=>{const g=o==null?void 0:o.result;g&&(clearTimeout(u),c(g.toString()))})}),s=new Audio(r);s.autoplay=!1,s.id="audio1",Ho(s);const l=Uo(s,l1.SPRITESHEET,"spritesheet",1);for(let c=0;c<4;c++){const d=new Audio(r);d.autoplay=!1,d.id="audio"+(c+2),Ho(d),l.nodes.push(d)}},qp=e=>{const t=e.slice(e.lastIndexOf("/")+1,-4),i=Go.spritemap[t];if(!i)throw new Error(`No spritesheet meta exists for url='${e}' nameFromUrl='${t}'`);return i},Uo=(e,t,i,n)=>{e.oncanplay=null,e.currentTime=99999999999;const o=e.currentTime;return e.currentTime=0,e.onended=function(){e.pause(),e.currentTime=0},xt[i]={nodes:[e],currentNodeIndex:0,soundDuration:o,soundType:t,volumeModifier:n,useSpritesheet:!1},t===l1.MUSIC&&(console.log("Adding music track",i,z2(i)),l0[i]=z2(i)),xt[i]},w9=async(e,t,i,n,o)=>{const r=`${fe()}/snd`;if(o)try{const s=z2("spritesheet"),l=qp(t);s&&(xt[e]={nodes:s.nodes,currentNodeIndex:0,soundDuration:l.end-l.start,soundType:l1.NORMAL,volumeModifier:n,useSpritesheet:!0,sprite:l})}catch(s){console.error("Failed to load spritesheet sound",s)}else return t=`${r}/${t}`,new Promise((s,l)=>{const c=new Audio(t);c.autoplay=!1;const d=()=>{Uo(c,i,e,n),clearTimeout(u),s(c)};c.oncanplay=c.onloadeddata=d;const u=setTimeout(()=>{console.error("Sound load timed out:",e,t),d()},5e3);c.addEventListener("error",g=>{console.error("sound error",g),l('Cannot load sound: name="'+e+'", url="'+t+'", type='+i)}),c.src=t})},z2=e=>{const t=xt[e];return t?J(S({duration:0},t),{soundName:e,lastStartTimestamp:z1()}):(console.error("Could not find sound with name: ",e),null)},Ko=(e,t)=>{if(!!uf())if(t=t!=null?t:je(e.soundType),e.useSpritesheet&&e.sprite){const i=xt.spritesheet;if(i){const n=e.sprite,o=i.nodes[i.currentNodeIndex];o.volume=(t||1)*e.volumeModifier,o.currentTime=n.start,Vp(o,n),o.play(),e.lastStartTimestamp=z1(),i.currentNodeIndex=(i.currentNodeIndex+1)%i.nodes.length}}else{const i=e.nodes[0];i.volume=(t||1)*e.volumeModifier,i.play(),e.lastStartTimestamp=z1()}},Xp=()=>{for(const e in l0){const t=l0[e];if(!t.nodes[0].paused)return t}return null},Qp=e=>e.nodes[0].currentTime,Zp=(e,t)=>{e.nodes[0].currentTime=t},Tt=async(e,t,i)=>{const n=l0[e];if(!n){console.error("playMusic: Could not find music with name:",e);return}const o=n.nodes[0];if(o.loop=t,!o.paused){console.log("playMusic: Music is already playing:",e);return}if(o.currentTime=0,Ko(n),i=i!=null?i:0,i>0){const r=13;for(let s=0;s<i;s+=r){const l=je(l1.MUSIC);o.volume=Xt(s,0,i,0,l),await new Promise(c=>setTimeout(c,r))}o.volume=je(l1.MUSIC)}},Jp=async(e,t)=>{const i=l0[e];if(!i){console.error("stopMusic: Could not find music with name:",e);return}const n=i.nodes[0];if(n.paused)console.log("stopMusic: Music is not playing:",e);else if(t=t!=null?t:0,t>0){const o=13;for(let r=0;r<t;r+=o){const s=je(l1.MUSIC);n.volume=s-Xt(r,0,t,0,s),await new Promise(l=>setTimeout(l,o))}n.pause(),n.volume=je(l1.MUSIC)}else n.pause()},pe=async e=>{for(const t in l0)l0[t].nodes[0].paused||Jp(t,e);return new Promise(t=>setTimeout(t,e!=null?e:0))},x=window.playSoundName=(e,t)=>{const i=z2(e);i&&Ko(i,t)},ef=e=>{jp.forEach(t=>{const i=t.nodes[t.currentNodeIndex];i.volume=e})},tf=e=>{for(const t in l0){const i=l0[t],n=i.nodes[i.currentNodeIndex];n.volume=e}},fe=()=>{var e;return(e=window.RES_PATH)!=null?e:""};let zo=window.room=null;const B=()=>zo,b9=e=>{zo=window.room=e};let jo=window.battle=null;const M=()=>jo,Yo=e=>{jo=window.battle=e};let Vo=window.overworld=null;const g1=()=>Vo,nf=e=>{Vo=window.overworld=e};let qo=window.scene=null;const $=()=>qo,of=e=>{qo=window.scene=e};let Xo=window.player=null;const P=()=>Xo,j2=e=>{Xo=window.player=e};let Qo=0;const z1=()=>Qo,rf=e=>{Qo=e};let Zo=0;const Y2=()=>Zo,af=e=>{Zo=e},v9={},x9=e=>{v9[e]=!0},T9=e=>{v9[e]=!1},o2=e=>{var t;return(t=v9[e])!=null?t:!1};let Jo=window.isPaused=!1;const ze=()=>Jo,er=e=>{Jo=window.isPaused=e},E9=window.renderables={},sf=(e,t)=>{E9[e]=t},lf=e=>{delete E9[e]},tr=()=>E9;let _9=!0;const ir=()=>_9,G0=()=>{_9=!0},F0=()=>{_9=!1};let C9=!1;const V2=()=>C9,A9=()=>C9=!0,S9=()=>C9=!1;let k9=!1;const nr=()=>k9,R9=()=>k9=!0,L9=()=>k9=!1;let or="black";const rr=()=>or,cf=e=>or=e;let df=!0;const uf=()=>df,ar={[l1.NORMAL]:.5,[l1.MUSIC]:.25},I9=(e,t)=>{t>1&&(t=1),t<0&&(t=0),ar[e]=t,e===l1.MUSIC?tf(t):ef(t)},je=e=>{var t;return(t=ar[e])!=null?t:1};let sr=100;const hf=e=>{sr=e>100?100:e<0?0:e},lr=()=>sr;let cr=!1;const dr=e=>{cr=e},ur=()=>cr;let hr=[0,0];const gf=()=>hr,gr=e=>hr=e;let mr=null;const f0=()=>mr,y0=e=>mr=e,r2=[],mf=(...e)=>{e.forEach(t=>{r2.indexOf(t)===-1&&r2.push(t)})},pf=(...e)=>{e.forEach(t=>{const i=r2.indexOf(t);i>-1&&r2.splice(i,1)})},O9=()=>r2;let pr=null;const ff=()=>pr,fr=e=>pr=e;let P9=!1;const yr=()=>P9=!0,yf=()=>P9=!1,wr=()=>P9;let br=!0;const vr=()=>br,xr=e=>br=e;let Tr=+new Date;const M9=()=>Tr,D9=e=>{Tr=e};let Er=0;const N9=()=>Er,wf=e=>{Er=e};let _r=!0;const Cr=()=>_r,Ar=e=>_r=e,q2=[],bf=e=>{q2.push(e)},vf=e=>{const t=q2.indexOf(e);t>-1&&q2.splice(t,1)},xf=()=>[...q2];let Sr=!1;const a2=e=>{Sr=e},B9=()=>Sr;let kr=!0;const Tf=e=>kr=e,Ef=()=>kr;let Rr=1;const Lr=e=>{Rr=e},w0=()=>Rr;let Ir=!0;const H0=e=>{Ir=e},_f=()=>Ir;let Or=window.storesStorage={};const Cf=e=>{Or=Object.assign({},e)},Pr=()=>Or;class w1{constructor(t){this.timestampStart=z1(),this.timestampPause=0,this.duration=t,this.shouldRemove=!1,this.paused=!1,this.pausedOverridden=!1,this.awaits=[]}start(t){this.paused&&(this.timestampPause=z1(),this.unpause()),this.timestampStart=z1(),this.duration=t!=null?t:this.duration}isPaused(){return this.paused||this.pausedOverridden}pause(){this.paused||(this.paused=!0,this.timestampPause=z1())}pauseOverride(){this.pausedOverridden||(this.pausedOverridden=!0,this.paused||(this.timestampPause=z1()))}unpause(){this.paused&&(this.paused=!1,this.updateStart(z1()-this.timestampPause))}unpauseOverride(){this.pausedOverridden&&(this.pausedOverridden=!1,this.paused||this.updateStart(z1()-this.timestampPause))}updateStart(t){this.timestampStart+=t}update(){this.isComplete()&&(this.awaits.forEach(t=>t()),this.awaits=[])}isComplete(){return!this.pausedOverridden&&this.getPctComplete()>=1}onCompletion(){return new Promise(t=>{this.isComplete()||this.awaits.push(t)})}forceComplete(){this.timestampStart=-999999}getPctComplete(){let t=z1();this.isPaused()&&(t-=t-this.timestampPause);let i=t-this.timestampStart;return i>this.duration?i=this.duration:i<0&&(i=-1),Math.min(1,i/this.duration)}getDiff(){let t=z1();return this.isPaused()&&(t-=t-this.timestampPause),[t-this.timestampStart,t-this.timestampPause,this.timestampStart,this.timestampPause]}markForRemoval(){this.shouldRemove=!0}}class Af{constructor(t,i){this.max=t,this.current=0,this.decayRate=i}fill(t){this.current+=t,this.current>this.max&&(this.current=this.max)}empty(){this.current=0}isFull(){return this.current>=this.max}getPct(){return this.current/this.max}update(){this.current-=this.decayRate*Y2(),this.current<0&&(this.current=0)}}var S1;(function(e){e.LINEAR="linear",e.EASE_OUT="ease_out"})(S1||(S1={}));const Sf=e=>[0*e,0*e,0*e],kf=e=>{const t=.6;if(e<t){const i=Xt(e,0,t,0,1);return[0,-me*Math.sin(i*Math.PI),0]}else{const i=Xt(e,t,1,0,1);return[0,-(me/4)*Math.sin(i*Math.PI),0]}},X2=e=>[0,0,me*Math.sin(e*Math.PI)],Rf=e=>[0,0,me*2*Math.sin(e*Math.PI)],$9=e=>[0,0,me*4*Math.sin(e*Math.PI)];class T1{constructor(t,i,n,o,r){this.startX=t[0],this.startY=t[1],this.startZ=t[2],this.endX=i[0],this.endY=i[1],this.endZ=i[2],this.timer=new w1(n),this.ease=o,this.shouldRemove=!1,this.offsetFunc=r||Sf,this.timer.start()}static copy(t){return new T1([t.startX,t.startY,t.startZ],[t.endX,t.endY,t.endZ],t.timer.duration,t.ease,t.offsetFunc)}start(){return[this.startX,this.startY,this.endZ]}end(){return[this.endX,this.endY,this.endZ]}current(){const[t,i,n]=this.offsetFunc(this.timer.getPctComplete(),this),o=this.timer.getPctComplete(),r=this.ease===S1.EASE_OUT?_k:Xt;return[r(o,0,1,this.startX,this.endX)+t,r(o,0,1,this.startY,this.endY)+i,r(o,0,1,this.startZ,this.endZ)+n]}update(){this.timer.update()}createInverse(){return new T1([this.endX,this.endY,this.endZ],[this.startX,this.startY,this.startZ],this.timer.duration,this.ease,this.offsetFunc)}markForRemoval(){this.shouldRemove=!0}}const P1={},W9=e=>{const t=P1[e];return t?S({},t):null},Lf=()=>{var e,t;P1.ada_battle_attack_left_f={strikeFrame:3,sounds:[{soundName:"battle_swing1",frame:3}]},P1.ada_battle_attack_p_left_f={strikeFrame:5,sounds:[{soundName:"battle_swing1",frame:5}]},P1.ada_enter_vr_portal={sounds:[]};for(let i=13;i<=27;i+=2)(t=(e=P1==null?void 0:P1.ada_enter_vr_portal)==null?void 0:e.sounds)==null||t.push({soundName:"vr_portal_beep",frame:i});P1.conscience_battle_ranged_left_f={strikeFrame:5,rangedParticleSpawnOffset:[0,0],sounds:[{soundName:"battle_shoot_arrow",frame:5}]},P1.tut_robot_boss_battle_attack_left={strikeFrame:10,sounds:[{soundName:"robot_staggered_damaged",frame:0},{soundName:"robot_clank3",frame:1},{soundName:"robot_clank4",frame:1},{soundName:"robot_clank2",frame:4},{soundName:"woosh_reverse",frame:9},{soundName:"battle_swing4",frame:10},{soundName:"robot_clank2",frame:12},{soundName:"robot_clank4",frame:14}]},P1.tut_robot_boss_battle_attack_k_left={strikeFrame:6,sounds:[{soundName:"robot_staggered_damaged",frame:0},{soundName:"robot_clank3",frame:1},{soundName:"robot_clank2",frame:4},{soundName:"battle_swing3",frame:6},{soundName:"robot_clank2",frame:8},{soundName:"robot_clank3",frame:10}]},P1.tut_robot_boss_battle_attack_p_left={strikeFrame:6,sounds:[{soundName:"robot_staggered_damaged",frame:1},{soundName:"robot_clank",frame:2},{soundName:"battle_swing2",frame:6},{soundName:"robot_clank3",frame:8},{soundName:"robot_clank2",frame:10}]},P1.tut_robot_melee_speedy_battle_attack_left={strikeFrame:2,sounds:[{soundName:"battle_swing1",frame:2}]},P1.tut_robot_ranged_battle_ranged_left={strikeFrame:2,rangedParticleSpawnOffset:[8,-8],sounds:[{soundName:"battle_shoot_arrow",frame:0}]},P1.tut_robot_armored_battle_attack_left={strikeFrame:2,sounds:[{soundName:"battle_swing1",frame:2}]},P1.tut_robot_armored_battle_attack_k_left={strikeFrame:10,sounds:[{soundName:"battle_robot_charge_up",frame:2},{soundName:"battle_swing3",frame:8}]},P1.tut_robot_melee_battle_attack_left={strikeFrame:3,sounds:[{soundName:"battle_swing1",frame:3}]},P1.tile_vr_portal_active={loopFromFrame:5,sounds:[{soundName:"vr_portal_activate",frame:0}]},P1.tile_vr_portal_passive={loopFromFrame:5,sounds:[{soundName:"vr_portal_deactivate",frame:0}]},P1.tile_save_point_active={loopFromFrame:6,sounds:[{soundName:"vr_portal_activate",frame:0}]},P1.tile_save_point_passive={loopFromFrame:6,sounds:[{soundName:"vr_portal_deactivate",frame:0}]},P1.tile_floor_flicker={sounds:[{soundName:"zap_quiet",frame:0}]}},Q2=class{constructor(e){this.loop=e||!1,this.sprites=[],this.done=!1,this.isPaused=!1,this.soundsEnabled=!0,this.timestampPause=0,this.totalDurationMs=0,this.currentSpriteIndex=0,this.timestampStart=0,this.name="",this.useSubLoopAnim=!1,this.awaits=[]}reset(e){this.done=!1,this.currentSpriteIndex=0,e?(this.useSubLoopAnim=!0,this.subLoopAnim?this.subLoopAnim.reset(e):this.sprites.forEach(t=>{t.hasPlayedSound=!1})):(this.useSubLoopAnim=!1,this.subLoopAnim&&this.subLoopAnim.reset(),this.sprites.forEach(t=>{t.hasPlayedSound=!1}))}start(){this.timestampStart=z1(),this.useSubLoopAnim&&this.subLoopAnim&&this.subLoopAnim.start()}pause(){this.isPaused||(this.isPaused=!0,this.timestampPause=z1(),this.subLoopAnim&&this.subLoopAnim.pause())}unpause(){this.isPaused&&(this.isPaused=!1,this.timestampStart+=z1()-this.timestampPause,this.currentSpriteIndex=0,this.update(),this.subLoopAnim&&this.subLoopAnim.unpause())}disableSounds(){this.soundsEnabled=!1}enableSounds(){this.soundsEnabled=!0}static enableSoundsGlobally(){Q2.globalSoundsEnabled=!0}static disableSoundsGlobally(){Q2.globalSoundsEnabled=!1}getDurationMs(){return this.totalDurationMs}getLongestFrameMs(){return this.sprites.reduce((e,t)=>t.duration>e?t.duration:e,0)}getLongestFrameIndex(){let e=0;return this.sprites.reduce((t,i,n)=>i.duration>e?(e=i.duration,n):t,0)}getDurationToIndex(e){return e>=this.sprites.length?this.totalDurationMs:this.sprites[e].durationUpToNow}addSprite({name:e,duration:t,offsetX:i,offsetY:n,opacity:o}){this.sprites.push({name:e||"",timestampBegin:this.totalDurationMs,timestampEnd:this.totalDurationMs+(t!=null?t:0),duration:t!=null?t:0,durationUpToNow:this.totalDurationMs,offsetX:i||0,offsetY:n||0,opacity:o,hasPlayedSound:!1}),this.totalDurationMs+=t!=null?t:0}getAnimIndex(e){if(this.useSubLoopAnim&&this.subLoopAnim)return this.subLoopAnim.getAnimIndex(e);let t=0,i=this.currentSpriteIndex,n=this.sprites.length-1;for(;i<=n;){const o=i+Math.floor((n-i)/2);t=o;const{timestampEnd:r,timestampBegin:s}=this.sprites[o],l=(s||0)+this.timestampStart,c=(r||0)+this.timestampStart;if(e<c&&e>l)return o;e>=c?i=o+1:n=o-1}return t}update(){if(this.useSubLoopAnim&&this.subLoopAnim){this.subLoopAnim.update();return}const e=z1();if(this.currentSpriteIndex===this.sprites.length-1&&this.loop&&e-this.timestampStart>this.totalDurationMs){const t=this.timestampStart+this.totalDurationMs;this.reset(!0),this.start(),e-t<this.totalDurationMs&&(this.timestampStart=t)}if(this.currentSpriteIndex=this.getAnimIndex(e),this.loop||e-this.timestampStart>=this.totalDurationMs&&(this.done=!0,this.awaits.forEach(t=>t()),this.awaits=[]),this.meta){const t=this.meta.sounds;t&&t.forEach((i,n)=>{const o=this.sprites[n];this.currentSpriteIndex>=i.frame&&!o.hasPlayedSound&&(this.soundsEnabled&&Q2.globalSoundsEnabled&&x(i.soundName),o.hasPlayedSound=!0)})}}onCompletion(){return new Promise(e=>{this.isDone()||this.loop||this.awaits.push(e)})}getSprite(){var e;return this.useSubLoopAnim&&this.subLoopAnim?this.subLoopAnim.getSprite():(e=this.sprites[this.currentSpriteIndex])==null?void 0:e.name}getSpriteSize(e){const t=z1();e=e!=null?e:this.getAnimIndex(t);const{name:i}=this.sprites[e],[,,,n,o]=B0(i);return[n,o]}isDone(){return this.done}};let b0=Q2;b0.globalSoundsEnabled=!0;const G9=window.animations={},Mr=(e,t)=>{G9[e]=t},v0=e=>!!G9[e],se=e=>{var i;const t=G9[e];if(t){const n=t();n.name=e,n.meta=W9(e);const o=(i=n==null?void 0:n.meta)==null?void 0:i.loopFromFrame;if(o!==void 0){const r=new b0(!0);for(let s=o;s<n.sprites.length;s++){const l=n.sprites[s];r.addSprite({name:l.name,duration:l.duration})}n.subLoopAnim=r}return n}else throw new Error(`No animation exists which is named '${e}'`)};var Z,s2,Dr,Nr,Br,x0={},F9=[],If=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function T0(e,t){for(var i in t)e[i]=t[i];return e}function $r(e){var t=e.parentNode;t&&t.removeChild(e)}function a(e,t,i){var n,o,r,s=arguments,l={};for(r in t)r=="key"?n=t[r]:r=="ref"?o=t[r]:l[r]=t[r];if(arguments.length>3)for(i=[i],r=3;r<arguments.length;r++)i.push(s[r]);if(i!=null&&(l.children=i),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)l[r]===void 0&&(l[r]=e.defaultProps[r]);return Z2(e,l,n,o,null)}function Z2(e,t,i,n,o){var r={type:e,props:t,key:i,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o==null?++Z.__v:o};return Z.vnode!=null&&Z.vnode(r),r}function n1(e){return e.children}function J2(e,t){this.props=e,this.context=t}function l2(e,t){if(t==null)return e.__?l2(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if((i=e.__k[t])!=null&&i.__e!=null)return i.__e;return typeof e.type=="function"?l2(e):null}function Wr(e){var t,i;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((i=e.__k[t])!=null&&i.__e!=null){e.__e=e.__c.base=i.__e;break}return Wr(e)}}function Gr(e){(!e.__d&&(e.__d=!0)&&s2.push(e)&&!ei.__r++||Nr!==Z.debounceRendering)&&((Nr=Z.debounceRendering)||Dr)(ei)}function ei(){for(var e;ei.__r=s2.length;)e=s2.sort(function(t,i){return t.__v.__b-i.__v.__b}),s2=[],e.some(function(t){var i,n,o,r,s,l,c;t.__d&&(l=(s=(i=t).__v).__e,(c=i.__P)&&(n=[],(o=T0({},s)).__v=s.__v+1,r=H9(c,s,o,i.__n,c.ownerSVGElement!==void 0,s.__h!=null?[l]:null,n,l==null?l2(s):l,s.__h),zr(n,s),r!=l&&Wr(s)))})}function Fr(e,t,i,n,o,r,s,l,c,d){var u,g,m,f,p,y,w,v=n&&n.__k||F9,A=v.length;for(c==x0&&(c=s!=null?s[0]:A?l2(n,0):null),i.__k=[],u=0;u<t.length;u++)if((f=i.__k[u]=(f=t[u])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"?Z2(null,f,null,null,f):Array.isArray(f)?Z2(n1,{children:f},null,null,null):f.__e!=null||f.__c!=null?Z2(f.type,f.props,f.key,null,f.__v):f)!=null){if(f.__=i,f.__b=i.__b+1,(m=v[u])===null||m&&f.key==m.key&&f.type===m.type)v[u]=void 0;else for(g=0;g<A;g++){if((m=v[g])&&f.key==m.key&&f.type===m.type){v[g]=void 0;break}m=null}p=H9(e,f,m=m||x0,o,r,s,l,c,d),(g=f.ref)&&m.ref!=g&&(w||(w=[]),m.ref&&w.push(m.ref,null,f),w.push(g,f.__c||p,f)),p!=null?(y==null&&(y=p),c=Hr(e,f,m,v,s,p,c),d||i.type!="option"?typeof i.type=="function"&&(i.__d=c):e.value=""):c&&m.__e==c&&c.parentNode!=e&&(c=l2(m))}if(i.__e=y,s!=null&&typeof i.type!="function")for(u=s.length;u--;)s[u]!=null&&$r(s[u]);for(u=A;u--;)v[u]!=null&&Yr(v[u],v[u]);if(w)for(u=0;u<w.length;u++)jr(w[u],w[++u],w[++u])}function Hr(e,t,i,n,o,r,s){var l,c,d;if(t.__d!==void 0)l=t.__d,t.__d=void 0;else if(o==i||r!=s||r.parentNode==null)e:if(s==null||s.parentNode!==e)e.appendChild(r),l=null;else{for(c=s,d=0;(c=c.nextSibling)&&d<n.length;d+=2)if(c==r)break e;e.insertBefore(r,s),l=s}return l!==void 0?l:r.nextSibling}function Of(e,t,i,n,o){var r;for(r in i)r==="children"||r==="key"||r in t||ti(e,r,null,i[r],n);for(r in t)o&&typeof t[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||i[r]===t[r]||ti(e,r,t[r],i[r],n)}function Ur(e,t,i){t[0]==="-"?e.setProperty(t,i):e[t]=i==null?"":typeof i!="number"||If.test(t)?i:i+"px"}function ti(e,t,i,n,o){var r,s,l;if(o&&t=="className"&&(t="class"),t==="style")if(typeof i=="string")e.style.cssText=i;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)i&&t in i||Ur(e.style,t,"");if(i)for(t in i)n&&i[t]===n[t]||Ur(e.style,t,i[t])}else t[0]==="o"&&t[1]==="n"?(r=t!==(t=t.replace(/Capture$/,"")),(s=t.toLowerCase())in e&&(t=s),t=t.slice(2),e.l||(e.l={}),e.l[t+r]=i,l=r?Mf:Pf,i?n||e.addEventListener(t,l,r):e.removeEventListener(t,l,r)):t!=="list"&&t!=="tagName"&&t!=="form"&&t!=="type"&&t!=="size"&&t!=="download"&&t!=="href"&&!o&&t in e?e[t]=i==null?"":i:typeof i!="function"&&t!=="dangerouslySetInnerHTML"&&(t!==(t=t.replace(/xlink:?/,""))?i==null||i===!1?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):i==null||i===!1&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,i))}function Pf(e){this.l[e.type+!1](Z.event?Z.event(e):e)}function Mf(e){this.l[e.type+!0](Z.event?Z.event(e):e)}function Kr(e,t,i){var n,o;for(n=0;n<e.__k.length;n++)(o=e.__k[n])&&(o.__=e,o.__e&&(typeof o.type=="function"&&o.__k.length>1&&Kr(o,t,i),t=Hr(i,o,o,e.__k,null,o.__e,t),typeof e.type=="function"&&(e.__d=t)))}function H9(e,t,i,n,o,r,s,l,c){var d,u,g,m,f,p,y,w,v,A,C,k=t.type;if(t.constructor!==void 0)return null;i.__h!=null&&(c=i.__h,l=t.__e=i.__e,t.__h=null,r=[l]),(d=Z.__b)&&d(t);try{e:if(typeof k=="function"){if(w=t.props,v=(d=k.contextType)&&n[d.__c],A=d?v?v.props.value:d.__:n,i.__c?y=(u=t.__c=i.__c).__=u.__E:("prototype"in k&&k.prototype.render?t.__c=u=new k(w,A):(t.__c=u=new J2(w,A),u.constructor=k,u.render=Nf),v&&v.sub(u),u.props=w,u.state||(u.state={}),u.context=A,u.__n=n,g=u.__d=!0,u.__h=[]),u.__s==null&&(u.__s=u.state),k.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=T0({},u.__s)),T0(u.__s,k.getDerivedStateFromProps(w,u.__s))),m=u.props,f=u.state,g)k.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(k.getDerivedStateFromProps==null&&w!==m&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(w,A),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(w,u.__s,A)===!1||t.__v===i.__v){u.props=w,u.state=u.__s,t.__v!==i.__v&&(u.__d=!1),u.__v=t,t.__e=i.__e,t.__k=i.__k,u.__h.length&&s.push(u),Kr(t,l,e);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(w,u.__s,A),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(m,f,p)})}u.context=A,u.props=w,u.state=u.__s,(d=Z.__r)&&d(t),u.__d=!1,u.__v=t,u.__P=e,d=u.render(u.props,u.state,u.context),u.state=u.__s,u.getChildContext!=null&&(n=T0(T0({},n),u.getChildContext())),g||u.getSnapshotBeforeUpdate==null||(p=u.getSnapshotBeforeUpdate(m,f)),C=d!=null&&d.type==n1&&d.key==null?d.props.children:d,Fr(e,Array.isArray(C)?C:[C],t,i,n,o,r,s,l,c),u.base=t.__e,t.__h=null,u.__h.length&&s.push(u),y&&(u.__E=u.__=null),u.__e=!1}else r==null&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=Df(i.__e,t,i,n,o,r,s,c);(d=Z.diffed)&&d(t)}catch(N){t.__v=null,(c||r!=null)&&(t.__e=l,t.__h=!!c,r[r.indexOf(l)]=null),Z.__e(N,t,i)}return t.__e}function zr(e,t){Z.__c&&Z.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(n){n.call(i)})}catch(n){Z.__e(n,i.__v)}})}function Df(e,t,i,n,o,r,s,l){var c,d,u,g,m,f=i.props,p=t.props;if(o=t.type==="svg"||o,r!=null){for(c=0;c<r.length;c++)if((d=r[c])!=null&&((t.type===null?d.nodeType===3:d.localName===t.type)||e==d)){e=d,r[c]=null;break}}if(e==null)try{if(t.type===null)return document.createTextNode(p);e=o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,p.is&&{is:p.is}),r=null,l=!1}catch(y){throw console.error("TYPE",t),y}if(t.type===null)f===p||l&&e.data===p||(e.data=p);else{if(r!=null&&(r=F9.slice.call(e.childNodes)),u=(f=i.props||x0).dangerouslySetInnerHTML,g=p.dangerouslySetInnerHTML,!l){if(r!=null)for(f={},m=0;m<e.attributes.length;m++)f[e.attributes[m].name]=e.attributes[m].value;(g||u)&&(g&&(u&&g.__html==u.__html||g.__html===e.innerHTML)||(e.innerHTML=g&&g.__html||""))}Of(e,p,f,o,l),g?t.__k=[]:(c=t.props.children,Fr(e,Array.isArray(c)?c:[c],t,i,n,t.type!=="foreignObject"&&o,r,s,x0,l)),l||("value"in p&&(c=p.value)!==void 0&&(c!==e.value||t.type==="progress"&&!c)&&ti(e,"value",c,f.value,!1),"checked"in p&&(c=p.checked)!==void 0&&c!==e.checked&&ti(e,"checked",c,f.checked,!1))}return e}function jr(e,t,i){try{typeof e=="function"?e(t):e.current=t}catch(n){Z.__e(n,i)}}function Yr(e,t,i){var n,o,r;if(Z.unmount&&Z.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||jr(n,null,t)),i||typeof e.type=="function"||(i=(o=e.__e)!=null),e.__e=e.__d=void 0,(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){Z.__e(s,t)}n.base=n.__P=null}if(n=e.__k)for(r=0;r<n.length;r++)n[r]&&Yr(n[r],t,i);o!=null&&$r(o)}function Nf(e,t,i){return this.constructor(e,i)}function Vr(e,t,i){var n,o,r;Z.__&&Z.__(e,t),o=(n=i===Br)?null:i&&i.__k||t.__k,e=a(n1,null,[e]),r=[],H9(t,(n?t:i||t).__k=e,o||x0,x0,t.ownerSVGElement!==void 0,i&&!n?[i]:o?null:t.childNodes.length?F9.slice.call(t.childNodes):null,r,i||x0,n),zr(r,e)}Z={__e:function(e,t){for(var i,n,o,r=t.__h;t=t.__;)if((i=t.__c)&&!i.__)try{if((n=i.constructor)&&n.getDerivedStateFromError!=null&&(i.setState(n.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e),o=i.__d),o)return t.__h=r,i.__E=i}catch(s){e=s}throw e},__v:0},J2.prototype.setState=function(e,t){var i;i=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=T0({},this.state),typeof e=="function"&&(e=e(T0({},i),this.props)),e&&T0(i,e),e!=null&&this.__v&&(t&&this.__h.push(t),Gr(this))},J2.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Gr(this))},J2.prototype.render=n1,s2=[],Dr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ei.__r=0,Br=x0;var Bf=0,qr=document.head.appendChild(document.createElement("style")).sheet;function $f(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()}function Xr(e,t){var i="p"+Bf++,n=t+i;return e.forEach(function(o){if(/^@/.test(o)){var r=o.indexOf("{")+1;o=o.slice(0,r)+n+o.slice(r)}else o=n+o;qr.insertRule(o,qr.cssRules.length)}),i}function U9(e,t){return t+"{"+e+"}"}function K9(e,t){var r;var i=[""];t=t||0;for(var n in e){var o=(r=e[n])!=null?r:"unset";n=$f(n),!o.sub&&!Array.isArray(o)?(n=n.replace(/&/g,""),i.push(U9(K9(o,!/^@/.test(n)).join(""),n))):(o=Array.isArray(o)?o:[o],o.forEach(function(s){return i[0]+=n+":"+s+";"}))}return t||(i[0]=U9(i[0],"")),i}function Wf(e,t){var i={};return t=t||{},t.returnObject?{style:n,css:o}:n;function n(r){return function(s){return function(l,c){l=l||{},c=l.children||c;var d=typeof s=="function"?s(l):s;return l.class=[o(d),l.class].filter(Boolean).join(" "),e(r,l,c)}}}function o(r){var s=K9(r),l=s.join("");return i[l]||(i[l]=Xr(s,"."))}}function Qr(e){var t=U9(K9(e,1).join(""),"");return Xr([t],"@keyframes ")}const Gf=Wf(a),h={BLACK:"#111",WHITE:"#F8F8F8",LIGHTGREY:"#BCB7C5",GREY:"#999",DARKGREY:"#2E3740",DARKGREY_ALT:"#5A5353",BGGREY:"#333",RED:"#BE2633",LIGHTRED:"#E1534A",DARKRED:"#5E3643",PINK:"#FFAEB6",LIGHTGREEN:"#B6D53C",GREEN:"#44891A",DARKGREEN:"#005F1B",BROWN:"#A46422",ORANGE:"#FAB40B",PURPLE:"#9964F9",DARKPURPLE:"#39314B",LIGHTBLUE:"#42CAFD",BLUE:"#31A2F2",DARKBLUE:"#243F72",DARKBLUE_ALT:"#3978A8",YELLOW:"#F4B41B",DARKYELLOW:"#A05B53"},Zr="@media (max-width: 850px)",b=function(e,t){return Gf(e)(t)},V1=e=>Qr(e),Jr=-1,ea={export:{format:"json",target:"battle1.json"}},ta=16,ia=!1,na=[{data:[29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29],height:16,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:16,x:0,y:0},{draworder:"topdown",id:5,name:"Objects",objects:[{gid:83,height:32,id:28,name:"MarkerAlly0",rotation:0,type:"",visible:!0,width:32,x:96,y:128},{gid:83,height:32,id:29,name:"MarkerAlly1",rotation:0,type:"",visible:!0,width:32,x:144,y:176},{gid:83,height:32,id:30,name:"MarkerAlly2",rotation:0,type:"",visible:!0,width:32,x:64,y:160},{gid:83,height:32,id:31,name:"MarkerAlly3",rotation:0,type:"",visible:!0,width:32,x:112,y:208},{gid:83,height:32,id:36,name:"MarkerEnemy2",rotation:0,type:"",visible:!0,width:32,x:160,y:64},{gid:83,height:32,id:37,name:"MarkerEnemy3",rotation:0,type:"",visible:!0,width:32,x:208,y:112},{gid:83,height:32,id:38,name:"MarkerEnemy1",rotation:0,type:"",visible:!0,width:32,x:176,y:144},{gid:83,height:32,id:39,name:"MarkerEnemy0",rotation:0,type:"",visible:!0,width:32,x:128,y:96},{gid:81,height:64,id:40,name:"",rotation:0,type:"",visible:!0,width:32,x:52,y:28},{gid:81,height:64,id:41,name:"",rotation:0,type:"",visible:!0,width:32,x:236,y:208},{gid:81,height:64,id:42,name:"",rotation:0,type:"",visible:!0,width:32,x:36,y:80}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],oa=7,ra=43,aa="isometric",sa="left-down",la="1.4.3",ca=16,da=[{columns:4,firstgid:1,image:"../../res/battle-terrain1.png",imageheight:128,imagewidth:128,margin:0,name:"battle-terrain1",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:8,firstgid:17,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{firstgid:81,source:"../../res/props-dynamic.tiled-sheet.tsx"}],ua=32,ha="map",ga=1.4,ma=16;var Ff={compressionlevel:Jr,editorsettings:ea,height:ta,infinite:ia,layers:na,nextlayerid:oa,nextobjectid:ra,orientation:aa,renderorder:sa,tiledversion:la,tileheight:ca,tilesets:da,tilewidth:ua,type:ha,version:ga,width:ma},Hf=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:Jr,editorsettings:ea,height:ta,infinite:ia,layers:na,nextlayerid:oa,nextobjectid:ra,orientation:aa,renderorder:sa,tiledversion:la,tileheight:ca,tilesets:da,tilewidth:ua,type:ha,version:ga,width:ma,default:Ff});const pa=-1,fa=16,ya=!1,wa=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,187,187,187,187,187,187,187,187,187,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,187,187,187,187,187,187,187,187,187,187,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:16,id:1,name:"Tiles",offsetx:0,offsety:16,opacity:1,type:"tilelayer",visible:!0,width:16,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:354,height:32,id:50,name:"MarkerAlly0",rotation:0,type:"",visible:!0,width:32,x:95,y:126},{gid:354,height:32,id:51,name:"MarkerAlly5",rotation:0,type:"",visible:!0,width:32,x:104,y:213},{gid:354,height:32,id:52,name:"MarkerAlly2",rotation:0,type:"",visible:!0,width:32,x:77,y:144},{gid:354,height:32,id:53,name:"MarkerAlly1",rotation:0,type:"",visible:!0,width:32,x:143,y:174},{gid:355,height:32,id:54,name:"MarkerEnemy2",rotation:0,type:"",visible:!0,width:32,x:148,y:73},{gid:355,height:32,id:55,name:"MarkerEnemy4",rotation:0,type:"",visible:!0,width:32,x:169,y:52},{gid:355,height:32,id:56,name:"MarkerEnemy1",rotation:0,type:"",visible:!0,width:32,x:175,y:142},{gid:355,height:32,id:57,name:"MarkerEnemy0",rotation:0,type:"",visible:!0,width:32,x:127,y:94},{gid:354,height:32,id:58,name:"MarkerAlly3",rotation:0,type:"",visible:!0,width:32,x:125,y:192},{gid:354,height:32,id:59,name:"MarkerAlly4",rotation:0,type:"",visible:!0,width:32,x:56,y:165},{gid:355,height:32,id:60,name:"MarkerEnemy3",rotation:0,type:"",visible:!0,width:32,x:196,y:121},{gid:355,height:32,id:61,name:"MarkerEnemy5",rotation:0,type:"",visible:!0,width:32,x:217,y:100}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],ba=6,va=62,xa="isometric",Ta="right-down",Ea="1.7.2",_a=16,Ca=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../scratch/props-dynamic.tsx"}],Aa=32,Sa="map",ka="1.6",Ra=16;var Uf={compressionlevel:pa,height:fa,infinite:ya,layers:wa,nextlayerid:ba,nextobjectid:va,orientation:xa,renderorder:Ta,tiledversion:Ea,tileheight:_a,tilesets:Ca,tilewidth:Aa,type:Sa,version:ka,width:Ra},Kf=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:pa,height:fa,infinite:ya,layers:wa,nextlayerid:ba,nextobjectid:va,orientation:xa,renderorder:Ta,tiledversion:Ea,tileheight:_a,tilesets:Ca,tilewidth:Aa,type:Sa,version:ka,width:Ra,default:Uf});const La=-1,Ia=16,Oa=!1,Pa=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,187,187,187,187,187,187,187,187,187,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,187,187,187,187,187,187,187,187,187,187,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:16,id:1,name:"Tiles",offsetx:0,offsety:16,opacity:1,type:"tilelayer",visible:!0,width:16,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:354,height:32,id:50,name:"MarkerAlly0",rotation:0,type:"",visible:!0,width:32,x:135.5,y:162.5},{gid:354,height:32,id:51,name:"MarkerAlly5",rotation:0,type:"",visible:!0,width:32,x:104,y:213},{gid:354,height:32,id:52,name:"MarkerAlly2",rotation:0,type:"",visible:!0,width:32,x:77,y:144},{gid:354,height:32,id:53,name:"MarkerAlly1",rotation:0,type:"",visible:!0,width:32,x:100.5,y:131.5},{gid:355,height:32,id:54,name:"MarkerEnemy2",rotation:0,type:"",visible:!0,width:32,x:148,y:73},{gid:355,height:32,id:55,name:"MarkerEnemy4",rotation:0,type:"",visible:!0,width:32,x:169,y:52},{gid:355,height:32,id:56,name:"MarkerEnemy1",rotation:0,type:"",visible:!0,width:32,x:191,y:159},{gid:355,height:32,id:57,name:"MarkerEnemy0",rotation:0,type:"",visible:!0,width:32,x:157,y:125},{gid:354,height:32,id:58,name:"MarkerAlly3",rotation:0,type:"",visible:!0,width:32,x:125,y:192},{gid:354,height:32,id:59,name:"MarkerAlly4",rotation:0,type:"",visible:!0,width:32,x:56,y:165},{gid:355,height:32,id:60,name:"MarkerEnemy3",rotation:0,type:"",visible:!0,width:32,x:196,y:121},{gid:355,height:32,id:61,name:"MarkerEnemy5",rotation:0,type:"",visible:!0,width:32,x:217,y:100}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],Ma=6,Da=62,Na="isometric",Ba="right-down",$a="1.7.2",Wa=16,Ga=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../scratch/props-dynamic.tsx"}],Fa=32,Ha="map",Ua="1.6",Ka=16;var zf={compressionlevel:La,height:Ia,infinite:Oa,layers:Pa,nextlayerid:Ma,nextobjectid:Da,orientation:Na,renderorder:Ba,tiledversion:$a,tileheight:Wa,tilesets:Ga,tilewidth:Fa,type:Ha,version:Ua,width:Ka},jf=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:La,height:Ia,infinite:Oa,layers:Pa,nextlayerid:Ma,nextobjectid:Da,orientation:Na,renderorder:Ba,tiledversion:$a,tileheight:Wa,tilesets:Ga,tilewidth:Fa,type:Ha,version:Ua,width:Ka,default:zf});const za=-1,ja=16,Ya=!1,Va=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,187,187,187,187,187,187,187,187,187,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,189,189,189,189,189,189,189,189,189,189,187,129,129,129,129,187,187,187,187,187,187,187,187,187,187,187,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:16,id:1,name:"Tiles",offsetx:0,offsety:16,opacity:1,type:"tilelayer",visible:!0,width:16,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:354,height:32,id:50,name:"MarkerAlly0",rotation:0,type:"",visible:!0,width:32,x:96.5,y:127.5},{gid:354,height:32,id:51,name:"MarkerAlly5",rotation:0,type:"",visible:!0,width:32,x:104,y:213},{gid:354,height:32,id:52,name:"MarkerAlly2",rotation:0,type:"",visible:!0,width:32,x:77,y:144},{gid:354,height:32,id:53,name:"MarkerAlly1",rotation:0,type:"",visible:!0,width:32,x:144.5,y:175.5},{gid:355,height:32,id:54,name:"MarkerEnemy2",rotation:0,type:"",visible:!0,width:32,x:163.5,y:90.5},{gid:355,height:32,id:55,name:"MarkerEnemy4",rotation:0,type:"",visible:!0,width:32,x:169,y:52},{gid:355,height:32,id:56,name:"MarkerEnemy1",rotation:0,type:"",visible:!0,width:32,x:191,y:159},{gid:355,height:32,id:57,name:"MarkerEnemy0",rotation:0,type:"",visible:!0,width:32,x:157,y:125},{gid:354,height:32,id:58,name:"MarkerAlly3",rotation:0,type:"",visible:!0,width:32,x:125,y:192},{gid:354,height:32,id:59,name:"MarkerAlly4",rotation:0,type:"",visible:!0,width:32,x:56,y:165},{gid:355,height:32,id:60,name:"MarkerEnemy3",rotation:0,type:"",visible:!0,width:32,x:196,y:121},{gid:355,height:32,id:61,name:"MarkerEnemy5",rotation:0,type:"",visible:!0,width:32,x:217,y:100}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],qa=6,Xa=62,Qa="isometric",Za="right-down",Ja="1.7.2",es=16,ts=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../scratch/props-dynamic.tsx"}],is=32,ns="map",os="1.6",rs=16;var Yf={compressionlevel:za,height:ja,infinite:Ya,layers:Va,nextlayerid:qa,nextobjectid:Xa,orientation:Qa,renderorder:Za,tiledversion:Ja,tileheight:es,tilesets:ts,tilewidth:is,type:ns,version:os,width:rs},Vf=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:za,height:ja,infinite:Ya,layers:Va,nextlayerid:qa,nextobjectid:Xa,orientation:Qa,renderorder:Za,tiledversion:Ja,tileheight:es,tilesets:ts,tilewidth:is,type:ns,version:os,width:rs,default:Yf});const as=-1,ss=16,ls=!1,cs=[{data:[129,129,129,129,129,129,129,129,129,189,129,129,129,129,129,129,129,129,189,129,185,129,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,0,129,0,129,129,129,129,129,129,129,129,129,185,129,129,129,129,129,0,189,189,189,189,189,129,129,129,129,129,129,129,129,129,129,189,189,189,189,189,189,189,129,129,129,129,129,129,129,129,189,188,189,189,189,189,190,189,189,129,129,129,129,129,129,189,188,190,189,189,189,189,188,189,189,189,129,189,129,129,189,188,188,189,189,189,189,189,188,189,189,189,129,129,129,189,189,189,189,189,189,189,189,189,188,189,189,189,129,129,129,189,189,189,189,189,189,189,189,189,189,185,129,129,189,129,129,189,189,189,189,189,189,189,189,189,189,189,129,129,129,129,129,189,189,189,189,189,189,189,189,189,185,129,129,189,129,129,129,189,189,188,190,188,188,189,189,189,129,129,129,129,129,129,129,129,189,189,189,189,189,189,185,129,129,185,129,129,129,185,129,129,129,189,189,189,189,189,129,129,129,129,129,129,129,129,129,129,129,129,189,189,189,189,129,129,189,129,129,189],height:16,id:1,name:"Tiles",offsetx:0,offsety:16,opacity:1,type:"tilelayer",visible:!0,width:16,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:355,height:32,id:57,name:"MarkerEnemy0",rotation:0,type:"",visible:!0,width:32,x:180.5,y:125.5},{gid:194,height:32,id:62,name:"MarkerAlly0",rotation:0,type:"",visible:!0,width:32,x:111.5,y:154.5},{gid:194,height:32,id:63,name:"MarkerAlly1",rotation:0,type:"",visible:!0,width:32,x:143.5,y:186.5},{gid:194,height:32,id:64,name:"MarkerAlly2",rotation:0,type:"",visible:!0,width:32,x:103.5,y:164.5},{gid:194,height:32,id:65,name:"MarkerAlly3",rotation:0,type:"",visible:!0,width:32,x:128.5,y:199.5},{gid:194,height:32,id:66,name:"MarkerAlly4",rotation:0,type:"",visible:!0,width:32,x:83,y:183},{gid:194,height:32,id:67,name:"MarkerAlly5",rotation:0,type:"",visible:!0,width:32,x:108.5,y:217.5},{gid:194,height:32,id:68,name:"MarkerEnemy1",rotation:0,type:"",visible:!0,width:32,x:131.5,y:92.5},{gid:194,height:32,id:69,name:"MarkerEnemy2",rotation:0,type:"",visible:!0,width:32,x:231,y:121}],offsetx:-4,offsety:4,opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],ds=6,us=70,hs="isometric",gs="right-down",ms="1.7.2",ps=16,fs=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../scratch/props-dynamic.tsx"}],ys=32,ws="map",bs="1.6",vs=16;var qf={compressionlevel:as,height:ss,infinite:ls,layers:cs,nextlayerid:ds,nextobjectid:us,orientation:hs,renderorder:gs,tiledversion:ms,tileheight:ps,tilesets:fs,tilewidth:ys,type:ws,version:bs,width:vs},Xf=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:as,height:ss,infinite:ls,layers:cs,nextlayerid:ds,nextobjectid:us,orientation:hs,renderorder:gs,tiledversion:ms,tileheight:ps,tilesets:fs,tilewidth:ys,type:ws,version:bs,width:vs,default:qf});const xs=-1,Ts={export:{format:"json",target:"test.json"}},Es=64,_s=!1,Cs=[{data:[129,2,2,11,2,2,2,13,2,2,2,11,2,2,2,2,2,5,5,5,5,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,1,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,4,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,12,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,4,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,1,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,4,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,1,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,4,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,8,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,4,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,6,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,6,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,1,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,10,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,1,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,1,5,5,5,5,5,5,5,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,4,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,4,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,4,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,4,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,4,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,4,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,4,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,4,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,4,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:64,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:64,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:193,height:32,id:1,name:"Skye",rotation:0,type:"",visible:!0,width:32,x:288,y:112}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],As=4,Ss=3,ks="isometric",Rs="right-down",Ls="1.4.3",Is=16,Os=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:2,firstgid:193,image:"../../res/control.png",imageheight:64,imagewidth:64,margin:0,name:"control",spacing:0,tilecount:4,tileheight:32,tilewidth:32},{columns:16,firstgid:197,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32}],Ps=32,Ms="map",Ds=1.4,Ns=64;var Qf={compressionlevel:xs,editorsettings:Ts,height:Es,infinite:_s,layers:Cs,nextlayerid:As,nextobjectid:Ss,orientation:ks,renderorder:Rs,tiledversion:Ls,tileheight:Is,tilesets:Os,tilewidth:Ps,type:Ms,version:Ds,width:Ns},Zf=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:xs,editorsettings:Ts,height:Es,infinite:_s,layers:Cs,nextlayerid:As,nextobjectid:Ss,orientation:ks,renderorder:Rs,tiledversion:Ls,tileheight:Is,tilesets:Os,tilewidth:Ps,type:Ms,version:Ds,width:Ns,default:Qf});const Bs=-1,$s=40,Ws=!1,Gs=[{data:[130,2,2,11,2,2,2,13,2,2,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,2,2,2,2,129,129,129,1,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,12,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,1,130,130,130,17,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,1,130,130,17,17,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,8,130,130,130,17,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,6,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,6,130,130,130,130,130,130,130,130,16,16,16,16,16,16,16,16,16,16,16,16,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,1,130,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,1,215,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,10,130,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,4,215,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,1,130,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,4,215,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,1,130,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,4,215,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,4,130,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,4,215,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,4,130,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,4,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,4,130,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,1,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,4,209,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,1,2,2,2,2,2,2,15,15,2,2,2,2,2,2,2,3,129,129,129,4,130,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,1,129,129,129,129,129,16,130,130,16,129,129,129,129,129,129,1,129,129,129,4,130,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,1,129,129,129,129,129,16,130,130,16,129,129,129,129,129,129,1,129,129,129,4,130,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,1,129,129,129,129,129,16,130,130,16,129,129,129,129,129,129,1,129,129,129,4,217,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,1,2,2,2,2,2,16,15,15,16,2,2,2,2,2,2,3,129,129,129,4,217,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,1,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,4,130,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,4,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,4,130,130,130,1,16,16,16,16,16,129,129,129,129,129,129,129,129,129,129,4,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,4,221,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,4,130,130,130,17,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,4,221,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,4,130,130,17,17,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,4,130,130,130,130,130,130,130,130,16,129,129,129,129,129,129,129,129,129,129,1,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,4,130,130,130,130,130,130,130,130,16,5,5,5,5,5,5,5,5,2,2,3,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,4,219,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,131,131,131,130,130,130,130,17,130,130,130,130,130,17,130,130,130,130,1,129,129,129,4,219,130,130,130,130,130,130,130,130,235,130,130,130,130,130,130,130,131,131,131,130,130,130,130,17,130,130,130,130,130,17,130,130,130,130,1,129,129,129,4,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,1,129,129,129,4,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,17,130,130,130,130,17,130,130,130,130,1,129,129,129,4,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,130,17,130,130,130,130,1,129,129,129,4,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,1,129,129,129,4,130,130,130,130,130,130,130,130,130,239,130,130,130,130,130,130,130,130,17,17,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,4,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,130,130,130,130,130,130,1,129,129,129,4,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,17,130,130,130,130,17,130,130,130,130,1,129,129,129,4,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,17,17,17,17,130,130,130,130,1,129,129,129,4,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,129,129,129,129,17,2,2,2,3,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:40,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:40,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,232,0,0,0,0,232,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,0,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,233,234,234,234,234,234,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,236,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:40,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:40,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:193,height:32,id:3,name:"Skye",rotation:0,type:"",visible:!0,width:32,x:44,y:248},{gid:194,height:32,id:5,name:"MarkerWalkTest1",rotation:0,type:"",visible:!0,width:32,x:176,y:48},{gid:194,height:32,id:6,name:"MarkerWalkTest2",rotation:0,type:"",visible:!0,width:32,x:76,y:276},{gid:195,height:32,id:9,name:"#floor1-vendingPanel",rotation:0,type:"",visible:!0,width:32,x:28,y:268},{height:44,id:11,name:"#floor1-vendingPanel",rotation:0,type:"",visible:!0,width:140,x:12,y:152},{gid:193,height:32,id:18,name:"Roger",rotation:0,type:"",visible:!0,width:32,x:97.25,y:35.75},{height:57.3333,id:20,name:"#test2-openDoorA",rotation:0,type:"",visible:!0,width:32,x:428,y:286.667},{height:55.3333,id:21,name:"#test2-openDoorB",rotation:0,type:"",visible:!0,width:32,x:428,y:220},{gid:194,height:32,id:22,name:"markerDoorA",rotation:0,type:"",visible:!0,width:32,x:436,y:308},{gid:194,height:32,id:23,name:"markerDoorB",rotation:0,type:"",visible:!0,width:32,x:436,y:244},{height:164,id:26,name:"#test2-closeDoorsAB",rotation:0,type:"",visible:!0,width:64,x:412,y:200},{gid:194,height:32,id:29,name:"MarkerSpawnAtMarker",rotation:0,type:"",visible:!0,width:32,x:366.625,y:89.875},{gid:193,height:32,id:35,name:"Sigma",rotation:0,type:"",visible:!0,width:32,x:385.125,y:42.875},{height:0,id:44,name:"",rotation:0,type:"",visible:!0,width:0,x:459.625,y:232.875},{height:0,id:45,name:"",rotation:0,type:"",visible:!0,width:0,x:473.25,y:218.75},{height:0,id:46,name:"",rotation:0,type:"",visible:!0,width:0,x:476.75,y:221.75},{height:0,id:47,name:"",rotation:0,type:"",visible:!0,width:0,x:459.375,y:220.625},{height:69.125,id:52,name:"#rho-look-area",rotation:0,type:"",visible:!0,width:73.125,x:354.625,y:129.25},{gid:194,height:32,id:53,name:"MarkerWalkA",rotation:0,type:"",visible:!0,width:32,x:104,y:136},{gid:194,height:32,id:54,name:"MarkerWalkB",rotation:0,type:"",visible:!0,width:32,x:40,y:136},{gid:194,height:32,id:55,name:"MarkerWalkC",rotation:0,type:"",visible:!0,width:32,x:44,y:40},{gid:193,height:32,id:57,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON1"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTUP_LEFTDOWN"}],rotation:0,type:"",visible:!0,width:32,x:374,y:340},{gid:194,height:32,id:61,name:"MarkerKioskStats",rotation:0,type:"",visible:!0,width:32,x:168,y:456},{height:56,id:62,name:"#utils-kiosk-stats-activate",rotation:0,type:"",visible:!0,width:56,x:132,y:420},{height:80,id:63,name:"#utils-kiosk-stats-deactivate",rotation:0,type:"",visible:!0,width:80,x:120,y:408},{gid:201,height:32,id:64,name:"ItemTrainingBow",rotation:0,type:"",visible:!0,width:32,x:248,y:488},{gid:194,height:32,id:65,name:"MarkerSavePoint",rotation:0,type:"",visible:!0,width:32,x:168,y:536},{height:60,id:66,name:"#utils-save-point-activate",rotation:0,type:"",visible:!0,width:52,x:140,y:504},{height:76,id:67,name:"#utils-save-point-deactivate",rotation:0,type:"",visible:!0,width:68,x:132,y:496},{gid:193,height:32,id:68,name:"Rho",rotation:0,type:"",visible:!0,width:32,x:392.542,y:170.125},{gid:194,height:32,id:69,name:"MarkerVortexMachine",rotation:0,type:"",visible:!0,width:32,x:44,y:440},{height:48,id:70,name:"#test2-vortex-machine",rotation:0,type:"",visible:!0,width:28,x:24,y:420},{gid:193,height:32,id:71,name:"TestDialogC",rotation:0,type:"",visible:!0,width:32,x:44,y:492},{gid:193,height:32,id:72,name:"TestDialogB",rotation:0,type:"",visible:!0,width:32,x:44,y:516},{height:32,id:73,name:"#test-callScriptIntegration",rotation:0,type:"",visible:!0,width:20,x:92,y:428},{gid:193,height:32,id:75,name:"TestDialogA",rotation:0,type:"",visible:!0,width:32,x:44,y:540},{gid:193,height:32,id:76,name:"TestDialogD",rotation:0,type:"",visible:!0,width:32,x:94,y:524},{gid:193,height:32,id:77,name:"Shopkeep",rotation:0,type:"",visible:!0,width:32,x:449.25,y:33.75},{gid:194,height:32,id:78,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:278.5,y:511.5},{height:69.125,id:79,name:"#test-ada-sigma-shopkeep",rotation:0,type:"",visible:!0,width:73.125,x:407.937,y:14.9375},{gid:194,height:32,id:80,name:"MarkerAdaShopkeep",rotation:0,type:"",visible:!0,width:32,x:457,y:82.3333},{gid:356,height:32,id:81,name:"PropLight",rotation:0,type:"front",visible:!0,width:32,x:308.5,y:427.5},{height:33,id:82,name:"#test-prop-light-anim",rotation:0,type:"",visible:!0,width:47,x:286.5,y:429.5},{gid:193,height:32,id:84,name:"TestDialogE",rotation:0,type:"",visible:!0,width:32,x:265,y:447},{gid:194,height:32,id:85,name:"MarkerZagMachine",rotation:0,type:"",visible:!0,width:32,x:44,y:376},{height:48,id:86,name:"#test2-zag-machine",rotation:0,type:"",visible:!0,width:28,x:24,y:356},{gid:201,height:32,id:87,name:"ItemTicketCache10",rotation:0,type:"",visible:!0,width:32,x:243,y:521},{gid:193,height:32,id:88,name:"TestDialogF",rotation:0,type:"",visible:!0,width:32,x:240.5,y:451.5}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],Fs=7,Hs=89,Us="isometric",Ks="right-down",zs="1.7.2",js=16,Ys=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:16,firstgid:337,image:"../../res/props_small.png",imageheight:512,imagewidth:512,margin:0,name:"props_small",spacing:0,tilecount:256,tileheight:32,tilewidth:32}],Vs=32,qs="map",Xs="1.6",Qs=40;var Jf={compressionlevel:Bs,height:$s,infinite:Ws,layers:Gs,nextlayerid:Fs,nextobjectid:Hs,orientation:Us,renderorder:Ks,tiledversion:zs,tileheight:js,tilesets:Ys,tilewidth:Vs,type:qs,version:Xs,width:Qs},e6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:Bs,height:$s,infinite:Ws,layers:Gs,nextlayerid:Fs,nextobjectid:Hs,orientation:Us,renderorder:Ks,tiledversion:zs,tileheight:js,tilesets:Ys,tilewidth:Vs,type:qs,version:Xs,width:Qs,default:Jf});const Zs=-1,Js=5,el=!1,tl=[{data:[129,129,129,129,129,129,139,139,139,139,129,139,139,139,139,129,139,139,139,139,16,139,139,139,139],height:5,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:5,x:0,y:0},{data:[141,141,0,0,16,141,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:5,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:5,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:46,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:44,y:44}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],il=7,nl=48,ol="isometric",rl="right-down",al="1.7.2",sl=16,ll=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32}],cl=32,dl="map",ul="1.6",hl=5;var t6={compressionlevel:Zs,height:Js,infinite:el,layers:tl,nextlayerid:il,nextobjectid:nl,orientation:ol,renderorder:rl,tiledversion:al,tileheight:sl,tilesets:ll,tilewidth:cl,type:dl,version:ul,width:hl},i6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:Zs,height:Js,infinite:el,layers:tl,nextlayerid:il,nextobjectid:nl,orientation:ol,renderorder:rl,tiledversion:al,tileheight:sl,tilesets:ll,tilewidth:cl,type:dl,version:ul,width:hl,default:t6});const gl=-1,ml=32,pl=!1,fl=[{data:[337,338,337,338,337,337,337,337,337,337,337,337,362,362,361,361,361,361,361,361,361,362,362,337,338,33,33,33,132,17,16,16,338,337,338,337,338,337,337,337,337,337,337,337,362,361,361,361,361,361,361,361,361,361,362,337,337,338,33,132,132,17,16,16,337,338,337,338,337,337,337,337,337,337,337,337,362,362,361,361,361,361,361,361,361,362,362,337,338,33,33,33,132,17,16,16,338,337,338,337,338,337,337,337,337,337,337,337,362,361,361,361,361,361,361,361,361,361,362,337,337,338,33,132,132,17,16,16,337,338,337,338,337,338,337,337,337,337,337,337,362,362,361,361,361,361,361,361,361,362,362,337,338,33,33,33,132,17,16,16,338,337,338,337,338,337,338,337,337,337,337,362,362,361,361,361,361,361,361,361,361,361,362,337,337,338,33,132,132,16,16,16,337,338,337,338,337,338,337,337,337,337,337,362,362,362,361,361,361,361,361,361,361,362,362,337,338,33,33,33,132,16,16,16,338,337,338,337,338,337,338,337,337,337,337,362,362,361,361,361,361,361,361,361,361,361,362,337,337,338,33,132,132,16,16,16,337,338,337,338,337,338,337,338,337,337,337,337,362,362,361,361,361,361,361,361,361,362,362,337,338,33,33,33,132,16,16,16,338,337,338,337,338,337,338,337,338,337,337,337,362,361,362,361,362,361,362,361,362,361,362,337,337,338,33,132,132,16,16,16,337,338,337,338,337,338,337,338,337,338,337,362,362,362,362,362,362,362,362,362,362,362,362,337,338,33,33,33,132,16,16,16,338,337,338,337,338,337,338,337,338,337,337,338,339,339,338,339,339,338,339,339,338,339,339,337,337,338,33,132,132,16,16,16,131,33,131,33,131,33,131,33,131,33,131,131,131,131,131,131,131,131,131,131,131,131,131,33,131,33,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,136,136,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,136,136,131,131,131,131,131,131,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,133,131,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,133,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,134,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,131,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,132,131,131,131,131,131,131,131,131,131,132,132,132,132,132,132,132,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,132,132,132,132,132,132,132,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131,131],height:32,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:19,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:214.5,y:241.5},{gid:356,height:108,id:45,name:"",rotation:0,type:"front",visible:!0,width:177,x:200,y:104},{gid:353,height:64,id:46,name:"",rotation:0,type:"",visible:!0,width:32,x:404.5,y:249.5},{gid:353,height:64,id:47,name:"",rotation:0,type:"",visible:!0,width:32,x:49.8333,y:248.833},{gid:194,height:32,id:48,name:"MarkerConscience",rotation:0,type:"",visible:!0,width:32,x:360,y:248},{gid:194,height:32,id:49,name:"MarkerConscience2",rotation:0,type:"",visible:!0,width:32,x:268,y:240},{gid:193,height:32,id:50,name:"Floor1BlueCar",rotation:0,type:"",visible:!0,width:32,x:416.333,y:351.333},{gid:194,height:32,id:51,name:"MarkerBlueCar1",rotation:0,type:"",visible:!0,width:32,x:-5.5,y:350.167},{gid:194,height:32,id:52,name:"MarkerBlueCar2",rotation:0,type:"",visible:!0,width:32,x:573,y:353},{gid:193,height:32,id:53,name:"Floor1GreenCar",rotation:0,type:"",visible:!0,width:32,x:591.5,y:403.5},{gid:193,height:32,id:54,name:"Floor1WhiteCar",rotation:0,type:"",visible:!0,width:32,x:-15.8333,y:297.833},{gid:194,height:32,id:55,name:"MarkerWhiteCar1",rotation:0,type:"",visible:!0,width:32,x:-72.5,y:308.5},{gid:194,height:32,id:56,name:"MarkerGreenCar1",rotation:0,type:"",visible:!0,width:32,x:-7.5,y:398.167},{gid:194,height:32,id:57,name:"MarkerGreenCar2",rotation:0,type:"",visible:!0,width:32,x:602.667,y:404},{gid:194,height:32,id:58,name:"MarkerWhiteCar2",rotation:0,type:"",visible:!0,width:32,x:580.5,y:302.167},{gid:194,height:32,id:59,name:"MarkerAdaStart",rotation:0,type:"",visible:!0,width:32,x:232.667,y:238},{gid:194,height:32,id:60,name:"MarkerWalker1",rotation:0,type:"",visible:!0,width:32,x:-68,y:220},{gid:194,height:32,id:61,name:"MarkerWalker2",rotation:0,type:"",visible:!0,width:32,x:589,y:215},{gid:193,height:32,id:62,name:"Floor1OutsideWalker1",rotation:0,type:"",visible:!0,width:32,x:73,y:221},{gid:193,height:32,id:63,name:"Floor1OutsideWalker2",rotation:0,type:"",visible:!0,width:32,x:310.5,y:221.5},{gid:193,height:32,id:64,name:"Floor1OutsideWalker3",rotation:0,type:"",visible:!0,width:32,x:154,y:224}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],yl=6,wl=65,bl="isometric",vl="right-down",xl="1.7.2",Tl=16,El=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"},{columns:8,firstgid:361,image:"../../res/walls256.png",imageheight:256,imagewidth:256,margin:0,name:"walls256",spacing:0,tilecount:8,tileheight:256,tilewidth:32}],_l=32,Cl="map",Al="1.6",Sl=32;var n6={compressionlevel:gl,height:ml,infinite:pl,layers:fl,nextlayerid:yl,nextobjectid:wl,orientation:bl,renderorder:vl,tiledversion:xl,tileheight:Tl,tilesets:El,tilewidth:_l,type:Cl,version:Al,width:Sl},o6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:gl,height:ml,infinite:pl,layers:fl,nextlayerid:yl,nextobjectid:wl,orientation:bl,renderorder:vl,tiledversion:xl,tileheight:Tl,tilesets:El,tilewidth:_l,type:Cl,version:Al,width:Sl,default:n6});const kl=-1,Rl=32,Ll=!1,Il=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,338,338,16,138,138,16,338,338,129,36,140,140,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,338,338,140,140,338,338,129,129,36,140,140,36,129,129,338,16,16,338,338,338,338,338,5,5,5,5,5,5,5,5,5,5,5,338,140,140,338,16,16,16,36,140,140,36,16,129,16,212,212,338,137,137,137,338,137,137,137,137,137,137,137,137,137,137,140,140,140,140,140,140,16,140,140,140,140,140,1,16,16,137,137,137,137,137,137,137,137,137,137,137,137,137,137,137,137,137,140,140,140,140,140,140,16,140,140,140,140,140,1,16,16,137,137,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,1,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,1,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,16,16,16,137,137,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,16,16,137,137,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,129,16,137,137,137,137,137,137,137,137,137,137,137,140,140,140,140,137,137,137,137,137,137,137,137,16,16,16,16,16,16,16,129,16,213,137,137,137,137,137,137,137,137,137,137,140,140,137,137,137,137,137,137,137,137,137,137,16,129,129,129,129,129,129,129,16,16,137,137,137,137,137,137,137,137,137,137,140,140,140,140,140,137,137,137,137,137,137,137,16,129,129,129,129,129,129,129,338,16,137,137,137,137,137,137,137,137,137,16,140,140,140,140,4,16,138,138,138,138,138,138,16,16,16,16,16,16,16,129,1,139,139,139,137,137,137,137,137,137,216,4,140,140,140,140,4,138,138,138,138,138,138,138,138,138,138,138,138,129,16,129,1,221,139,139,137,137,137,137,137,137,137,4,140,140,140,140,4,138,138,138,138,138,138,138,138,138,138,138,138,129,16,129,1,139,139,139,137,137,137,137,137,137,137,4,140,140,140,140,4,138,138,138,138,138,138,138,138,138,138,138,138,129,16,129,1,221,139,139,137,137,137,137,137,137,137,4,140,140,140,140,4,138,138,138,138,138,138,138,138,138,138,138,138,129,16,129,1,215,139,139,137,137,137,137,137,137,137,4,140,140,140,140,4,138,138,138,138,138,138,138,138,138,138,138,138,129,16,129,129,2,139,139,137,137,137,137,137,137,137,4,140,140,140,140,4,138,138,138,138,138,138,138,138,138,138,138,138,129,16,129,129,129,129,16,137,137,137,137,137,137,137,4,140,140,140,140,4,138,138,138,138,138,138,234,138,138,138,138,138,129,16,129,129,129,129,16,137,137,137,137,137,137,137,4,140,140,140,140,4,138,138,138,138,138,138,138,138,2,2,2,2,2,338,129,129,129,129,16,137,137,137,137,137,137,137,4,140,140,140,140,4,138,138,138,138,138,138,138,1,129,129,129,129,129,129,129,129,129,129,16,137,137,137,137,137,137,137,4,140,140,140,140,4,138,138,138,138,138,138,138,1,129,129,129,129,129,129,338,129,129,129,16,137,137,137,137,137,137,137,1,140,140,140,140,4,138,138,138,138,138,138,138,1,129,129,129,129,129,129,33,129,129,129,16,2,2,2,2,2,2,2,3,140,140,140,140,4,2,2,2,2,2,2,2,3,129,129,129,129,129,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,339,339,339,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,129,129,129,129,129,129,129,129,129,129,33,140,140,140,339,339,339,140,140,140,140,33,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,140,140,140,140,140,140,140,140,140,140,33,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,140,140,129,129,33,33,33,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,129,129,129,129,140,140,140,140,129,33,33,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,338,339,339,338,339,339,338,339,339,338,339,339,338,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,339,339,0,0,0,0,0,15,15,0,0,0,0,0,0,0,227,227,227,0,0,227,227,0,0,227,227,0,0,0,0,0,0,0,0,0,0,243,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,216,0,0,0,0,0,0,0,0,232,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,0,0,0,0,0,0,0,0,231,0,0,0,0,0,0,215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,0,0,0,0,0,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,230,0,230,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,229,0,229,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,0,0,0,0,0,1,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,233,234,234,234,234,234,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,230,0,230,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,229,0,229,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:19,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:90,y:224},{gid:200,height:32,id:42,name:"MarkerDoorEntrance",rotation:0,type:"",visible:!0,width:32,x:236,y:368},{gid:198,height:32,id:43,name:"MarkerFromBowling",rotation:0,type:"",visible:!0,width:32,x:358,y:80},{gid:193,height:32,id:45,name:"Floor1AtriumDeskEmployee",rotation:0,type:"",visible:!0,width:32,x:348,y:352},{gid:194,height:32,id:46,name:"MarkerDeskEmployeeWalk",rotation:0,type:"",visible:!0,width:32,x:340,y:256},{height:48,id:47,name:"#floor1-atrium-desk-employee",rotation:0,type:"",visible:!0,width:40,x:320,y:296},{gid:194,height:32,id:52,name:"MarkerNPCWalkA",rotation:0,type:"",visible:!0,width:32,x:359.375,y:126.625},{gid:194,height:32,id:53,name:"MarkerNPCWalkB",rotation:0,type:"",visible:!0,width:32,x:172.625,y:84.375},{gid:194,height:32,id:54,name:"MarkerNPCWalkC",rotation:0,type:"",visible:!0,width:32,x:150.125,y:130.375},{gid:194,height:32,id:55,name:"MarkerNPCWalkD",rotation:0,type:"",visible:!0,width:32,x:76,y:92},{gid:193,height:32,id:56,name:"Floor1AtriumTicTacToeGirl",rotation:0,type:"",visible:!0,width:32,x:52,y:208},{gid:198,height:32,id:60,name:"MarkerDoorTut",rotation:0,type:"",visible:!0,width:32,x:463.5,y:70.5},{gid:193,height:32,id:61,name:"Floor1AtriumEmployeeJason",rotation:0,type:"",visible:!0,width:32,x:462,y:60},{gid:194,height:32,id:62,name:"MarkerJasonB",rotation:0,type:"",visible:!0,width:32,x:423,y:67},{gid:194,height:32,id:63,name:"MarkerJasonA",rotation:0,type:"",visible:!0,width:32,x:443.5,y:74.5},{gid:194,height:32,id:64,name:"MarkerDoorTutTile",rotation:0,type:"",visible:!0,width:32,x:456,y:40},{gid:194,height:32,id:65,name:"MarkerTTTMachine",rotation:0,type:"",visible:!0,width:32,x:56,y:248},{gid:363,height:32,id:66,name:"",rotation:0,type:"",visible:!0,width:32,x:340,y:320},{gid:363,height:32,id:67,name:"",rotation:0,type:"",visible:!0,width:32,x:308,y:320},{gid:193,height:32,id:68,name:"Floor1PingPongGuyA",rotation:0,type:"",visible:!0,width:32,x:152,y:260},{gid:193,height:32,id:69,name:"Floor1PingPongGuyB",rotation:0,type:"",visible:!0,width:32,x:152,y:316},{height:60,id:70,name:"#floor1-atrium-TicTacToeMachine",rotation:0,type:"",visible:!0,width:32,x:44,y:224},{gid:194,height:32,id:72,name:"MarkerPingPong",rotation:0,type:"",visible:!0,width:32,x:152,y:288},{gid:193,height:32,id:73,name:"Floor1AtriumGreeterEmployee",rotation:0,type:"",visible:!0,width:32,x:222,y:156.667},{height:84,id:74,name:"#floor1-atrium-greeter-employee",rotation:0,type:"",visible:!0,width:76,x:204,y:204},{gid:194,height:32,id:75,name:"MarkerFloor1AtriumGreeterEmployeeWalk",rotation:0,type:"",visible:!0,width:32,x:222.667,y:217.333},{gid:194,height:32,id:76,name:"MarkerTTTMachineTile",rotation:0,type:"",visible:!0,width:32,x:36,y:244},{gid:194,height:32,id:79,name:"MarkerDoorBowling",rotation:0,type:"",visible:!0,width:32,x:342.5,y:41.5},{height:46,id:80,name:"#floor1-atriumOpenBowlingDoor",rotation:0,type:"",visible:!0,width:56,x:319,y:24.5},{gid:194,height:32,id:82,name:"MarkerDoorBowling2",rotation:0,type:"",visible:!0,width:32,x:361.5,y:42.5},{height:61,id:83,name:"#floor1-transitionToBowlingFromAtrium",rotation:0,type:"",visible:!0,width:56,x:318.5,y:-21},{gid:193,height:32,id:84,name:"Floor1AtriumPingPongSearcher",rotation:0,type:"",visible:!0,width:32,x:90.5,y:335.5},{gid:193,height:32,id:85,name:"Floor1AtriumNPC1",rotation:0,type:"",visible:!0,width:32,x:200.5,y:59.5},{gid:193,height:32,id:86,name:"Floor1AtriumNPC2",rotation:0,type:"",visible:!0,width:32,x:218.375,y:58.625},{gid:193,height:32,id:88,name:"FloorAtriumWalkingNPC",rotation:0,type:"",visible:!0,width:32,x:100.375,y:142.125},{gid:194,height:32,id:89,name:"MarkerAdaNPC1NPC2",rotation:0,type:"",visible:!0,width:32,x:210.25,y:91.75},{gid:357,height:35,id:93,name:"",rotation:0,type:"front",visible:!0,width:49,x:309.5,y:4.5},{height:46.5,id:94,name:"#floor1-atriumOpenNorthDoor",rotation:0,type:"",visible:!0,width:40,x:9.5,y:84.5},{gid:194,height:32,id:95,name:"MarkerDoorNorth1",rotation:0,type:"",visible:!0,width:32,x:27,y:119},{gid:194,height:32,id:96,name:"MarkerDoorNorth2",rotation:0,type:"",visible:!0,width:32,x:27.5,y:102.5},{gid:364,height:32,id:97,name:"",rotation:0,type:"",visible:!0,width:32,x:433,y:297},{gid:364,height:32,id:98,name:"",rotation:0,type:"",visible:!0,width:32,x:434,y:252},{height:75.5,id:101,name:"#floor1-transitionToPrimaryFromAtrium",rotation:0,type:"",visible:!0,width:25,x:-16,y:63.5},{gid:197,height:32,id:102,name:"MarkerFromPrimary",rotation:0,type:"",visible:!0,width:32,x:58.5,y:115.5},{gid:363,height:32,id:103,name:"",rotation:0,type:"20",visible:!0,width:32,x:412,y:42},{gid:372,height:32,id:104,name:"",rotation:0,type:"24",visible:!0,width:32,x:416,y:24},{height:52,id:109,name:"#floor1-OpenRedDoorsFWD",rotation:0,type:"",visible:!0,width:35.5,x:470,y:118},{gid:194,height:32,id:110,name:"MarkerRedDoorFWD1",rotation:0,type:"",visible:!0,width:32,x:491,y:151},{gid:194,height:32,id:111,name:"MarkerRedDoorFWD2",rotation:0,type:"",visible:!0,width:32,x:490,y:135.5},{gid:374,height:32,id:113,name:"",rotation:0,type:"",visible:!0,width:32,x:313.5,y:32.5},{gid:374,height:32,id:114,name:"",rotation:0,type:"",visible:!0,width:32,x:360.5,y:31.5},{gid:198,height:32,id:116,name:"MarkerDoorTut2",rotation:0,type:"",visible:!0,width:32,x:464,y:38},{gid:194,height:32,id:117,name:"MarkerDeskEmployeeWalk2",rotation:0,type:"",visible:!0,width:32,x:344,y:306},{gid:371,height:32,id:118,name:"",rotation:0,type:"front",visible:!0,width:32,x:30.5,y:7.5},{gid:372,height:32,id:119,name:"",rotation:0,type:"front",visible:!0,width:32,x:53.5,y:12.5},{gid:372,height:32,id:120,name:"",rotation:0,type:"front",visible:!0,width:32,x:54.5,y:-2.5},{height:51.5,id:122,name:"#floor1-transitionToFloor1East1FromFloor1Atrium",rotation:0,type:"",visible:!0,width:18.5,x:504,y:117.5},{gid:194,height:32,id:124,name:"MarkerFromEast1",rotation:0,type:"",visible:!0,width:32,x:464.5,y:141.5},{gid:372,height:32,id:125,name:"",rotation:0,type:"24",visible:!0,width:32,x:400,y:24},{gid:371,height:32,id:127,name:"",rotation:0,type:"24",visible:!0,width:32,x:392,y:34},{gid:371,height:32,id:128,name:"",rotation:0,type:"24",visible:!0,width:32,x:392,y:50},{gid:372,height:32,id:130,name:"",rotation:0,type:"front",visible:!0,width:32,x:82,y:26},{gid:371,height:32,id:131,name:"",rotation:0,type:"front",visible:!0,width:32,x:58.5,y:35.5},{height:16.5,id:132,name:"#floor1Atrium-SnackVending",rotation:0,type:"",visible:!0,width:36,x:28.5,y:61.5},{gid:361,height:32,id:133,name:"",rotation:0,type:"front",visible:!0,width:32,x:430,y:222},{gid:361,height:32,id:134,name:"",rotation:0,type:"front",visible:!0,width:32,x:284,y:318},{gid:194,height:32,id:135,name:"MarkerGreeterA",rotation:0,type:"",visible:!0,width:32,x:213.5,y:158.5},{gid:194,height:32,id:136,name:"MarkerGreeterB",rotation:0,type:"",visible:!0,width:32,x:260,y:158},{gid:194,height:32,id:137,name:"MarkerPingPongB",rotation:0,type:"",visible:!0,width:32,x:137,y:217},{gid:194,height:32,id:138,name:"MarkerGreeterC",rotation:0,type:"",visible:!0,width:32,x:220,y:180}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],Ol=7,Pl=139,Ml="isometric",Dl="right-down",Nl="1.7.2",Bl=16,$l=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"},{columns:16,firstgid:361,image:"../../res/props_small.png",imageheight:512,imagewidth:512,margin:0,name:"props_small",spacing:0,tilecount:256,tileheight:32,tilewidth:32}],Wl=32,Gl="map",Fl="1.6",Hl=32;var r6={compressionlevel:kl,height:Rl,infinite:Ll,layers:Il,nextlayerid:Ol,nextobjectid:Pl,orientation:Ml,renderorder:Dl,tiledversion:Nl,tileheight:Bl,tilesets:$l,tilewidth:Wl,type:Gl,version:Fl,width:Hl},a6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:kl,height:Rl,infinite:Ll,layers:Il,nextlayerid:Ol,nextobjectid:Pl,orientation:Ml,renderorder:Dl,tiledversion:Nl,tileheight:Bl,tilesets:$l,tilewidth:Wl,type:Gl,version:Fl,width:Hl,default:r6});const Ul=-1,Kl=24,zl=!1,jl=[{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,37,37,37,37,37,37,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,139,139,139,139,139,139,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,139,139,139,139,139,139,37,0,0,0,0,0,148,148,148,148,149,149,149,130,0,0,0,37,139,139,139,139,139,139,37,0,130,150,150,150,150,150,150,150,149,149,149,130,130,130,0,37,139,139,139,139,139,139,37,33,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,38,38,38,38,38,38,37,37,38,151,151,151,151,151,151,151,149,149,149,149,149,149,149,140,140,140,140,140,140,140,37,37,148,148,148,148,148,148,148,148,149,149,149,149,149,149,149,140,140,140,140,140,140,140,37,37,38,150,150,150,150,150,150,150,149,149,38,149,149,149,149,38,140,140,140,140,140,140,37,37,38,151,151,151,151,151,151,151,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,37,148,148,148,148,148,148,148,148,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,37,38,150,150,150,150,150,150,150,149,149,38,149,149,149,149,38,140,140,140,140,140,140,37,37,38,151,151,151,151,151,151,151,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,37,148,148,148,148,148,148,148,148,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,37,38,150,150,150,150,150,150,150,149,149,38,149,149,149,149,38,140,140,140,140,140,140,37,37,38,151,151,151,151,151,151,151,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,37,148,148,148,148,148,148,148,148,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,37,38,150,150,150,150,150,150,150,149,149,38,149,149,149,149,38,140,140,140,140,140,140,37,37,38,148,148,148,148,148,148,148,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,37,130,130,130,130,130,130,130,130,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,33,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,140,140,37,37,37,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,140,140,33,0,0,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,140,140,33,0,0,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33],height:24,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:24,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,243,243,243,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,241,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,241,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,241,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,241,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:24,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:24,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:19,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:311,y:173},{gid:200,height:32,id:43,name:"MarkerFromAtrium",rotation:0,type:"",visible:!0,width:32,x:309.5,y:308.5},{gid:337,height:32,id:115,name:"",rotation:0,type:"",visible:!0,width:32,x:253.5,y:254.5},{gid:337,height:32,id:118,name:"",rotation:0,type:"",visible:!0,width:32,x:252,y:220},{gid:337,height:32,id:119,name:"",rotation:0,type:"",visible:!0,width:32,x:252.5,y:187.5},{gid:337,height:32,id:120,name:"",rotation:0,type:"",visible:!0,width:32,x:252,y:156},{gid:337,height:32,id:121,name:"",rotation:0,type:"",visible:!0,width:32,x:252,y:124},{gid:194,height:32,id:132,name:"MarkerWalkA",rotation:0,type:"",visible:!0,width:32,x:281,y:257},{gid:194,height:32,id:133,name:"MarkerWalkB",rotation:0,type:"",visible:!0,width:32,x:280,y:150},{gid:193,height:32,id:134,name:"Floor1BowlingGirl",rotation:0,type:"",visible:!0,width:32,x:279.5,y:232.5},{gid:345,height:32,id:135,name:"",rotation:0,type:"24",visible:!0,width:32,x:322.5,y:27.5},{gid:345,height:32,id:136,name:"",rotation:0,type:"24",visible:!0,width:32,x:315,y:11},{gid:345,height:32,id:137,name:"",rotation:0,type:"12",visible:!0,width:32,x:292,y:28},{gid:345,height:32,id:138,name:"",rotation:0,type:"24",visible:!0,width:32,x:287,y:11},{gid:193,height:32,id:139,name:"Floor1BowlingEmployee",rotation:0,type:"",visible:!0,width:32,x:310,y:70},{height:34,id:140,name:"#floor1-bowling-prevent-bowling",rotation:0,type:"",visible:!0,width:22,x:231.375,y:92.625},{height:40,id:145,name:"#floor1-bowling-employee",rotation:0,type:"",visible:!0,width:63.5,x:279,y:68},{gid:194,height:32,id:146,name:"MarkerBowlReady",rotation:0,type:"",visible:!0,width:32,x:168.636,y:114.818},{gid:194,height:32,id:147,name:"MarkerBowlBall",rotation:0,type:"",visible:!0,width:32,x:150.074,y:116.972},{gid:343,height:32,id:148,name:"",rotation:0,type:"",visible:!0,width:32,x:253.5,y:268.5},{gid:343,height:32,id:149,name:"",rotation:0,type:"",visible:!0,width:32,x:254,y:238},{gid:343,height:32,id:150,name:"",rotation:0,type:"",visible:!0,width:32,x:253.5,y:204.5},{gid:343,height:32,id:151,name:"",rotation:0,type:"",visible:!0,width:32,x:253.375,y:172.375},{gid:343,height:32,id:152,name:"",rotation:0,type:"",visible:!0,width:32,x:253.5,y:140.5},{gid:343,height:32,id:154,name:"",rotation:0,type:"",visible:!0,width:32,x:265.5,y:80.5},{gid:343,height:32,id:155,name:"",rotation:0,type:"24",visible:!0,width:32,x:263.5,y:72.5},{gid:343,height:32,id:156,name:"",rotation:0,type:"",visible:!0,width:32,x:272,y:82},{gid:343,height:32,id:157,name:"",rotation:0,type:"",visible:!0,width:32,x:271,y:73},{gid:337,height:32,id:158,name:"",rotation:0,type:"",visible:!0,width:32,x:254,y:286},{gid:194,height:32,id:159,name:"MarkerPreventBowling",rotation:0,type:"",visible:!0,width:32,x:269.457,y:109.696},{height:29,id:160,name:"#floor1-transitionToAtriumFromBowling",rotation:0,type:"",visible:!0,width:33,x:284,y:350},{gid:346,height:32,id:162,name:"",rotation:0,type:"-10",visible:!0,width:32,x:18.5,y:123.5},{gid:346,height:32,id:163,name:"",rotation:0,type:"-10",visible:!0,width:32,x:18.5,y:171.5},{gid:346,height:32,id:164,name:"",rotation:0,type:"-10",visible:!0,width:32,x:17.5,y:218.5},{gid:346,height:32,id:165,name:"",rotation:0,type:"-10",visible:!0,width:32,x:17.5,y:266.5},{gid:347,height:32,id:166,name:"",rotation:0,type:"",visible:!0,width:32,x:-4.5,y:100.5},{gid:347,height:32,id:167,name:"",rotation:0,type:"",visible:!0,width:32,x:-4.5,y:148.5},{gid:347,height:32,id:168,name:"",rotation:0,type:"",visible:!0,width:32,x:-5.5,y:195.5},{gid:347,height:32,id:170,name:"",rotation:0,type:"",visible:!0,width:32,x:-5.5,y:243.5},{gid:349,height:32,id:171,name:"",rotation:0,type:"",visible:!0,width:32,x:52,y:84},{gid:350,height:32,id:172,name:"",rotation:0,type:"",visible:!0,width:32,x:99.5,y:82.5},{gid:351,height:32,id:183,name:"",rotation:0,type:"",visible:!0,width:32,x:293.5,y:74.5},{gid:351,height:32,id:184,name:"",rotation:0,type:"",visible:!0,width:32,x:294,y:68},{gid:352,height:32,id:185,name:"",rotation:0,type:"",visible:!0,width:32,x:294.5,y:57.5},{gid:352,height:32,id:186,name:"",rotation:0,type:"",visible:!0,width:32,x:295,y:51},{gid:347,height:32,id:189,name:"",rotation:0,type:"",visible:!0,width:32,x:251,y:29},{gid:598,height:55,id:190,name:"",rotation:0,type:"front",visible:!0,width:75,x:309,y:9},{height:41.5,id:191,name:"#floor1-OpenRedDoorsBCK",rotation:0,type:"",visible:!0,width:48,x:276,y:312.5},{gid:194,height:32,id:192,name:"MarkerRedDoorBCK1",rotation:0,type:"",visible:!0,width:32,x:293.5,y:347.5},{gid:194,height:32,id:193,name:"MarkerRedDoorBCK2",rotation:0,type:"",visible:!0,width:32,x:311.5,y:347.5}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],Yl=7,Vl=195,ql="isometric",Xl="right-down",Ql="1.7.2",Zl=16,Jl=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:16,firstgid:337,image:"../../res/props_small.png",imageheight:512,imagewidth:512,margin:0,name:"props_small",spacing:0,tilecount:256,tileheight:32,tilewidth:32},{firstgid:593,source:"../../res/props-dynamic.tiled-sheet.tsx"}],ec=32,tc="map",ic="1.6",nc=24;var s6={compressionlevel:Ul,height:Kl,infinite:zl,layers:jl,nextlayerid:Yl,nextobjectid:Vl,orientation:ql,renderorder:Xl,tiledversion:Ql,tileheight:Zl,tilesets:Jl,tilewidth:ec,type:tc,version:ic,width:nc},l6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:Ul,height:Kl,infinite:zl,layers:jl,nextlayerid:Yl,nextobjectid:Vl,orientation:ql,renderorder:Xl,tiledversion:Ql,tileheight:Zl,tilesets:Jl,tilewidth:ec,type:tc,version:ic,width:nc,default:s6});const oc=-1,rc=32,ac=!1,sc=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,139,140,140,140,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,140,140,37,140,129,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,140,140,37,140,140,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,16,16,16,16,37,140,140,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,139,139,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,139,139,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,139,139,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,139,139,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,139,139,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,139,139,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,139,139,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,139,139,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,129,129,129,16,139,139,139,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,139,139,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,139,139,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,139,139,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,140,140,140,140,140,140,140,140,16,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,129,16,140,140,140,140,140,140,140,140,140,140,129,129,129,129,129,338,338,338,338,338,338,338,338,338,338,338,338,338,338,338,338,338,140,140,140,140,140,140,140,140,140,140,129,129,129,129,129,338,130,130,130,338,338,130,130,130,338,338,130,130,130,338,142,338,140,140,140,140,140,140,140,140,16,16,129,129,129,33,33,338,130,130,130,338,338,130,130,130,338,338,130,130,130,338,338,338,140,140,140,140,140,140,140,140,16,129,129,129,129,33,142,142,142,142,142,142,142,142,142,142,142,142,142,142,142,142,142,16,140,140,140,140,140,140,140,140,16,129,129,129,33,33,33,142,142,142,142,142,142,142,142,142,142,142,142,142,142,142,142,142,140,140,140,140,140,140,140,140,16,129,129,129,129,33,142,142,142,142,142,142,142,142,142,142,142,142,142,142,142,142,142,142,140,140,140,140,140,140,140,140,16,129,129,129,33,33,33,142,142,142,142,142,142,142,142,142,142,142,142,142,142,142,142,16,140,140,140,140,140,140,140,140,16,129,129,129,129,33,142,142,142,142,142,142,142,142,142,142,142,142,142,142,0,142,0,33,33,33,33,33,33,33,33,33,33,129,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,223,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,223,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,223,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,7,7,0,0,9,7,7,0,0,9,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:199,height:32,id:101,name:"MarkerFromAtrium",rotation:0,type:"",visible:!0,width:32,x:442.5,y:366.5},{height:41,id:102,name:"#floor1-openDoorsToAtriumFromPrimary",rotation:0,type:"",visible:!0,width:31,x:462,y:346},{gid:194,height:32,id:103,name:"MarkerDoorToAtrium1",rotation:0,type:"",visible:!0,width:32,x:488.5,y:377},{gid:194,height:32,id:104,name:"MarkerDoorToAtrium2",rotation:0,type:"",visible:!0,width:32,x:488,y:359.5},{height:41,id:105,name:"#floor1-transitionToAtriumFromPrimary",rotation:0,type:"",visible:!0,width:22.5,x:491,y:346.5},{gid:193,height:32,id:107,name:"Floor1PrimaryGuy1",rotation:0,type:"",visible:!0,width:32,x:377.5,y:270.5},{gid:193,height:32,id:108,name:"Floor1PrimaryGuy2",rotation:0,type:"",visible:!0,width:32,x:378.5,y:201.5},{gid:193,height:32,id:109,name:"Floor1PrimaryGirl1",rotation:0,type:"",visible:!0,width:32,x:379,y:169},{gid:194,height:32,id:110,name:"MarkerFloor1PrimaryGuy2-Floor1PrimaryGirl1-convo",rotation:0,type:"",visible:!0,width:32,x:424.5,y:235.5},{gid:194,height:32,id:111,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:396,y:414},{gid:194,height:32,id:112,name:"MarkerFromWest1",rotation:0,type:"",visible:!0,width:32,x:449,y:166.5},{height:29.5,id:113,name:"#floor1-OpenRedDoorsBCK",rotation:0,type:"",visible:!0,width:48,x:422.5,y:129.5},{gid:194,height:32,id:114,name:"MarkerRedDoorBCK1",rotation:0,type:"",visible:!0,width:32,x:441.5,y:140},{gid:194,height:32,id:115,name:"MarkerRedDoorBCK2",rotation:0,type:"",visible:!0,width:32,x:458,y:139.5},{height:24.5,id:116,name:"#floor1-transitionToFloor1West1FromFloor1Primary",rotation:0,type:"",visible:!0,width:32.5,x:431,y:109.5},{height:47.5,id:119,name:"#floor1-OpenRedDoorsToElevatorFWD",rotation:0,type:"",visible:!0,width:52.5,x:318.5,y:421.5},{gid:194,height:32,id:120,name:"MarkerRedDoorFWD1",rotation:0,type:"",visible:!0,width:32,x:349,y:457},{gid:194,height:32,id:121,name:"MarkerRedDoorFWD2",rotation:0,type:"",visible:!0,width:32,x:348.5,y:439.5},{gid:194,height:32,id:122,name:"MarkerDoorElevator2",rotation:0,type:"",visible:!0,width:32,x:201.5,y:411.5},{gid:194,height:32,id:123,name:"MarkerElevatorInside2",rotation:0,type:"",visible:!0,width:32,x:206,y:391},{gid:193,height:32,id:124,name:"Floor1AtriumElevatorEmployee",rotation:0,type:"",visible:!0,width:32,x:360.5,y:411.5},{height:16,id:126,name:"#floor1-call-elevator",rotation:0,type:"",visible:!0,width:24,x:169,y:413},{height:16,id:127,name:"#floor1-call-elevator",rotation:0,type:"",visible:!0,width:24,x:93,y:414},{height:16,id:128,name:"#floor1-call-elevator",rotation:0,type:"",visible:!0,width:24,x:249.5,y:412.5},{gid:194,height:32,id:129,name:"MarkerElevatorInside1",rotation:0,type:"",visible:!0,width:32,x:124.5,y:394.5},{gid:194,height:32,id:130,name:"MarkerElevatorInside3",rotation:0,type:"",visible:!0,width:32,x:284.5,y:394.5},{gid:380,height:32,id:131,name:"PropElevatorLight1",rotation:0,type:"front",visible:!0,width:32,x:95.5,y:405.5},{gid:380,height:32,id:132,name:"PropElevatorLight2",rotation:0,type:"front",visible:!0,width:32,x:175.5,y:405.5},{gid:380,height:32,id:133,name:"PropElevatorLight3",rotation:0,type:"front",visible:!0,width:32,x:256.5,y:406.5},{gid:194,height:32,id:134,name:"MarkerDoorElevator1",rotation:0,type:"",visible:!0,width:32,x:126,y:413},{gid:194,height:32,id:135,name:"MarkerDoorElevator3",rotation:0,type:"",visible:!0,width:32,x:283,y:412},{gid:380,height:32,id:136,name:"PropDoorLight1",rotation:0,type:"front",visible:!0,width:32,x:342,y:414},{gid:380,height:32,id:137,name:"PropDoorLight2",rotation:0,type:"front",visible:!0,width:32,x:348,y:416},{gid:380,height:32,id:138,name:"PropDoorLight3",rotation:0,type:"front",visible:!0,width:32,x:346,y:422},{gid:380,height:32,id:140,name:"PropDoorLight4",rotation:0,type:"front",visible:!0,width:32,x:352,y:424},{gid:194,height:32,id:142,name:"MarkerMoveBack",rotation:0,type:"",visible:!0,width:32,x:385,y:435},{gid:194,height:32,id:143,name:"MarkerDoorElevatorWait",rotation:0,type:"",visible:!0,width:32,x:210.5,y:451.5},{gid:371,height:32,id:144,name:"",rotation:0,type:"front",visible:!0,width:32,x:326.5,y:335.5},{gid:371,height:32,id:145,name:"",rotation:0,type:"front",visible:!0,width:32,x:326.5,y:319.5},{gid:371,height:32,id:146,name:"",rotation:0,type:"front",visible:!0,width:32,x:326.5,y:303.5},{gid:371,height:32,id:147,name:"",rotation:0,type:"front",visible:!0,width:32,x:326.5,y:287.5},{gid:371,height:32,id:148,name:"",rotation:0,type:"front",visible:!0,width:32,x:326.5,y:271.5},{gid:371,height:32,id:149,name:"",rotation:0,type:"front",visible:!0,width:32,x:326.5,y:255.5},{gid:371,height:32,id:150,name:"",rotation:0,type:"front",visible:!0,width:32,x:326.5,y:239.5},{gid:371,height:32,id:151,name:"",rotation:0,type:"front",visible:!0,width:32,x:326.5,y:223.5},{gid:371,height:32,id:152,name:"",rotation:0,type:"front",visible:!0,width:32,x:326.5,y:207.5},{gid:371,height:32,id:153,name:"",rotation:0,type:"front",visible:!0,width:32,x:326.5,y:191.5},{gid:371,height:32,id:154,name:"",rotation:0,type:"front",visible:!0,width:32,x:326.5,y:175.5},{gid:371,height:32,id:155,name:"",rotation:0,type:"front",visible:!0,width:32,x:326.5,y:159.5},{gid:371,height:32,id:156,name:"",rotation:0,type:"front",visible:!0,width:32,x:326.5,y:143.5},{gid:371,height:32,id:157,name:"",rotation:0,type:"front",visible:!0,width:32,x:326.5,y:127.5},{gid:193,height:32,id:165,name:"Floor1ShadyPerson",rotation:0,type:"",visible:!0,width:32,x:89.5,y:448.5}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],lc=7,cc=166,dc="isometric",uc="right-down",hc="1.7.2",gc=16,mc=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"},{columns:16,firstgid:361,image:"../../res/props_small.png",imageheight:512,imagewidth:512,margin:0,name:"props_small",spacing:0,tilecount:256,tileheight:32,tilewidth:32}],pc=32,fc="map",yc="1.6",wc=32;var c6={compressionlevel:oc,height:rc,infinite:ac,layers:sc,nextlayerid:lc,nextobjectid:cc,orientation:dc,renderorder:uc,tiledversion:hc,tileheight:gc,tilesets:mc,tilewidth:pc,type:fc,version:yc,width:wc},d6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:oc,height:rc,infinite:ac,layers:sc,nextlayerid:lc,nextobjectid:cc,orientation:dc,renderorder:uc,tiledversion:hc,tileheight:gc,tilesets:mc,tilewidth:pc,type:fc,version:yc,width:wc,default:c6});const bc=-1,vc=32,xc=!1,Tc=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,37,37,37,338,37,37,37,37,37,37,37,37,37,37,37,37,37,37,129,129,129,129,129,129,129,129,129,129,129,129,129,37,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,37,129,129,129,129,129,129,129,129,129,129,37,37,37,37,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,37,129,129,129,129,129,129,129,129,129,129,37,139,139,139,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,37,129,129,129,129,129,129,129,129,129,129,37,139,139,139,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,129,129,129,129,129,129,129,129,129,37,139,140,139,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,129,129,129,129,129,129,129,129,129,37,139,139,139,140,140,140,338,140,140,140,140,140,140,140,140,140,140,140,140,140,37,129,129,129,129,129,129,129,129,129,129,37,139,139,139,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,37,129,129,129,129,129,129,129,129,129,129,37,139,139,139,140,140,140,140,140,140,139,139,139,139,139,139,139,139,139,140,140,37,129,129,129,129,129,129,129,129,129,129,37,139,139,139,140,140,140,140,140,140,139,139,139,139,139,139,139,139,139,37,37,37,129,129,129,129,129,129,129,129,129,129,37,139,140,139,140,140,140,140,140,140,139,139,139,139,139,139,139,139,37,129,129,129,129,129,129,129,129,129,129,129,129,129,37,139,139,139,140,140,140,140,140,140,139,139,139,139,139,139,139,139,37,129,129,129,129,129,129,129,129,129,129,129,129,129,37,139,139,139,140,140,140,338,140,140,139,139,139,139,139,139,139,139,37,129,129,129,129,129,129,129,129,129,129,129,129,129,37,37,37,139,140,140,140,140,140,140,139,139,139,139,139,139,139,139,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,140,140,140,140,140,140,139,139,139,139,139,139,139,139,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,140,140,140,140,140,140,139,139,139,139,139,139,139,139,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,140,140,140,140,140,140,139,139,37,37,37,37,37,37,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,140,140,140,140,140,140,140,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,140,140,140,140,140,140,140,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,140,140,140,140,140,140,140,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,140,140,140,140,140,140,140,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,37,37,140,140,37,37,37,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,140,140,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,216,226,0,0,0,0,0,0,0,0,0,0,227,227,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,227,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,233,234,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,239,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,0,0,246,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,235,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,0,0,246,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:111,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:270.5,y:177.5},{height:52,id:112,name:"#floor1-OpenRedDoorsFWD",rotation:0,type:"",visible:!0,width:31,x:387.5,y:148.5},{gid:194,height:32,id:113,name:"MarkerRedDoorFWD1",rotation:0,type:"",visible:!0,width:32,x:409.5,y:182},{gid:194,height:32,id:114,name:"MarkerRedDoorFWD2",rotation:0,type:"",visible:!0,width:32,x:409,y:164.5},{height:41,id:115,name:"#floor1-transitionToFloor1West2FromFloor1West1",rotation:0,type:"",visible:!0,width:22.5,x:411,y:153},{height:28,id:116,name:"#floor1-OpenRedDoorsBCK",rotation:0,type:"",visible:!0,width:48,x:150.5,y:416},{gid:194,height:32,id:117,name:"MarkerRedDoorBCK1",rotation:0,type:"",visible:!0,width:32,x:168,y:442},{gid:194,height:32,id:118,name:"MarkerRedDoorBCK2",rotation:0,type:"",visible:!0,width:32,x:186,y:442},{height:23,id:120,name:"#floor1-transitionToFloor1PrimaryFromFloor1West1",rotation:0,type:"",visible:!0,width:32.5,x:158,y:440},{gid:194,height:32,id:121,name:"MarkerFromPrimary",rotation:0,type:"",visible:!0,width:32,x:174.5,y:407.5},{gid:194,height:32,id:122,name:"MarkerFromFloor1West2",rotation:0,type:"",visible:!0,width:32,x:375.5,y:174.5},{gid:373,height:32,id:123,name:"",rotation:0,type:"front",visible:!0,width:32,x:87,y:127},{gid:384,height:32,id:124,name:"",rotation:0,type:"front",visible:!0,width:32,x:109.5,y:318.5},{gid:366,height:32,id:125,name:"",rotation:0,type:"12",visible:!0,width:32,x:240.5,y:143.5},{gid:387,height:32,id:126,name:"",rotation:0,type:"front",visible:!0,width:32,x:212,y:92},{gid:389,height:32,id:127,name:"",rotation:0,type:"front",visible:!0,width:32,x:318,y:94},{gid:194,height:32,id:128,name:"MarkerBoxCenter",rotation:0,type:"",visible:!0,width:32,x:270,y:270},{gid:194,height:32,id:129,name:"MarkerBoxLeft",rotation:0,type:"",visible:!0,width:32,x:246.5,y:279.5},{gid:194,height:32,id:130,name:"MarkerBoxTop",rotation:0,type:"",visible:!0,width:32,x:264.5,y:249.5},{gid:194,height:32,id:131,name:"MarkerBoxBottom",rotation:0,type:"",visible:!0,width:32,x:281,y:295},{gid:194,height:32,id:132,name:"MarkerBoxRight",rotation:0,type:"",visible:!0,width:32,x:295,y:261},{gid:392,height:32,id:133,name:"",rotation:0,type:"16",visible:!0,width:32,x:220,y:142},{gid:193,height:32,id:134,name:"Floor1SaveRoomEmployee",rotation:0,type:"",visible:!0,width:32,x:245,y:135},{gid:194,height:32,id:135,name:"MarkerKioskStats",rotation:0,type:"",visible:!0,width:32,x:102,y:260},{height:56,id:136,name:"#utils-kioskStats",rotation:0,type:"",visible:!0,width:56,x:74,y:232},{gid:194,height:32,id:138,name:"MarkerSavePoint",rotation:0,type:"",visible:!0,width:32,x:104,y:184},{height:60,id:139,name:"#utils-kioskSavePoint",rotation:0,type:"",visible:!0,width:55,x:77,y:152},{height:108.5,id:141,name:"#utils-kioskInfoStats",rotation:0,type:"",visible:!0,width:109.5,x:221.5,y:222.5},{gid:360,height:49,id:142,name:"",rotation:0,type:"front",visible:!0,width:84,x:155.5,y:116.5},{gid:360,height:49,id:143,name:"",rotation:0,type:"front",visible:!0,width:84,x:154,y:211}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],Ec=7,_c=144,Cc="isometric",Ac="right-down",Sc="1.7.2",kc=16,Rc=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"},{columns:16,firstgid:361,image:"../../res/props_small.png",imageheight:512,imagewidth:512,margin:0,name:"props_small",spacing:0,tilecount:256,tileheight:32,tilewidth:32}],Lc=32,Ic="map",Oc="1.6",Pc=32;var u6={compressionlevel:bc,height:vc,infinite:xc,layers:Tc,nextlayerid:Ec,nextobjectid:_c,orientation:Cc,renderorder:Ac,tiledversion:Sc,tileheight:kc,tilesets:Rc,tilewidth:Lc,type:Ic,version:Oc,width:Pc},h6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:bc,height:vc,infinite:xc,layers:Tc,nextlayerid:Ec,nextobjectid:_c,orientation:Cc,renderorder:Ac,tiledversion:Sc,tileheight:kc,tilesets:Rc,tilewidth:Lc,type:Ic,version:Oc,width:Pc,default:u6});const Mc=-1,Dc=32,Nc=!1,Bc=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,33,33,33,33,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,149,149,149,149,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,16,149,149,0,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,149,149,149,149,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,149,149,149,149,33,129,129,129,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,2,2,2,2,2,33,149,149,149,149,33,2,2,16,210,16,2,2,2,16,129,129,129,129,129,129,129,129,129,129,129,37,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,16,129,0,129,129,129,129,129,129,129,129,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,129,129,129,129,129,129,129,129,129,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,129,129,129,129,129,129,129,129,129,129,37,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,37,2,2,2,2,2,140,140,140,140,140,2,2,2,2,2,2,2,2,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,149,149,149,149,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,149,149,149,149,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,149,149,149,149,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,16,149,149,16,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,149,149,149,149,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,33,33,33,33,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,25,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,216,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,25,2,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:376,height:32,id:111,name:"",rotation:0,type:"",visible:!0,width:32,x:163,y:181},{gid:376,height:32,id:113,name:"",rotation:0,type:"2",visible:!0,width:32,x:160.5,y:323.5},{gid:377,height:32,id:114,name:"",rotation:0,type:"",visible:!0,width:32,x:166.5,y:205.5},{gid:378,height:32,id:115,name:"",rotation:0,type:"10",visible:!0,width:32,x:169.5,y:288.5},{gid:194,height:32,id:116,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:282.5,y:251.5},{height:41,id:117,name:"#floor1-OpenRedDoorsFWD",rotation:0,type:"",visible:!0,width:32,x:49,y:233},{gid:194,height:32,id:118,name:"MarkerRedDoorFWD1",rotation:0,type:"",visible:!0,width:32,x:60.5,y:265.5},{gid:194,height:32,id:119,name:"MarkerRedDoorFWD2",rotation:0,type:"",visible:!0,width:32,x:57.5,y:246},{height:41,id:120,name:"#floor1-transitionToFloor1West1FromFloor1West2",rotation:0,type:"",visible:!0,width:22.5,x:29.5,y:232.5},{gid:194,height:32,id:128,name:"MarkerFromFloor1West1",rotation:0,type:"",visible:!0,width:32,x:91,y:253},{height:41,id:129,name:"#floor1-OpenRedDoorsFWD2",rotation:0,type:"",visible:!0,width:32,x:353.5,y:234.5},{gid:194,height:32,id:130,name:"MarkerFromEast2",rotation:0,type:"",visible:!0,width:32,x:351,y:253},{gid:201,height:32,id:131,name:"ItemRezGem",rotation:0,type:"",visible:!0,width:32,x:171.5,y:154.5},{gid:201,height:32,id:132,name:"ItemRezGem",rotation:0,type:"",visible:!0,width:32,x:174,y:382},{gid:194,height:32,id:133,name:"MarkerRedDoorFWD21",rotation:0,type:"",visible:!0,width:32,x:381.5,y:267},{gid:194,height:32,id:134,name:"MarkerRedDoorFWD22",rotation:0,type:"",visible:!0,width:32,x:378.5,y:247.5},{height:41,id:135,name:"#floor1-transitionFromFloor1West2ToFloor1East2",rotation:0,type:"",visible:!0,width:22.5,x:384.5,y:235.5},{gid:384,height:32,id:136,name:"",rotation:0,type:"front",visible:!0,width:32,x:81,y:201},{gid:386,height:32,id:137,name:"",rotation:0,type:"front",visible:!0,width:32,x:241,y:201},{gid:387,height:32,id:138,name:"",rotation:0,type:"front",visible:!0,width:32,x:140.5,y:165.5},{gid:387,height:32,id:139,name:"",rotation:0,type:"24",visible:!0,width:32,x:137.5,y:306.5},{gid:194,height:32,id:140,name:"MarkerBoysBathroomOutside",rotation:0,type:"",visible:!0,width:32,x:202.5,y:235.5},{gid:194,height:32,id:141,name:"MarkerBoysBathroomInside",rotation:0,type:"",visible:!0,width:32,x:201,y:197},{gid:194,height:32,id:143,name:"MarkerGirlsBathroomOutside",rotation:0,type:"",visible:!0,width:32,x:200.5,y:279.5},{gid:194,height:32,id:144,name:"MarkerGirlsBathroomInside",rotation:0,type:"",visible:!0,width:32,x:204,y:324},{height:13.5,id:145,name:"#floor1-enterBoysBathroom",rotation:0,type:"",visible:!0,width:26.5,x:186,y:224},{height:21.5,id:147,name:"#floor1-enterGirlsBathroom",rotation:0,type:"",visible:!0,width:34.5,x:179,y:279},{gid:194,height:32,id:148,name:"MarkerDoorBoysBathroom",rotation:0,type:"",visible:!0,width:32,x:203.5,y:218.5},{gid:194,height:32,id:149,name:"MarkerDoorGirlsBathroom",rotation:0,type:"",visible:!0,width:32,x:202,y:298},{height:13.5,id:150,name:"#floor1-exitBoysBathroom",rotation:0,type:"",visible:!0,width:44.5,x:169.5,y:194.5},{height:13.5,id:152,name:"#floor1-exitGirlsBathroom",rotation:0,type:"",visible:!0,width:44.5,x:175,y:303},{height:15,id:153,name:"#floor1-show-soda-machine-store",rotation:0,type:"",visible:!0,width:35,x:276.5,y:221.5}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],$c=7,Wc=154,Gc="isometric",Fc="right-down",Hc="1.7.2",Uc=16,Kc=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"},{columns:16,firstgid:360,image:"../../res/props_small.png",imageheight:512,imagewidth:512,margin:0,name:"props_small",spacing:0,tilecount:256,tileheight:32,tilewidth:32}],zc=32,jc="map",Yc="1.6",Vc=32;var g6={compressionlevel:Mc,height:Dc,infinite:Nc,layers:Bc,nextlayerid:$c,nextobjectid:Wc,orientation:Gc,renderorder:Fc,tiledversion:Hc,tileheight:Uc,tilesets:Kc,tilewidth:zc,type:jc,version:Yc,width:Vc},m6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:Mc,height:Dc,infinite:Nc,layers:Bc,nextlayerid:$c,nextobjectid:Wc,orientation:Gc,renderorder:Fc,tiledversion:Hc,tileheight:Uc,tilesets:Kc,tilewidth:zc,type:jc,version:Yc,width:Vc,default:g6});const qc=-1,Xc=32,Qc=!1,Zc=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,338,338,338,338,338,338,338,338,338,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,39,140,140,39,129,129,129,338,338,338,129,129,129,129,338,338,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,39,140,140,39,129,129,129,338,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,39,140,140,39,129,129,129,338,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,39,140,140,39,129,129,129,338,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,39,140,140,39,39,39,338,338,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,0,0,129,129,129,39,140,140,140,140,140,338,338,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,338,338,338,338,338,338,338,338,140,140,140,140,140,338,338,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,338,139,139,139,139,139,139,139,140,140,140,140,140,140,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,338,139,139,139,139,139,139,139,140,140,140,140,140,140,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,338,139,139,139,139,139,139,139,140,140,140,140,140,140,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,338,139,139,139,139,139,139,139,140,140,140,140,140,140,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,338,139,139,139,139,139,139,139,140,140,140,140,140,140,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,338,139,139,139,139,139,139,139,140,140,140,140,140,140,37,129,129,36,36,36,36,129,129,129,129,129,129,129,129,129,338,338,338,139,139,139,139,139,139,139,140,140,140,140,140,140,36,36,36,149,149,149,149,149,129,129,129,129,129,129,129,37,37,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,149,149,149,149,149,149,149,129,129,129,129,129,129,129,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,149,149,149,149,149,149,149,129,129,129,129,129,129,129,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,36,36,36,149,149,149,149,149,129,129,129,129,129,129,129,37,37,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,37,129,36,36,36,36,36,129,129,129,129,129,129,129,129,129,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,232,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,233,234,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:365,height:32,id:138,name:"",rotation:0,type:"",visible:!0,width:32,x:190.5,y:147.5},{gid:362,height:32,id:139,name:"",rotation:0,type:"",visible:!0,width:32,x:192,y:124},{gid:362,height:32,id:140,name:"",rotation:0,type:"",visible:!0,width:32,x:192,y:192},{gid:372,height:32,id:141,name:"",rotation:0,type:"front",visible:!0,width:32,x:240,y:104},{gid:372,height:32,id:142,name:"",rotation:0,type:"front",visible:!0,width:32,x:180.5,y:91.5},{gid:372,height:32,id:143,name:"",rotation:0,type:"front",visible:!0,width:32,x:212.5,y:91.5},{height:34,id:144,name:"#floor1-OpenRedDoorsBCK",rotation:0,type:"",visible:!0,width:41,x:265,y:59},{gid:194,height:32,id:145,name:"MarkerRedDoorBCK1",rotation:0,type:"",visible:!0,width:32,x:280.5,y:73},{gid:194,height:32,id:146,name:"MarkerRedDoorBCK2",rotation:0,type:"",visible:!0,width:32,x:298.5,y:73},{height:23,id:147,name:"#floor1-transitionToFloor1East2FromFloor2East1",rotation:0,type:"",visible:!0,width:32.5,x:270.5,y:37.5},{gid:194,height:32,id:148,name:"MarkerFromEast2",rotation:0,type:"",visible:!0,width:32,x:291,y:101},{height:41,id:149,name:"#floor1-OpenRedDoorsFWD",rotation:0,type:"",visible:!0,width:28.5,x:114,y:248},{gid:194,height:32,id:150,name:"MarkerRedDoorFWD1",rotation:0,type:"",visible:!0,width:32,x:125.5,y:280.5},{gid:194,height:32,id:151,name:"MarkerRedDoorFWD2",rotation:0,type:"",visible:!0,width:32,x:122.5,y:261},{height:41,id:152,name:"#floor1-transitionToFloor1AtriumFromFloor1West1",rotation:0,type:"",visible:!0,width:22.5,x:94.5,y:247.5},{gid:194,height:32,id:153,name:"MarkerFromAtrium",rotation:0,type:"",visible:!0,width:32,x:149.5,y:268.5},{gid:359,height:58,id:155,name:"",rotation:0,type:"front",visible:!0,width:92,x:138.5,y:158},{gid:194,height:32,id:157,name:"MarkerRedDoorFWD21",rotation:0,type:"",visible:!0,width:32,x:382.5,y:269.5},{gid:194,height:32,id:158,name:"MarkerRedDoorFWD22",rotation:0,type:"",visible:!0,width:32,x:379.5,y:250},{gid:194,height:32,id:160,name:"MarkerFromVRPortal",rotation:0,type:"",visible:!0,width:32,x:481.5,y:258.5},{gid:395,height:32,id:165,name:"",rotation:0,type:"24",visible:!0,width:32,x:138.5,y:173.5},{gid:395,height:32,id:166,name:"",rotation:0,type:"24",visible:!0,width:32,x:138.5,y:157.5},{gid:395,height:32,id:167,name:"",rotation:0,type:"24",visible:!0,width:32,x:138.5,y:141.5},{gid:395,height:32,id:169,name:"",rotation:0,type:"",visible:!0,width:32,x:154.5,y:189.5},{gid:395,height:32,id:170,name:"",rotation:0,type:"",visible:!0,width:32,x:154.5,y:173.5},{gid:395,height:32,id:171,name:"",rotation:0,type:"",visible:!0,width:32,x:154.5,y:157.5},{gid:395,height:32,id:172,name:"",rotation:0,type:"",visible:!0,width:32,x:154.5,y:141.5},{gid:395,height:32,id:173,name:"",rotation:0,type:"",visible:!0,width:32,x:154,y:126},{gid:372,height:32,id:174,name:"",rotation:0,type:"front",visible:!0,width:32,x:151.5,y:78.5},{gid:372,height:32,id:175,name:"",rotation:0,type:"front",visible:!0,width:32,x:177.5,y:104.5},{gid:372,height:32,id:176,name:"",rotation:0,type:"front",visible:!0,width:32,x:183.5,y:78.5},{gid:372,height:32,id:177,name:"",rotation:0,type:"front",visible:!0,width:32,x:209.5,y:104.5},{gid:372,height:32,id:178,name:"",rotation:0,type:"front",visible:!0,width:32,x:214.5,y:77.5},{gid:372,height:32,id:179,name:"",rotation:0,type:"front",visible:!0,width:32,x:149.5,y:92.5},{gid:372,height:32,id:180,name:"",rotation:0,type:"front",visible:!0,width:32,x:123.5,y:66.5},{gid:372,height:32,id:181,name:"",rotation:0,type:"front",visible:!0,width:32,x:121.5,y:80.5},{gid:372,height:32,id:182,name:"",rotation:0,type:"front",visible:!0,width:32,x:147.5,y:106.5},{gid:372,height:32,id:183,name:"",rotation:0,type:"front",visible:!0,width:32,x:154.5,y:65.5},{gid:372,height:32,id:184,name:"",rotation:0,type:"front",visible:!0,width:32,x:186.5,y:65.5},{gid:371,height:32,id:185,name:"",rotation:0,type:"front",visible:!0,width:32,x:100,y:78},{gid:371,height:32,id:186,name:"",rotation:0,type:"front",visible:!0,width:32,x:100,y:110},{gid:371,height:32,id:187,name:"",rotation:0,type:"front",visible:!0,width:32,x:100,y:140.5},{gid:371,height:32,id:188,name:"",rotation:0,type:"front",visible:!0,width:32,x:100,y:156.5},{gid:371,height:32,id:189,name:"",rotation:0,type:"front",visible:!0,width:32,x:100,y:124.5},{gid:371,height:32,id:190,name:"",rotation:0,type:"front",visible:!0,width:32,x:100,y:94},{gid:371,height:32,id:191,name:"",rotation:0,type:"front",visible:!0,width:32,x:100,y:172.5},{gid:395,height:32,id:195,name:"",rotation:0,type:"24",visible:!0,width:32,x:138.5,y:125.5},{gid:194,height:32,id:203,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:318,y:256},{gid:194,height:32,id:204,name:"MarkerExit1",rotation:0,type:"",visible:!0,width:32,x:408,y:258},{gid:194,height:32,id:205,name:"MarkerExit2",rotation:0,type:"",visible:!0,width:32,x:294,y:228},{gid:194,height:32,id:223,name:"MarkerAdaShopkeep",rotation:0,type:"",visible:!0,width:32,x:221,y:171},{height:194.5,id:225,name:"#Floor1East1PrizeEmployee",rotation:0,type:"",visible:!0,width:18.5,x:249.5,y:126},{height:25.5,id:227,name:"#Floor1East1PrizeEmployee",rotation:0,type:"",visible:!0,width:118.5,x:266.5,y:167.5},{height:65,id:230,name:"#Floor1East1PrizeEmployee",rotation:0,type:"",visible:!0,width:19,x:205.5,y:125.5},{gid:193,height:32,id:231,name:"Sigma",rotation:0,type:"",visible:!0,width:32,x:215,y:213},{gid:193,height:32,id:232,name:"Floor1East1PrizeEmployee",rotation:0,type:"",visible:!0,width:32,x:183.5,y:156.5},{height:21,id:233,name:"#floor1-transitionToEast1StorageFromEast1",rotation:0,type:"",visible:!0,width:16.5,x:303.5,y:315},{gid:194,height:32,id:234,name:"MarkerDoorStorage",rotation:0,type:"",visible:!0,width:32,x:313,y:313},{gid:194,height:32,id:235,name:"MarkerFromStorage",rotation:0,type:"",visible:!0,width:32,x:315,y:297},{height:12,id:236,name:"#floor1-east1OpenStorageDoor",rotation:0,type:"",visible:!0,width:16,x:304.5,y:293.5}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0},{draworder:"topdown",id:8,name:"Objects2",objects:[{gid:397,height:32,id:196,name:"",rotation:0,type:"front",visible:!0,width:32,x:136.5,y:119.5},{gid:396,height:32,id:197,name:"",rotation:0,type:"front",visible:!0,width:32,x:134.5,y:127.5},{gid:390,height:32,id:198,name:"",rotation:0,type:"26",visible:!0,width:32,x:150,y:118},{gid:391,height:32,id:199,name:"",rotation:0,type:"20",visible:!0,width:32,x:149.5,y:122.5},{gid:392,height:32,id:201,name:"",rotation:0,type:"20",visible:!0,width:32,x:149,y:127},{gid:368,height:32,id:202,name:"",rotation:0,type:"20",visible:!0,width:32,x:153,y:189},{gid:403,height:32,id:206,name:"",rotation:0,type:"front",visible:!0,width:32,x:137,y:143},{gid:400,height:32,id:207,name:"",rotation:0,type:"front",visible:!0,width:32,x:135,y:155},{gid:401,height:32,id:208,name:"",rotation:0,type:"front",visible:!0,width:32,x:135,y:161},{gid:398,height:32,id:209,name:"",rotation:0,type:"20",visible:!0,width:32,x:151,y:137},{gid:399,height:32,id:210,name:"",rotation:0,type:"20",visible:!0,width:32,x:151,y:143},{gid:405,height:32,id:212,name:"",rotation:0,type:"front",visible:!0,width:32,x:136.5,y:171.5},{gid:390,height:32,id:213,name:"",rotation:0,type:"24",visible:!0,width:32,x:152,y:182},{gid:406,height:32,id:214,name:"",rotation:0,type:"20",visible:!0,width:32,x:149,y:173},{gid:391,height:32,id:216,name:"",rotation:0,type:"20",visible:!0,width:32,x:152,y:176},{gid:391,height:32,id:218,name:"",rotation:0,type:"24",visible:!0,width:32,x:150.5,y:165.5},{gid:407,height:32,id:219,name:"",rotation:0,type:"20",visible:!0,width:32,x:151.5,y:156.5},{gid:392,height:32,id:220,name:"",rotation:0,type:"25",visible:!0,width:32,x:148.5,y:181.5},{gid:392,height:32,id:221,name:"",rotation:0,type:"25",visible:!0,width:32,x:153,y:169}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],Jc=9,e3=237,t3="isometric",i3="right-down",n3="1.7.2",o3=16,r3=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"},{columns:16,firstgid:361,image:"../../res/props_small.png",imageheight:512,imagewidth:512,margin:0,name:"props_small",spacing:0,tilecount:256,tileheight:32,tilewidth:32}],a3=32,s3="map",l3="1.6",c3=32;var p6={compressionlevel:qc,height:Xc,infinite:Qc,layers:Zc,nextlayerid:Jc,nextobjectid:e3,orientation:t3,renderorder:i3,tiledversion:n3,tileheight:o3,tilesets:r3,tilewidth:a3,type:s3,version:l3,width:c3},f6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:qc,height:Xc,infinite:Qc,layers:Zc,nextlayerid:Jc,nextobjectid:e3,orientation:t3,renderorder:i3,tiledversion:n3,tileheight:o3,tilesets:r3,tilewidth:a3,type:s3,version:l3,width:c3,default:p6});const d3=-1,u3=32,h3=!1,g3=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,37,37,37,37,37,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,140,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,37,37,140,37,37,37,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,137,137,137,137,137,38,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,137,137,137,137,137,38,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,137,137,137,137,137,38,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,137,137,137,137,137,38,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,137,137,137,137,137,38,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,137,137,137,137,137,38,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,37,38,38,38,38,38,38,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,232,0,0,0,232,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:400,height:32,id:233,name:"",rotation:0,type:"16",visible:!0,width:32,x:222,y:124},{gid:194,height:32,id:234,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:254.5,y:173.5},{gid:400,height:32,id:235,name:"",rotation:0,type:"16",visible:!0,width:32,x:221.5,y:130.5},{gid:398,height:32,id:236,name:"",rotation:0,type:"18",visible:!0,width:32,x:220,y:140},{gid:398,height:32,id:237,name:"",rotation:0,type:"18",visible:!0,width:32,x:219.5,y:146.5},{gid:401,height:32,id:238,name:"",rotation:0,type:"front",visible:!0,width:32,x:289,y:127},{gid:401,height:32,id:239,name:"",rotation:0,type:"front",visible:!0,width:32,x:286,y:134},{gid:401,height:32,id:240,name:"",rotation:0,type:"front",visible:!0,width:32,x:290.5,y:141.5},{gid:381,height:32,id:241,name:"",rotation:0,type:"front",visible:!0,width:32,x:310,y:174},{gid:381,height:32,id:242,name:"",rotation:0,type:"front",visible:!0,width:32,x:313.5,y:176.5},{gid:381,height:32,id:243,name:"",rotation:0,type:"front",visible:!0,width:32,x:311,y:179},{gid:194,height:32,id:245,name:"MarkerDoor",rotation:0,type:"",visible:!0,width:32,x:267.5,y:74.5},{gid:194,height:32,id:246,name:"MarkerFromEast1",rotation:0,type:"",visible:!0,width:32,x:262.5,y:101.5},{height:28,id:247,name:"#floor1-transitionToEast1FromEast1Storage",rotation:0,type:"",visible:!0,width:25.5,x:250,y:49},{height:19.5,id:248,name:"#floor1-east1StorageOpenStorageDoor",rotation:0,type:"",visible:!0,width:18.5,x:254,y:74},{gid:423,height:32,id:249,name:"",rotation:0,type:"16",visible:!0,width:32,x:223,y:159},{height:17,id:250,name:"#Floor1East1Storage_Employee",rotation:0,type:"",visible:!0,width:19,x:253,y:109},{gid:194,height:32,id:251,name:"MarkerWalkInside",rotation:0,type:"",visible:!0,width:32,x:264,y:144},{gid:194,height:32,id:252,name:"MarkerWalkEmployee",rotation:0,type:"",visible:!0,width:32,x:262,y:166},{gid:193,height:32,id:253,name:"Floor1StorageEmployee",rotation:0,type:"",visible:!0,width:32,x:263,y:197}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],m3=9,p3=254,f3="isometric",y3="right-down",w3="1.7.2",b3=16,v3=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"},{columns:16,firstgid:361,image:"../../res/props_small.png",imageheight:512,imagewidth:512,margin:0,name:"props_small",spacing:0,tilecount:256,tileheight:32,tilewidth:32}],x3=32,T3="map",E3="1.6",_3=32;var y6={compressionlevel:d3,height:u3,infinite:h3,layers:g3,nextlayerid:m3,nextobjectid:p3,orientation:f3,renderorder:y3,tiledversion:w3,tileheight:b3,tilesets:v3,tilewidth:x3,type:T3,version:E3,width:_3},w6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:d3,height:u3,infinite:h3,layers:g3,nextlayerid:m3,nextobjectid:p3,orientation:f3,renderorder:y3,tiledversion:w3,tileheight:b3,tilesets:v3,tilewidth:x3,type:T3,version:E3,width:_3,default:y6});const C3=-1,A3=32,S3=!1,k3=[{data:[129,129,129,129,129,129,39,39,39,39,39,39,39,39,39,39,39,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,39,136,136,136,136,136,136,136,136,136,39,129,129,140,136,140,136,129,129,136,129,129,129,129,129,129,129,129,129,129,129,129,39,136,136,136,136,136,136,136,136,136,39,129,129,140,136,136,136,136,136,136,136,129,129,129,129,129,129,129,129,129,129,129,39,136,136,136,136,136,136,136,136,136,39,136,136,40,40,40,40,40,40,40,40,40,129,129,129,129,129,129,129,129,129,129,39,136,136,136,136,136,136,136,136,136,39,136,136,40,136,140,136,136,136,136,136,40,129,129,129,129,129,129,129,129,129,129,39,136,136,136,136,136,136,136,136,136,39,136,136,40,136,136,136,136,136,136,136,40,129,129,129,129,129,129,129,129,129,129,39,136,136,136,136,136,136,136,136,136,39,39,39,40,136,136,136,136,136,136,136,40,129,129,129,129,129,129,129,129,129,129,39,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,136,140,40,129,129,129,129,129,129,129,129,129,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,40,129,129,129,129,129,129,129,129,129,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,136,40,129,129,129,129,129,129,129,129,129,129,39,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,136,40,129,129,129,129,129,129,129,129,129,129,39,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,136,40,129,129,129,129,129,129,129,129,129,129,39,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,39,40,129,129,129,129,129,129,129,129,129,129,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,39,140,140,140,140,39,40,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,39,140,140,140,140,39,40,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,39,140,140,140,140,39,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,39,140,140,140,140,39,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,39,140,140,140,140,39,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,39,140,140,140,140,39,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,39,140,140,140,140,39,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,39,39,140,140,129,39,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,140,140,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,243,243,243,0,227,0,243,243,243,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,233,234,234,234,234,234,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,233,234,234,234,234,234,0,0,0,0,0,0,215,218,215,218,215,218,215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,0,0,0,0,0,0,0,225,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,39,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,39,39,15,15,39,39,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:129,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:198,y:136},{gid:194,height:32,id:132,name:"MarkerFromWest2",rotation:0,type:"",visible:!0,width:32,x:136.5,y:145.5},{height:41,id:134,name:"#floor1-OpenRedDoorsFWD",rotation:0,type:"",visible:!0,width:36.5,x:94.5,y:121.5},{gid:194,height:32,id:135,name:"MarkerRedDoorFWD1",rotation:0,type:"",visible:!0,width:32,x:107.5,y:154.5},{gid:194,height:32,id:136,name:"MarkerRedDoorFWD2",rotation:0,type:"",visible:!0,width:32,x:106.5,y:135.5},{height:41,id:137,name:"#floor1-transitionFromFloor1East2ToFloor1West2",rotation:0,type:"",visible:!0,width:22.5,x:77.5,y:120.5},{height:28,id:140,name:"#floor1-OpenRedDoorsBCK",rotation:0,type:"",visible:!0,width:48,x:359.5,y:304},{gid:194,height:32,id:141,name:"MarkerRedDoorBCK1",rotation:0,type:"",visible:!0,width:32,x:376.5,y:329.5},{gid:194,height:32,id:142,name:"MarkerRedDoorBCK2",rotation:0,type:"",visible:!0,width:32,x:393.5,y:328.5},{height:23,id:143,name:"#floor1-transitionToFloor1East1FromFloor2East2",rotation:0,type:"",visible:!0,width:32.5,x:367,y:328},{gid:194,height:32,id:144,name:"MarkerFromEast1",rotation:0,type:"",visible:!0,width:32,x:386,y:298},{gid:385,height:32,id:146,name:"",rotation:0,type:"front",visible:!0,width:32,x:112.5,y:-6.5},{gid:387,height:32,id:147,name:"",rotation:0,type:"40",visible:!0,width:32,x:209,y:-7},{gid:389,height:32,id:148,name:"",rotation:0,type:"front",visible:!0,width:32,x:160.5,y:-6.5},{gid:408,height:32,id:149,name:"",rotation:0,type:"11",visible:!0,width:32,x:191.5,y:66.5},{gid:408,height:32,id:150,name:"",rotation:0,type:"24",visible:!0,width:32,x:138.5,y:49.5},{gid:424,height:32,id:151,name:"",rotation:0,type:"16",visible:!0,width:32,x:131.5,y:62.5},{gid:424,height:32,id:152,name:"",rotation:0,type:"24",visible:!0,width:32,x:208,y:46},{gid:402,height:32,id:153,name:"",rotation:0,type:"22",visible:!0,width:32,x:124.5,y:7.5},{gid:398,height:32,id:154,name:"",rotation:0,type:"22",visible:!0,width:32,x:105,y:9},{gid:400,height:32,id:155,name:"",rotation:0,type:"22",visible:!0,width:32,x:202,y:8},{gid:398,height:32,id:157,name:"",rotation:0,type:"22",visible:!0,width:32,x:137,y:9},{gid:423,height:32,id:158,name:"",rotation:0,type:"16",visible:!0,width:32,x:135,y:65},{gid:423,height:32,id:159,name:"",rotation:0,type:"16",visible:!0,width:32,x:138.5,y:63.5},{gid:381,height:32,id:161,name:"",rotation:0,type:"",visible:!0,width:32,x:222,y:74},{gid:380,height:32,id:162,name:"",rotation:0,type:"",visible:!0,width:32,x:160.5,y:71.5},{gid:383,height:32,id:165,name:"",rotation:0,type:"",visible:!0,width:32,x:222,y:76},{gid:408,height:32,id:166,name:"",rotation:0,type:"12",visible:!0,width:32,x:159,y:67},{gid:422,height:32,id:167,name:"",rotation:0,type:"18",visible:!0,width:32,x:175.5,y:58.5},{gid:390,height:32,id:168,name:"",rotation:0,type:"22",visible:!0,width:32,x:310,y:58},{gid:391,height:32,id:169,name:"",rotation:0,type:"16",visible:!0,width:32,x:121.5,y:64.5},{gid:391,height:32,id:170,name:"",rotation:0,type:"22",visible:!0,width:32,x:204.5,y:61.5},{gid:390,height:32,id:171,name:"",rotation:0,type:"30",visible:!0,width:32,x:145,y:43},{gid:421,height:32,id:172,name:"",rotation:0,type:"6",visible:!0,width:32,x:150.5,y:25.5},{gid:421,height:32,id:173,name:"",rotation:0,type:"6",visible:!0,width:32,x:118.5,y:25.5},{gid:421,height:32,id:174,name:"",rotation:0,type:"6",visible:!0,width:32,x:214.5,y:25.5},{gid:419,height:32,id:175,name:"",rotation:0,type:"6",visible:!0,width:32,x:134.5,y:25.5},{gid:419,height:32,id:176,name:"",rotation:0,type:"11",visible:!0,width:32,x:143.5,y:18.5},{gid:419,height:32,id:177,name:"",rotation:0,type:"11",visible:!0,width:32,x:207.5,y:18.5},{gid:419,height:32,id:178,name:"",rotation:0,type:"11",visible:!0,width:32,x:111.5,y:18.5},{gid:419,height:32,id:179,name:"",rotation:0,type:"11",visible:!0,width:32,x:127.5,y:18.5},{gid:416,height:32,id:180,name:"",rotation:0,type:"8",visible:!0,width:32,x:104,y:76},{gid:415,height:32,id:181,name:"",rotation:0,type:"7",visible:!0,width:32,x:271.5,y:104.5},{gid:193,height:32,id:182,name:"Floor1DNDPlayer1",rotation:0,type:"",visible:!0,width:32,x:148,y:90},{gid:194,height:32,id:183,name:"MarkerPaceA",rotation:0,type:"",visible:!0,width:32,x:179.5,y:88.5},{gid:194,height:32,id:184,name:"MarkerPaceB",rotation:0,type:"",visible:!0,width:32,x:139.5,y:90.5},{gid:193,height:32,id:185,name:"Floor1DNDPlayer2",rotation:0,type:"",visible:!0,width:32,x:149.5,y:42.5},{gid:193,height:32,id:186,name:"Floor1DNDPlayer3",rotation:0,type:"",visible:!0,width:32,x:122,y:64},{gid:193,height:32,id:187,name:"Floor1DNDPlayer4",rotation:0,type:"",visible:!0,width:32,x:198,y:86},{gid:194,height:32,id:188,name:"Marker2PaceA",rotation:0,type:"",visible:!0,width:32,x:148.5,y:41.5},{gid:194,height:32,id:189,name:"Marker2PaceB",rotation:0,type:"",visible:!0,width:32,x:210,y:38},{gid:416,height:32,id:190,name:"",rotation:0,type:"8",visible:!0,width:32,x:345,y:249},{height:16.5,id:191,name:"#Floor1East2_ZagMachine",rotation:0,type:"",visible:!0,width:68,x:364,y:78.5},{gid:194,height:32,id:192,name:"MarkerZagMachine",rotation:0,type:"",visible:!0,width:32,x:375,y:87},{gid:409,height:32,id:193,name:"",rotation:0,type:"8",visible:!0,width:32,x:311.5,y:86.5},{gid:193,height:32,id:194,name:"Floor1ZagPlayer",rotation:0,type:"",visible:!0,width:32,x:344.5,y:87.5},{height:98,id:195,name:"#Floor1ShadyPerson",rotation:0,type:"",visible:!0,width:18,x:300.5,y:109.5},{gid:193,height:32,id:196,name:"Floor1ShadyPerson",rotation:0,type:"",visible:!0,width:32,x:284,y:202}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],R3=7,L3=197,I3="isometric",O3="right-down",P3="1.7.2",M3=16,D3=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"},{columns:16,firstgid:361,image:"../../res/props_small.png",imageheight:512,imagewidth:512,margin:0,name:"props_small",spacing:0,tilecount:256,tileheight:32,tilewidth:32}],N3=32,B3="map",$3="1.6",W3=32;var b6={compressionlevel:C3,height:A3,infinite:S3,layers:k3,nextlayerid:R3,nextobjectid:L3,orientation:I3,renderorder:O3,tiledversion:P3,tileheight:M3,tilesets:D3,tilewidth:N3,type:B3,version:$3,width:W3},v6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:C3,height:A3,infinite:S3,layers:k3,nextlayerid:R3,nextobjectid:L3,orientation:I3,renderorder:O3,tiledversion:P3,tileheight:M3,tilesets:D3,tilewidth:N3,type:B3,version:$3,width:W3,default:b6});const G3=-1,F3=32,H3=!1,U3=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,36,36,33,36,36,33,36,36,33,36,36,33,36,36,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,149,149,149,149,149,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,149,149,149,149,149,149,149,149,149,149,149,149,149,149,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,144,144,144,149,149,149,149,149,149,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,144,144,144,149,149,149,149,149,129,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,149,149,149,149,149,144,144,144,149,149,149,149,149,129,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,149,149,149,149,129,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,149,149,149,149,129,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,149,149,149,149,149,149,149,149,149,149,149,149,149,149,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,149,149,149,149,149,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,149,149,149,149,149,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,36,36,33,36,36,33,149,149,33,36,36,33,36,36,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:61,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:200,y:256},{gid:194,height:32,id:65,name:"MarkerVRLanding",rotation:0,type:"",visible:!0,width:32,x:204,y:204},{height:44,id:66,name:"#floor1-tut-entrance-vr-portal",rotation:0,type:"",visible:!0,width:44,x:176,y:176},{gid:200,height:32,id:68,name:"MarkerDoor",rotation:0,type:"",visible:!0,width:32,x:200,y:288},{gid:194,height:32,id:69,name:"MarkerJason1",rotation:0,type:"",visible:!0,width:32,x:188,y:240},{gid:194,height:32,id:70,name:"MarkerJason2",rotation:0,type:"",visible:!0,width:32,x:148,y:196},{gid:194,height:32,id:71,name:"MarkerAda",rotation:0,type:"",visible:!0,width:32,x:152,y:244},{height:44,id:72,name:"#floor1-tut-entrance-door",rotation:0,type:"",visible:!0,width:32,x:192,y:320},{gid:194,height:32,id:73,name:"MarkerDoorTutTile",rotation:0,type:"",visible:!0,width:32,x:196,y:360}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],K3=7,z3=74,j3="isometric",Y3="right-down",V3="1.7.2",q3=16,X3=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"}],Q3=32,Z3="map",J3="1.6",ed=32;var x6={compressionlevel:G3,height:F3,infinite:H3,layers:U3,nextlayerid:K3,nextobjectid:z3,orientation:j3,renderorder:Y3,tiledversion:V3,tileheight:q3,tilesets:X3,tilewidth:Q3,type:Z3,version:J3,width:ed},T6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:G3,height:F3,infinite:H3,layers:U3,nextlayerid:K3,nextobjectid:z3,orientation:j3,renderorder:Y3,tiledversion:V3,tileheight:q3,tilesets:X3,tilewidth:Q3,type:Z3,version:J3,width:ed,default:x6});const td=-1,id=32,nd=!1,od=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,36,36,33,36,36,33,36,36,33,36,36,33,36,36,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,149,149,149,149,149,149,149,149,149,149,149,149,149,149,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,149,149,149,149,149,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,149,149,149,149,149,36,129,129,129,129,129,129,129,129,129,129,129,129,129,36,36,36,33,149,149,149,149,149,149,149,149,149,149,149,149,149,149,33,129,129,129,129,129,129,129,129,129,129,129,129,149,149,149,149,149,149,149,149,149,149,144,144,144,149,149,149,149,149,149,36,129,129,129,129,129,129,129,129,129,129,129,129,149,149,149,149,149,149,149,149,149,149,144,144,144,149,149,149,149,149,129,36,129,129,129,129,129,129,129,129,129,129,129,129,129,36,36,36,33,149,149,149,149,149,144,144,144,149,149,149,149,149,129,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,149,149,149,149,129,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,149,149,149,149,129,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,149,149,149,149,149,149,149,149,149,149,149,149,149,149,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,149,149,149,149,149,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,149,149,149,149,149,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,33,36,36,33,36,36,33,36,36,33,36,36,33,36,36,33,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:74,name:"MarkerVRLanding",rotation:0,type:"",visible:!0,width:32,x:202,y:202},{height:52,id:75,name:"#floor1-OpenRedDoorsFWD",rotation:0,type:"",visible:!0,width:35.5,x:36,y:166},{gid:194,height:32,id:76,name:"MarkerRedDoorFWD1",rotation:0,type:"",visible:!0,width:32,x:43.5,y:200.5},{gid:194,height:32,id:77,name:"MarkerRedDoorFWD2",rotation:0,type:"",visible:!0,width:32,x:44,y:184},{height:51.5,id:78,name:"#floor1-transitionToEast1FromTutExit",rotation:0,type:"",visible:!0,width:18.5,x:19,y:163},{gid:194,height:32,id:79,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:154,y:242},{gid:194,height:32,id:80,name:"MarkerJason",rotation:0,type:"",visible:!0,width:32,x:125,y:189}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],rd=7,ad=81,sd="isometric",ld="right-down",cd="1.7.2",dd=16,ud=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"}],hd=32,gd="map",md="1.6",pd=32;var E6={compressionlevel:td,height:id,infinite:nd,layers:od,nextlayerid:rd,nextobjectid:ad,orientation:sd,renderorder:ld,tiledversion:cd,tileheight:dd,tilesets:ud,tilewidth:hd,type:gd,version:md,width:pd},_6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:td,height:id,infinite:nd,layers:od,nextlayerid:rd,nextobjectid:ad,orientation:sd,renderorder:ld,tiledversion:cd,tileheight:dd,tilesets:ud,tilewidth:hd,type:gd,version:md,width:pd,default:E6});const fd=-1,yd=32,wd=!1,bd=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,129,185,189,189,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,189,129,185,185,185,129,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,129,185,185,185,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,189,129,185,185,185,129,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,129,129,129,129,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,189,185,189,185,189,185,189,185,189,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",offsetx:0,offsety:16,opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,144,144,144,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,144,144,144,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,144,144,144,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:61,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:182,y:374},{gid:194,height:32,id:65,name:"MarkerVRLanding",rotation:0,type:"",visible:!0,width:32,x:188,y:380},{height:44,id:66,name:"#floor1-tut-vr1-portal",rotation:0,type:"",visible:!0,width:44,x:160,y:352},{height:0,id:67,name:"",rotation:0,type:"",visible:!0,width:0,x:136,y:88},{gid:194,height:32,id:68,name:"MarkerJason1",rotation:0,type:"",visible:!0,width:32,x:188,y:156},{gid:194,height:32,id:69,name:"MarkerJason0",rotation:0,type:"",visible:!0,width:32,x:186,y:198},{gid:198,height:32,id:70,name:"MarkerFromVR2",rotation:0,type:"",visible:!0,width:32,x:192,y:176},{height:32,id:71,name:"#floor1-tut-vr1-to-vr2",rotation:0,type:"",visible:!0,width:48,x:160,y:128},{gid:194,height:32,id:72,name:"MarkerJason2",rotation:0,type:"",visible:!0,width:32,x:183.25,y:261.25},{gid:194,height:32,id:73,name:"MarkerJason3",rotation:0,type:"",visible:!0,width:32,x:182,y:240},{gid:194,height:32,id:74,name:"MarkerJasonExamineConscience",rotation:0,type:"",visible:!0,width:32,x:205.5,y:346.5},{gid:194,height:32,id:75,name:"MarkerJasonExamineConsciencePre",rotation:0,type:"",visible:!0,width:32,x:202,y:296}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],vd=7,xd=76,Td="isometric",Ed=[{name:"BackgroundColor",type:"string",value:"#BCB7C5"}],_d="right-down",Cd="1.7.2",Ad=16,Sd=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"}],kd=32,Rd="map",Ld="1.6",Id=32;var C6={compressionlevel:fd,height:yd,infinite:wd,layers:bd,nextlayerid:vd,nextobjectid:xd,orientation:Td,properties:Ed,renderorder:_d,tiledversion:Cd,tileheight:Ad,tilesets:Sd,tilewidth:kd,type:Rd,version:Ld,width:Id},A6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:fd,height:yd,infinite:wd,layers:bd,nextlayerid:vd,nextobjectid:xd,orientation:Td,properties:Ed,renderorder:_d,tiledversion:Cd,tileheight:Ad,tilesets:Sd,tilewidth:kd,type:Rd,version:Ld,width:Id,default:C6});const Od=-1,Pd=32,Md=!1,Dd=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,185,185,185,185,185,185,188,185,185,129,129,129,129,129,129,185,185,185,185,185,185,185,185,189,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,189,129,129,129,129,129,129,185,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,185,129,129,129,129,129,129,185,185,185,185,185,185,185,185,189,188,188,188,188,188,188,188,188,185,185,185,185,185,185,185,185,185,185,187,187,129,129,129,188,185,185,185,185,185,185,185,185,188,188,188,188,188,188,188,188,185,185,185,185,185,185,185,185,185,185,187,187,129,129,129,185,185,185,185,185,185,185,185,189,188,188,188,188,188,188,188,188,185,185,185,185,185,185,185,185,185,185,187,187,129,129,129,185,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,185,129,129,129,129,129,129,185,185,185,185,185,185,185,185,189,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,189,129,129,129,129,129,129,185,189,185,189,185,189,185,189,185,129,129,129,129,129,129,129,129,185,189,185,189,185,189,185,189,185,129,129,129,129,129,129,129,129,129,188,188,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,188,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,188,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,188,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,188,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,188,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,189,185,185,185,185,185,189,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",offsetx:0,offsety:16,opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,236,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,237,0,0,0,0,0,0,0,0,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,19,19,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,237,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:73,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:382.5,y:97.5},{height:0,id:74,name:"",rotation:0,type:"",visible:!0,width:0,x:168,y:104},{gid:194,height:32,id:75,name:"MarkerJason1",rotation:0,type:"",visible:!0,width:32,x:76,y:332},{gid:194,height:32,id:76,name:"MarkerJason0",rotation:0,type:"",visible:!0,width:32,x:108,y:356},{height:32,id:77,name:"#floor1-tut-vr2-to-vr1",rotation:0,type:"",visible:!0,width:40,x:100,y:432},{gid:200,height:32,id:78,name:"MarkerFromVR1",rotation:0,type:"",visible:!0,width:32,x:128,y:428},{gid:194,height:32,id:80,name:"MarkerGate2",rotation:0,type:"",visible:!0,width:32,x:204,y:92},{gid:194,height:32,id:81,name:"MarkerJason2",rotation:0,type:"",visible:!0,width:32,x:124,y:280},{gid:194,height:32,id:82,name:"MarkerJason3",rotation:0,type:"",visible:!0,width:32,x:124,y:160},{gid:194,height:32,id:83,name:"MarkerJason4",rotation:0,type:"",visible:!0,width:32,x:76,y:92},{gid:194,height:32,id:84,name:"MarkerJason5",rotation:0,type:"",visible:!0,width:32,x:168,y:88},{gid:194,height:32,id:85,name:"MarkerJason6",rotation:0,type:"",visible:!0,width:32,x:348,y:92},{gid:194,height:32,id:86,name:"MarkerJason7",rotation:0,type:"",visible:!0,width:32,x:428,y:44},{gid:194,height:32,id:87,name:"MarkerJason8",rotation:0,type:"",visible:!0,width:32,x:476,y:88},{gid:199,height:32,id:88,name:"MarkerFromVR3",rotation:0,type:"",visible:!0,width:32,x:476,y:96},{gid:194,height:32,id:90,name:"MarkerAda0",rotation:0,type:"",visible:!0,width:32,x:116,y:388},{gid:194,height:32,id:91,name:"MarkerRobot1",rotation:0,type:"",visible:!0,width:32,x:124,y:332},{gid:194,height:32,id:92,name:"MarkerGate1",rotation:0,type:"",visible:!0,width:32,x:124,y:252},{ellipse:!0,height:0,id:94,name:"",rotation:0,type:"",visible:!0,width:0,x:148,y:284},{ellipse:!0,height:0,id:95,name:"",rotation:0,type:"",visible:!0,width:0,x:136,y:268},{ellipse:!0,height:0,id:96,name:"",rotation:0,type:"",visible:!0,width:0,x:136,y:264},{height:28,id:97,name:"#floor1-tut-vr2-facedown-jason",rotation:0,type:"",visible:!0,width:52,x:96,y:196},{height:16,id:99,name:"#floor1-tut-vr2-battle2-area",rotation:0,type:"",visible:!0,width:52,x:96,y:164},{gid:194,height:32,id:100,name:"MarkerAda1",rotation:0,type:"",visible:!0,width:32,x:120,y:124},{gid:194,height:32,id:101,name:"MarkerRobot2",rotation:0,type:"",visible:!0,width:32,x:124,y:92},{gid:194,height:32,id:102,name:"MarkerGate3",rotation:0,type:"",visible:!0,width:32,x:316,y:92},{gid:194,height:32,id:103,name:"MarkerAda2",rotation:0,type:"",visible:!0,width:32,x:376,y:100},{gid:194,height:32,id:104,name:"MarkerRobot3",rotation:0,type:"",visible:!0,width:32,x:396,y:152},{gid:194,height:32,id:105,name:"MarkerRobot4",rotation:0,type:"",visible:!0,width:32,x:396,y:56},{height:48,id:106,name:"#floor1-tut-vr2-battle3-area",rotation:0,type:"",visible:!0,width:32,x:256,y:64},{height:0,id:107,name:"",rotation:0,type:"",visible:!0,width:0,x:380,y:120},{height:0,id:108,name:"",rotation:0,type:"",visible:!0,width:0,x:376,y:112},{gid:194,height:32,id:110,name:"MarkerRobot6",rotation:0,type:"",visible:!0,width:32,x:340,y:60},{gid:194,height:32,id:111,name:"MarkerRobot5",rotation:0,type:"",visible:!0,width:32,x:440,y:144},{height:28.5,id:112,name:"#floor1-tut-no-terminal",rotation:0,type:"",visible:!0,width:26.5,x:48.5,y:73},{height:31.5,id:113,name:"#floor1-tut-no-terminal",rotation:0,type:"",visible:!0,width:27.5,x:48.5,y:310},{height:30,id:116,name:"#floor1-tut-no-terminal",rotation:0,type:"",visible:!0,width:34,x:407.5,y:16.5}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],Nd=7,Bd=117,$d="isometric",Wd=[{name:"BackgroundColor",type:"string",value:"#BCB7C5"}],Gd="right-down",Fd="1.7.2",Hd=16,Ud=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"}],Kd=32,zd="map",jd="1.6",Yd=32;var S6={compressionlevel:Od,height:Pd,infinite:Md,layers:Dd,nextlayerid:Nd,nextobjectid:Bd,orientation:$d,properties:Wd,renderorder:Gd,tiledversion:Fd,tileheight:Hd,tilesets:Ud,tilewidth:Kd,type:zd,version:jd,width:Yd},k6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:Od,height:Pd,infinite:Md,layers:Dd,nextlayerid:Nd,nextobjectid:Bd,orientation:$d,properties:Wd,renderorder:Gd,tiledversion:Fd,tileheight:Hd,tilesets:Ud,tilewidth:Kd,type:zd,version:jd,width:Yd,default:S6});const Vd=-1,qd=32,Xd=!1,Qd=[{data:[129,129,185,188,185,185,185,185,188,188,189,129,129,129,129,129,185,185,185,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,185,185,185,188,185,129,129,129,129,129,129,185,185,185,185,188,188,188,188,188,188,188,188,188,185,187,187,129,129,129,129,185,185,185,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,185,185,185,185,185,185,187,187,129,129,129,129,185,188,185,129,129,129,129,129,129,129,129,129,185,185,185,185,188,188,188,188,188,188,188,188,188,185,187,187,129,129,129,129,188,185,185,129,129,129,129,129,129,129,129,129,185,185,129,185,185,185,185,185,185,185,185,185,185,185,129,129,129,129,129,129,185,185,185,129,129,129,129,129,129,129,129,129,188,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,188,129,129,129,129,129,129,129,129,129,188,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,129,185,185,129,129,129,129,185,146,185,129,129,185,185,129,129,129,129,129,185,129,129,0,129,129,129,129,129,129,129,129,129,129,188,185,129,129,129,129,185,185,185,129,129,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,129,129,129,129,185,185,185,129,129,188,188,129,129,129,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,129,185,188,129,129,129,129,185,185,185,129,129,188,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,129,129,129,129,185,185,185,189,129,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,185,185,129,129,129,129,129,129,189,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,185,185,129,129,129,129,129,129,129,185,188,188,188,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,188,185,185,185,185,188,185,185,185,185,188,185,188,185,185,185,185,185,185,185,185,185,185,185,185,188,185,185,187,187,129,129,185,185,185,188,185,185,185,188,185,185,188,188,188,185,185,185,185,185,185,188,185,185,185,188,185,185,185,188,187,187,129,129,129,129,129,129,129,129,129,129,129,189,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,129,129,129,129,129,129,129,129,129,129,129,129,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,188,129,129,129,129,129,129,129,129,129,129,189,189,189,189,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,188,129,129,129,129,129,129,129,129,129,129,189,185,188,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,129,129,129,129,129,129,129,129,129,129,189,189,189,189,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,145,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,185,185,185,185,185,185,185,188,188,185,185,185,185,185,129,129,129,129,187,187,185,185,185,185,185,185,185,185,185,185,185,185,185,185,185,185,185,185,185,188,188,185,185,185,185,185,129,129,129,129,187,187,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,129,129,129,129,187,187,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,129,129,129,129,129,129,129,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,189,185,189,129,129,129,129,129,129,129,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,188,185,189,129,129,129,129,129,129,129,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,189,189,189,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",offsetx:0,offsety:16,opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,235,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,153,153,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,236,0,0,0,153,153,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,147,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,22,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,22,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,147,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,236,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,22,22,147,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,22,22,147,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,239,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:112,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:147,y:155},{gid:194,height:32,id:113,name:"MarkerDoorFromVR2",rotation:0,type:"",visible:!0,width:32,x:76,y:428},{gid:194,height:32,id:114,name:"MarkerAda0",rotation:0,type:"",visible:!0,width:32,x:108,y:416},{gid:194,height:32,id:117,name:"TagMarkerPurple",rotation:0,type:"",visible:!0,width:32,x:376,y:412},{gid:194,height:32,id:118,name:"TagMarkerRed",rotation:0,type:"",visible:!0,width:32,x:232,y:104},{gid:194,height:32,id:119,name:"TagMarkerYellow",rotation:0,type:"",visible:!0,width:32,x:220,y:332},{gid:194,height:32,id:129,name:"TagMarkerYellow",rotation:0,type:"",visible:!0,width:32,x:220,y:316},{gid:194,height:32,id:130,name:"TagMarkerYellow",rotation:0,type:"",visible:!0,width:32,x:236,y:332},{gid:194,height:32,id:131,name:"TagMarkerYellow",rotation:0,type:"",visible:!0,width:32,x:236,y:316},{height:56,id:136,name:"#floor1-tut-vr3-to-vr2",rotation:0,type:"",visible:!0,width:28,x:36,y:396},{gid:194,height:32,id:138,name:"TagMarkerPurple",rotation:0,type:"",visible:!0,width:32,x:392,y:408},{gid:194,height:32,id:139,name:"TagMarkerPurple",rotation:0,type:"",visible:!0,width:32,x:392,y:392},{gid:194,height:32,id:140,name:"TagMarkerPurple",rotation:0,type:"",visible:!0,width:32,x:380,y:396},{gid:194,height:32,id:141,name:"TagMarkerPurple",rotation:0,type:"",visible:!0,width:32,x:220,y:172},{gid:194,height:32,id:142,name:"TagMarkerPurple",rotation:0,type:"",visible:!0,width:32,x:236,y:168},{gid:194,height:32,id:143,name:"TagMarkerPurple",rotation:0,type:"",visible:!0,width:32,x:236,y:152},{gid:194,height:32,id:144,name:"TagMarkerPurple",rotation:0,type:"",visible:!0,width:32,x:224,y:156},{gid:194,height:32,id:145,name:"TagMarkerRed",rotation:0,type:"",visible:!0,width:32,x:232,y:88},{gid:194,height:32,id:146,name:"TagMarkerRed",rotation:0,type:"",visible:!0,width:32,x:216,y:104},{gid:194,height:32,id:147,name:"TagMarkerRed",rotation:0,type:"",visible:!0,width:32,x:220,y:92},{height:28,id:150,name:"#floor1-tut-toggle-blue-doors",rotation:0,type:"",visible:!0,width:32,x:136,y:112},{height:28,id:151,name:"#floor1-tut-toggle-yellow-doors",rotation:0,type:"",visible:!0,width:32,x:168,y:368},{height:52,id:152,name:"#floor1-tut-vr3-to-vr3-west",rotation:0,type:"",visible:!0,width:32,x:0,y:192},{gid:197,height:32,id:153,name:"MarkerDoorFromVR3West",rotation:0,type:"",visible:!0,width:32,x:40,y:224},{gid:199,height:32,id:154,name:"MarkerDoorFromVR3East",rotation:0,type:"",visible:!0,width:32,x:476,y:248},{gid:194,height:32,id:156,name:"MarkerKioskStats",rotation:0,type:"",visible:!0,width:32,x:346,y:42},{gid:194,height:32,id:163,name:"MarkerSavePoint",rotation:0,type:"",visible:!0,width:32,x:120,y:472},{gid:193,height:32,id:166,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON2"},{name:"overworldAi",type:"string",value:"ROAM_WALK_UP_DOWN"}],rotation:0,type:"",visible:!0,width:32,x:228,y:204},{gid:193,height:32,id:167,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON1"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTUP_LEFTDOWN"}],rotation:0,type:"",visible:!0,width:32,x:300,y:396},{gid:193,height:32,id:168,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON3"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTUP_LEFTDOWN"}],rotation:0,type:"",visible:!0,width:32,x:368.5,y:245.5},{gid:193,height:32,id:169,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON2"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTUP_LEFTDOWN"}],rotation:0,type:"",visible:!0,width:32,x:52,y:100},{gid:193,height:32,id:170,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON4"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTUP_LEFTDOWN"}],rotation:0,type:"",visible:!0,width:32,x:100,y:16},{gid:201,height:32,id:172,name:"ItemPotion",rotation:0,type:"",visible:!0,width:32,x:444,y:476},{gid:201,height:32,id:173,name:"ItemStarterArmor",rotation:0,type:"",visible:!0,width:32,x:445,y:333},{gid:201,height:32,id:174,name:"ItemMantleOfQuickness",rotation:0,type:"",visible:!0,width:32,x:172,y:12},{gid:201,height:32,id:175,name:"ItemQuartzRezGem",rotation:0,type:"",visible:!0,width:32,x:236,y:28},{gid:194,height:32,id:176,name:"MarkerSpotSavePoint",rotation:0,type:"",visible:!0,width:32,x:122.5,y:451.5},{height:34.5,id:177,name:"#floor1-tut-transition-from-vr3-to-vr3-east",rotation:0,type:"",visible:!0,width:31.5,x:480.5,y:223.5},{height:0,id:178,name:"",rotation:0,type:"",visible:!0,width:0,x:413,y:185},{height:57,id:179,name:"#floor1-tut-rdy-to-lvl-up",rotation:0,type:"",visible:!0,width:21,x:256.5,y:12.5},{gid:194,height:32,id:180,name:"MarkerLevelAda",rotation:0,type:"",visible:!0,width:32,x:297,y:49},{gid:194,height:32,id:181,name:"MarkerLevelConscience",rotation:0,type:"",visible:!0,width:32,x:297,y:33},{height:47.5,id:182,name:"#floor1-tut-transition-from-VR3-to-VRPreBoss",rotation:0,type:"",visible:!0,width:30.5,x:433,y:17},{gid:194,height:32,id:183,name:"MarkerFromPreBoss",rotation:0,type:"",visible:!0,width:32,x:428.5,y:41.5},{height:56.5,id:184,name:"#utils-kioskSavePoint",rotation:0,type:"",visible:!0,width:55,x:94.5,y:443},{height:79.5,id:185,name:"#utils-kioskStats",rotation:0,type:"",visible:!0,width:56,x:315.5,y:1}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],Zd=7,Jd=186,eu="isometric",tu=[{name:"BackgroundColor",type:"string",value:"#BCB7C5"}],iu="right-down",nu="1.7.2",ou=16,ru=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"}],au=32,su="map",lu="1.6",cu=32;var R6={compressionlevel:Vd,height:qd,infinite:Xd,layers:Qd,nextlayerid:Zd,nextobjectid:Jd,orientation:eu,properties:tu,renderorder:iu,tiledversion:nu,tileheight:ou,tilesets:ru,tilewidth:au,type:su,version:lu,width:cu},L6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:Vd,height:qd,infinite:Xd,layers:Qd,nextlayerid:Zd,nextobjectid:Jd,orientation:eu,properties:tu,renderorder:iu,tiledversion:nu,tileheight:ou,tilesets:ru,tilewidth:au,type:su,version:lu,width:cu,default:R6});const du=-1,uu=32,hu=!1,gu=[{data:[129,129,129,129,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,146,185,129,129,129,129,129,129,129,185,129,129,185,185,129,129,129,129,129,129,129,185,185,185,185,189,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,185,185,185,185,185,185,188,188,188,188,188,185,185,185,185,185,185,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,185,185,185,185,185,185,188,188,188,188,188,185,185,185,185,185,189,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,185,185,129,129,129,129,129,129,129,129,129,129,188,129,185,185,185,185,185,185,185,185,129,129,129,129,185,129,129,129,129,129,188,188,129,129,129,129,129,129,129,189,129,129,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,188,129,129,129,129,129,189,129,129,129,129,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,129,129,129,129,129,129,129,129,129,129,185,129,129,129,129,185,129,129,129,129,129,129,129,129,129,129,129,188,188,188,185,185,188,188,188,188,188,188,129,129,129,129,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,0,0,0,185,129,129,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,129,129,129,185,185,185,185,185,129,129,129,185,185,185,129,129,129,129,185,185,185,185,129,129,129,129,185,185,185,185,185,185,129,129,129,129,145,185,185,185,188,188,188,185,185,185,185,188,188,185,185,185,185,185,187,187,129,129,185,185,185,185,185,185,129,129,129,129,185,185,185,185,129,129,129,129,129,185,185,188,188,185,185,185,185,185,187,187,129,129,185,185,129,188,129,129,129,129,129,129,129,185,185,185,129,129,185,129,129,188,129,129,129,129,185,185,185,185,187,187,129,129,129,129,129,188,129,129,185,129,129,189,129,188,129,129,129,129,129,129,129,188,129,129,129,129,185,185,185,185,129,129,129,129,129,129,129,188,129,129,129,129,129,129,129,188,129,129,129,129,129,129,129,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,129,129,129,129,129,185,185,188,129,129,129,185,129,129,129,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,129,129,129,185,146,185,129,129,129,129,129,129,129,129,129,188,129,129,129,189,129,129,129,129,129,129,129,129,129,185,185,188,129,129,129,185,185,189,189,129,129,129,129,129,129,129,129,188,129,129,129,129,129,129,129,129,129,129,129,129,129,145,185,185,188,188,188,185,185,185,185,129,129,129,129,129,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,189,129,129,129,129,129,189,185,185,188,188,188,185,185,185,185,129,129,129,129,129,129,185,129,129,129,129,129,129,129,129,188,129,129,129,129,129,129,188,129,189,129,129,129,129,185,189,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,129,129,129,129,0,129,188,129,129,129,129,129,129,188,129,129,129,129,129,185,129,129,129,129,129,129,129,129,129,129,129,188,129,129,129,129,129,0,188,129,129,129,129,129,129,188,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,129,185,185,185,129,129,129,189,185,185,185,189,129,129,129,129,188,129,129,129,185,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,129,129,129,185,153,185,185,185,129,129,129,129,185,129,129,129,129,129,185,185,129,129,129,129,129,129,129,129,129,185,185,185,129,129,129,185,185,185,185,185,185,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,189,189,129,129,129,129,129,129,129,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,129,129,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",offsetx:0,offsety:16,opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,236,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,20,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,146,21,146,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,146,21,146,0,0,146,0,146,145,20,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,237,0,0,0,0,0,0,0,0,0,146,21,21,146,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,146,21,21,146,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,146,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,153,0,0,0,0,0,0,0,21,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,146,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,153,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,236,0,0,0,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,237,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,146,0,146,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,153,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,0,0,0,0,0,0,23,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,153,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,153,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,237,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,153,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:112,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:96,y:68},{gid:199,height:32,id:120,name:"MarkerDoorFromVR3",rotation:0,type:"",visible:!0,width:32,x:460,y:224},{height:32,id:121,name:"#floor1-tut-toggle-yellow-doors",rotation:0,type:"",visible:!0,width:28,x:176,y:184},{height:26,id:123,name:"#floor1-tut-toggle-blue-doors",rotation:0,type:"",visible:!0,width:32,x:425.5,y:16.5},{height:32,id:126,name:"#floor1-tut-toggle-yellow-doors",rotation:0,type:"",visible:!0,width:28,x:32,y:312},{height:32,id:127,name:"#floor1-tut-toggle-red-doors",rotation:0,type:"",visible:!0,width:28,x:144,y:408},{height:52,id:128,name:"#floor1-tut-vr3-west-to-vr3",rotation:0,type:"",visible:!0,width:32,x:464,y:192},{gid:194,height:32,id:132,name:"TagMarkerYellow",rotation:0,type:"",visible:!0,width:32,x:200,y:60},{gid:194,height:32,id:133,name:"TagMarkerBlue",rotation:0,type:"",visible:!0,width:32,x:172,y:156},{gid:194,height:32,id:136,name:"TagMarkerYellow",rotation:0,type:"",visible:!0,width:32,x:284,y:396},{gid:194,height:32,id:137,name:"TagMarkerBlue",rotation:0,type:"",visible:!0,width:32,x:332,y:252},{gid:194,height:32,id:139,name:"TagMarkerBlue",rotation:0,type:"",visible:!0,width:32,x:88,y:156},{gid:194,height:32,id:140,name:"TagMarkerBlue",rotation:0,type:"",visible:!0,width:32,x:232,y:344},{gid:194,height:32,id:144,name:"TagMarkerBlue",rotation:0,type:"",visible:!0,width:32,x:364,y:220},{gid:194,height:32,id:145,name:"TagMarkerBlue",rotation:0,type:"",visible:!0,width:32,x:380,y:220},{gid:194,height:32,id:146,name:"TagMarkerBlue",rotation:0,type:"",visible:!0,width:32,x:380,y:204},{gid:194,height:32,id:147,name:"TagMarkerBlue",rotation:0,type:"",visible:!0,width:32,x:364,y:204},{gid:194,height:32,id:148,name:"TagMarkerYellow",rotation:0,type:"",visible:!0,width:32,x:76,y:268},{gid:194,height:32,id:149,name:"TagMarkerYellow",rotation:0,type:"",visible:!0,width:32,x:216,y:152},{gid:194,height:32,id:150,name:"TagMarkerYellow",rotation:0,type:"",visible:!0,width:32,x:60,y:380},{gid:194,height:32,id:151,name:"TagMarkerBlue",rotation:0,type:"",visible:!0,width:32,x:204,y:80},{gid:194,height:32,id:152,name:"TagMarkerYellow",rotation:0,type:"",visible:!0,width:32,x:332,y:300},{height:28,id:153,name:"#floor1-tut-toggle-blue-doors",rotation:0,type:"",visible:!0,width:32,x:136,y:288},{gid:194,height:32,id:154,name:"TagMarkerRed",rotation:0,type:"",visible:!0,width:32,x:168,y:376},{gid:194,height:32,id:155,name:"TagMarkerRed",rotation:0,type:"",visible:!0,width:32,x:200,y:264},{height:32,id:156,name:"#floor1-tut-vr3-west-to-vr3-west2",rotation:0,type:"",visible:!0,width:20,x:64,y:0},{gid:198,height:32,id:157,name:"MarkerDoorFromVR3West2",rotation:0,type:"",visible:!0,width:32,x:80,y:40},{gid:201,height:32,id:158,name:"ItemFastBow",rotation:0,type:"",visible:!0,width:32,x:62,y:430},{gid:193,height:32,id:159,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON3"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTUP_LEFTDOWN"}],rotation:0,type:"",visible:!0,width:32,x:379.5,y:34.5},{gid:193,height:32,id:160,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON2"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTDOWN_LEFTUP"}],rotation:0,type:"",visible:!0,width:32,x:82,y:212},{gid:193,height:32,id:161,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON1"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTUP_LEFTDOWN"}],rotation:0,type:"",visible:!0,width:32,x:324.5,y:443.5},{gid:201,height:32,id:163,name:"ItemTicketCache10",rotation:0,type:"",visible:!0,width:32,x:446,y:78}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],mu=7,pu=166,fu="isometric",yu=[{name:"BackgroundColor",type:"string",value:"#BCB7C5"}],wu="right-down",bu="1.7.2",vu=16,xu=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"}],Tu=32,Eu="map",_u="1.6",Cu=32;var I6={compressionlevel:du,height:uu,infinite:hu,layers:gu,nextlayerid:mu,nextobjectid:pu,orientation:fu,properties:yu,renderorder:wu,tiledversion:bu,tileheight:vu,tilesets:xu,tilewidth:Tu,type:Eu,version:_u,width:Cu},O6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:du,height:uu,infinite:hu,layers:gu,nextlayerid:mu,nextobjectid:pu,orientation:fu,properties:yu,renderorder:wu,tiledversion:bu,tileheight:vu,tilesets:xu,tilewidth:Tu,type:Eu,version:_u,width:Cu,default:I6});const Au=-1,Su=32,ku=!1,Ru=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,143,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",offsetx:0,offsety:16,opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,0,33,0,33,0,33,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,143,143,143,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,143,238,143,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,143,143,143,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,153,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,153,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:156,name:"TagMarkerYellow",rotation:0,type:"",visible:!0,width:32,x:140,y:460},{gid:194,height:32,id:157,name:"TagMarkerRed",rotation:0,type:"",visible:!0,width:32,x:140,y:396},{gid:194,height:32,id:158,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:172,y:344},{gid:200,height:32,id:159,name:"MarkerDoorFromVR3West",rotation:0,type:"",visible:!0,width:32,x:140,y:476},{height:28,id:160,name:"#floor1-tut-vr3-west2-to-vr3-west",rotation:0,type:"",visible:!0,width:20,x:128,y:484},{height:27,id:161,name:"#floor1-tut-West2Pool",rotation:0,type:"",visible:!0,width:32.5,x:128.5,y:342.5},{gid:194,height:32,id:164,name:"MarkerAda",rotation:0,type:"",visible:!0,width:32,x:148,y:328},{gid:194,height:32,id:165,name:"MarkerConscience",rotation:0,type:"",visible:!0,width:32,x:146.5,y:299.5},{height:48,id:166,name:"#utils-heal-pool",rotation:0,type:"",visible:!0,width:48,x:159,y:287},{height:0,id:167,name:"",rotation:0,type:"",visible:!0,width:0,x:309,y:349},{gid:194,height:32,id:168,name:"MarkerHealPool",rotation:0,type:"",visible:!0,width:32,x:183,y:311},{gid:201,height:32,id:169,name:"ItemZoeBracelet",rotation:0,type:"",visible:!0,width:32,x:231,y:359}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],Lu=7,Iu=170,Ou="isometric",Pu=[{name:"BackgroundColor",type:"string",value:"#BCB7C5"}],Mu="right-down",Du="1.7.2",Nu=16,Bu=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"}],$u=32,Wu="map",Gu="1.6",Fu=32;var P6={compressionlevel:Au,height:Su,infinite:ku,layers:Ru,nextlayerid:Lu,nextobjectid:Iu,orientation:Ou,properties:Pu,renderorder:Mu,tiledversion:Du,tileheight:Nu,tilesets:Bu,tilewidth:$u,type:Wu,version:Gu,width:Fu},M6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:Au,height:Su,infinite:ku,layers:Ru,nextlayerid:Lu,nextobjectid:Iu,orientation:Ou,properties:Pu,renderorder:Mu,tiledversion:Du,tileheight:Nu,tilesets:Bu,tilewidth:$u,type:Wu,version:Gu,width:Fu,default:P6});const Hu=-1,Uu=32,Ku=!1,zu=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,129,129,129,129,189,129,129,129,129,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,189,189,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,129,129,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,185,185,188,185,129,185,185,185,185,129,129,129,129,129,129,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,129,129,129,185,185,129,129,129,129,129,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,188,185,185,188,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,129,185,185,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,189,129,129,129,185,185,185,129,185,185,129,129,185,185,189,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,129,129,185,185,189,129,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,188,185,185,185,185,185,185,129,185,185,185,185,129,185,185,185,129,129,129,185,185,185,189,189,129,129,129,185,185,185,185,185,185,185,185,188,185,185,185,185,185,129,185,185,129,185,185,185,185,129,129,185,185,185,185,185,129,129,129,185,185,185,185,185,185,185,185,188,185,185,185,188,185,185,129,185,185,129,129,185,185,188,188,185,185,185,189,189,129,187,187,185,185,185,185,185,185,129,185,185,185,185,0,185,185,185,129,185,185,185,129,185,185,129,129,185,185,185,185,185,129,187,187,185,185,185,185,185,185,129,185,185,185,185,0,185,185,185,185,129,185,185,129,129,185,129,129,189,185,189,185,189,129,187,187,189,185,189,185,185,185,0,185,185,185,185,129,185,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,129,188,185,188,185,185,185,185,188,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,188,188,185,185,185,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,188,185,185,185,185,185,185,185,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,129,185,185,185,129,129,129,129,129,129,129,185,129,129,129,129,185,129,129,129,129,129,129,129,185,189,129,129,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,129,129,129,129,129,185,185,129,129,129,129,129,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,189,129,129,129,129,129,129,129,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,188,129,129,129,129,129,129,129,129,129,129,185,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,129,129,129,129,129,129,185,185,129,129,185,129,129,129,129,129,129,129,129,129,129,185,129,129,129,189,185,185,185,129,129,129,129,129,185,129,129,129,185,189,188,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",offsetx:0,offsety:16,opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,147,236,147,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:201,height:32,id:177,name:"ItemDeVisibleCloakCutscene",rotation:0,type:"",visible:!0,width:32,x:89,y:215},{gid:193,height:32,id:178,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON2"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTUP_LEFTDOWN"}],rotation:0,type:"",visible:!0,width:32,x:361,y:205},{gid:193,height:32,id:179,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON2"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTUP_LEFTDOWN"}],rotation:0,type:"",visible:!0,width:32,x:200.5,y:319.5},{gid:193,height:32,id:180,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON2"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTUP_LEFTDOWN"}],rotation:0,type:"",visible:!0,width:32,x:176,y:116},{gid:193,height:32,id:181,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON2"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTDOWN_LEFTUP"}],rotation:0,type:"",visible:!0,width:32,x:141.5,y:152.5},{gid:193,height:32,id:182,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON2"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTDOWN_LEFTUP"}],rotation:0,type:"",visible:!0,width:32,x:190.5,y:267.5},{gid:193,height:32,id:183,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON2"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTDOWN_LEFTUP"}],rotation:0,type:"",visible:!0,width:32,x:303,y:295},{gid:193,height:32,id:184,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON2"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTDOWN_LEFTUP"}],rotation:0,type:"",visible:!0,width:32,x:311.5,y:340.5},{gid:193,height:32,id:185,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON2"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTDOWN_LEFTUP"}],rotation:0,type:"",visible:!0,width:32,x:271,y:179},{gid:193,height:32,id:186,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON2"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTDOWN_LEFTUP"}],rotation:0,type:"",visible:!0,width:32,x:197.5,y:172.5},{gid:201,height:32,id:187,name:"ItemDilutedPotion",rotation:0,type:"",visible:!0,width:32,x:461.5,y:444.5},{gid:201,height:32,id:188,name:"ItemHasteFlavoring",rotation:0,type:"",visible:!0,width:32,x:284,y:28},{gid:193,height:32,id:189,name:"TutRobotRoamer1",properties:[{name:"encounterName",type:"string",value:"ENCOUNTER_TUT_DUNGEON2"},{name:"overworldAi",type:"string",value:"ROAM_WALK_RIGHTDOWN_LEFTUP"}],rotation:0,type:"",visible:!0,width:32,x:273,y:97},{gid:194,height:32,id:190,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:120.5,y:275.5},{height:32.5,id:191,name:"#floor1-tut-toggle-purple-doors",rotation:0,type:"",visible:!0,width:48,x:447.5,y:188.5},{gid:194,height:32,id:192,name:"MarkerFromVR3",rotation:0,type:"",visible:!0,width:32,x:57.5,y:268.5},{height:48.5,id:193,name:"#floor1-tut-transition-from-vr3-east-to-vr3",rotation:0,type:"",visible:!0,width:30.5,x:16.5,y:241},{gid:194,height:32,id:194,name:"MarkerConscienceItem",rotation:0,type:"",visible:!0,width:32,x:88,y:232},{gid:201,height:32,id:195,name:"ItemDeVisibleCloak",rotation:0,type:"",visible:!0,width:32,x:465.5,y:264.5},{gid:201,height:32,id:196,name:"ItemTicketCache10",rotation:0,type:"",visible:!0,width:32,x:486.5,y:263.5}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],ju=7,Yu=197,Vu="isometric",qu=[{name:"BackgroundColor",type:"string",value:"#BCB7C5"}],Xu="right-down",Qu="1.7.2",Zu=16,Ju=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"}],eh=32,th="map",ih="1.6",nh=32;var D6={compressionlevel:Hu,height:Uu,infinite:Ku,layers:zu,nextlayerid:ju,nextobjectid:Yu,orientation:Vu,properties:qu,renderorder:Xu,tiledversion:Qu,tileheight:Zu,tilesets:Ju,tilewidth:eh,type:th,version:ih,width:nh},N6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:Hu,height:Uu,infinite:Ku,layers:zu,nextlayerid:ju,nextobjectid:Yu,orientation:Vu,properties:qu,renderorder:Xu,tiledversion:Qu,tileheight:Zu,tilesets:Ju,tilewidth:eh,type:th,version:ih,width:nh,default:D6});const oh=-1,rh=32,ah=!1,sh=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,189,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,189,185,187,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,189,129,129,129,129,185,185,185,185,185,185,185,185,187,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,189,185,187,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,189,129,129,129,129,129,129,129,129,189,185,189,185,189,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,189,129,129,129,129,129,129,129,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,189,129,129,129,129,129,129,129,129,129,129,129,129,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,189,129,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,190,190,190,129,129,129,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,190,129,129,129,189,185,185,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,190,129,129,129,129,188,188,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,190,129,129,129,129,188,188,188,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,185,188,185,185,185,185,185,185,185,188,185,185,185,185,185,185,187,187,129,129,129,129,129,129,129,129,129,129,129,129,187,187,185,188,185,185,185,185,185,185,185,188,185,185,185,185,185,185,187,187,129,129,129,129,129,129,129,129,129,129,129,129,187,187,185,188,185,185,185,189,185,185,185,188,185,185,189,185,185,185,187,187,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,129,129,129,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",offsetx:0,offsety:16,opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,144,144,144,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,144,144,144,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,144,144,144,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,129,129,0,0,0,0,0,0,0,0,239,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:177,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:154,y:428},{gid:194,height:32,id:179,name:"MarkerFromVR3",rotation:0,type:"",visible:!0,width:32,x:71,y:427},{gid:194,height:32,id:180,name:"MarkerSavePoint",rotation:0,type:"",visible:!0,width:32,x:265,y:329},{height:60,id:181,name:"#utils-save-point-activate",rotation:0,type:"",visible:!0,width:52,x:237,y:297},{height:85.5,id:182,name:"#utils-save-point-deactivate",rotation:0,type:"",visible:!0,width:76.5,x:227,y:283},{height:47,id:183,name:"#floor1-tut-transition-from-VRPreBoss-to-VR3",rotation:0,type:"",visible:!0,width:29,x:33.5,y:401.5},{gid:201,height:32,id:184,name:"ItemPierceSword",rotation:0,type:"",visible:!0,width:32,x:125,y:349},{height:48,id:185,name:"#floor1-tut-VRPreBoss-spot-exit-portal",rotation:0,type:"",visible:!0,width:16,x:112,y:400},{height:51.5,id:186,name:"#floor1-tut-transition-from-VRPreBoss-to-VRBoss",rotation:0,type:"",visible:!0,width:31.5,x:322,y:399},{height:0,id:187,name:"",rotation:0,type:"",visible:!0,width:0,x:248.5,y:423.5},{gid:194,height:32,id:189,name:"MarkerFromBoss",rotation:0,type:"",visible:!0,width:32,x:317,y:425}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],lh=7,ch=190,dh="isometric",uh=[{name:"BackgroundColor",type:"string",value:"#BCB7C5"}],hh="right-down",gh="1.7.2",mh=16,ph=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"}],fh=32,yh="map",wh="1.6",bh=32;var B6={compressionlevel:oh,height:rh,infinite:ah,layers:sh,nextlayerid:lh,nextobjectid:ch,orientation:dh,properties:uh,renderorder:hh,tiledversion:gh,tileheight:mh,tilesets:ph,tilewidth:fh,type:yh,version:wh,width:bh},$6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:oh,height:rh,infinite:ah,layers:sh,nextlayerid:lh,nextobjectid:ch,orientation:dh,properties:uh,renderorder:hh,tiledversion:gh,tileheight:mh,tilesets:ph,tilewidth:fh,type:yh,version:wh,width:bh,default:B6});const vh=-1,xh=32,Th=!1,Eh=[{data:[129,129,129,129,187,187,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,185,185,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,129,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,129,129,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,189,129,129,188,185,188,185,188,189,185,185,187,187,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,129,129,185,185,185,185,185,185,185,185,187,187,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,189,129,129,188,185,188,185,188,189,185,185,187,187,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,188,188,188,185,188,185,188,185,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,0,188,188,188,129,129,129,188,185,188,185,188,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,129,129,129,129,188,188,188,129,129,129,188,185,188,185,188,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,129,129,188,185,188,185,188,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,189,129,129,188,185,188,185,188,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,185,129,129,188,185,188,185,188,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,189,129,129,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,189,129,185,185,185,185,185,185,185,185,129,129,188,185,188,185,188,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,185,185,185,185,185,185,189,129,129,188,185,188,185,188,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,0,188,188,188,129,129,129,188,185,188,185,188,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,188,188,188,129,129,129,188,185,188,185,188,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,185,185,185,185,185,185,185,185,129,129,188,185,188,185,188,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,185,185,185,185,185,185,185,189,129,129,185,185,185,185,185,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,187,187,189,185,189,185,189,185,189,185,129,129,185,189,185,189,185,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,185,129,129,189,129,129,129,129,129,129,189,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",offsetx:0,offsety:16,opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,237,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21,21,21,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,237,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,21,21,21,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,237,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:177,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:107.5,y:410.5},{gid:194,height:32,id:178,name:"MarkerFromPreBoss",rotation:0,type:"",visible:!0,width:32,x:103,y:409},{height:47.5,id:179,name:"#floor1-tut-transition-from-VRBoss-to-VRPreBoss",rotation:0,type:"",visible:!0,width:31.5,x:64,y:384.5},{gid:194,height:32,id:180,name:"MarkerGate1",rotation:0,type:"",visible:!0,width:32,x:189.5,y:378.5},{gid:194,height:32,id:181,name:"MarkerGate2",rotation:0,type:"",visible:!0,width:32,x:190,y:250},{gid:194,height:32,id:182,name:"MarkerWalk1",rotation:0,type:"",visible:!0,width:32,x:194.5,y:407.5},{gid:194,height:32,id:183,name:"MarkerJasonSpawn",rotation:0,type:"",visible:!0,width:32,x:307,y:409},{gid:194,height:32,id:184,name:"MarkerJason1",rotation:0,type:"",visible:!0,width:32,x:297.5,y:314.5},{gid:194,height:32,id:185,name:"MarkerJason2",rotation:0,type:"",visible:!0,width:32,x:277.5,y:316.5},{height:48.5,id:186,name:"#floor1-tut-VRBoss-spotted-Jason",rotation:0,type:"",visible:!0,width:16.5,x:117,y:383},{gid:194,height:32,id:188,name:"MarkerJason0",rotation:0,type:"",visible:!0,width:32,x:277,y:409},{gid:194,height:32,id:189,name:"MarkerBossSpawn",rotation:0,type:"",visible:!0,width:32,x:135.5,y:322.5},{gid:194,height:32,id:190,name:"MarkerWalk2",rotation:0,type:"",visible:!0,width:32,x:174.5,y:277.5},{height:20.5,id:191,name:"#floor1-tut-VRBoss-walk-across-bridge",rotation:0,type:"",visible:!0,width:51.5,x:159,y:331},{gid:194,height:32,id:194,name:"MarkerBartolo1",rotation:0,type:"",visible:!0,width:32,x:276,y:186},{gid:194,height:32,id:195,name:"MarkerBartolo2",rotation:0,type:"",visible:!0,width:32,x:328,y:188},{gid:194,height:32,id:196,name:"MarkerBartolo3",rotation:0,type:"",visible:!0,width:32,x:394,y:186},{gid:194,height:32,id:197,name:"MarkerGate3",rotation:0,type:"",visible:!0,width:32,x:232.5,y:215.5}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],_h=7,Ch=198,Ah="isometric",Sh=[{name:"BackgroundColor",type:"string",value:"#BCB7C5"}],kh="right-down",Rh="1.7.2",Lh=16,Ih=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"}],Oh=32,Ph="map",Mh="1.6",Dh=32;var W6={compressionlevel:vh,height:xh,infinite:Th,layers:Eh,nextlayerid:_h,nextobjectid:Ch,orientation:Ah,properties:Sh,renderorder:kh,tiledversion:Rh,tileheight:Lh,tilesets:Ih,tilewidth:Oh,type:Ph,version:Mh,width:Dh},G6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:vh,height:xh,infinite:Th,layers:Eh,nextlayerid:_h,nextobjectid:Ch,orientation:Ah,properties:Sh,renderorder:kh,tiledversion:Rh,tileheight:Lh,tilesets:Ih,tilewidth:Oh,type:Ph,version:Mh,width:Dh,default:W6});const Nh=-1,Bh={export:{format:"json",target:"floor2-south.json"}},$h=32,Wh=!1,Gh=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,24,139,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,26,139,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,139,140,140,140,16,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,16,16,16,16,16,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,139,139,139,139,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,10,139,140,140,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,12,139,140,140,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,140,140,140,140,139,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,140,140,140,140,139,1,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,140,140,140,140,139,14,139,129,129,129,129,129,129,129,129,16,27,25,16,16,16,16,27,25,16,16,16,16,16,139,140,140,140,140,140,140,139,14,139,129,129,129,129,129,129,129,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,140,140,140,140,140,140,139,1,16,129,129,129,129,129,129,129,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,139,16,129,129,129,129,129,129,129,129,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,139,16,129,129,129,129,129,129,129,129,140,140,140,140,139,139,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,139,16,129,129,129,129,129,129,129,129,140,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,16,129,129,129,129,129,129,129,129,129,16,16,25,2,16,16,16,16,25,2,16,16,16,16,25,2,16,16,16,16,16,16,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,232,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,232,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:19,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:360,y:300}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],Fh=7,Hh=46,Uh="isometric",Kh="right-down",zh="1.7.0",jh=16,Yh=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32}],Vh=32,qh="map",Xh="1.6",Qh=32;var F6={compressionlevel:Nh,editorsettings:Bh,height:$h,infinite:Wh,layers:Gh,nextlayerid:Fh,nextobjectid:Hh,orientation:Uh,renderorder:Kh,tiledversion:zh,tileheight:jh,tilesets:Yh,tilewidth:Vh,type:qh,version:Xh,width:Qh},H6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:Nh,editorsettings:Bh,height:$h,infinite:Wh,layers:Gh,nextlayerid:Fh,nextobjectid:Hh,orientation:Uh,renderorder:Kh,tiledversion:zh,tileheight:jh,tilesets:Yh,tilewidth:Vh,type:qh,version:Xh,width:Qh,default:F6});const Zh=-1,Jh={export:{format:"json",target:"floor2-guestroom-hallway.json"}},eg=32,tg=!1,ig=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,24,139,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,26,139,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,139,140,140,140,16,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,16,16,16,16,16,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,139,139,139,139,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,10,139,140,140,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,12,139,140,140,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,140,140,140,140,140,140,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,139,140,140,140,140,140,140,139,140,139,129,129,129,129,129,129,129,129,16,27,25,16,16,16,16,27,25,16,16,16,16,16,139,140,140,140,140,140,140,139,140,139,129,129,129,129,129,129,129,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,140,140,140,140,140,140,139,140,16,129,129,129,129,129,129,129,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,139,16,129,129,129,129,129,129,129,129,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,139,16,129,129,129,129,129,129,129,129,140,140,140,140,139,139,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,139,16,129,129,129,129,129,129,129,129,140,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,16,129,129,129,129,129,129,129,129,129,16,16,25,2,16,16,16,16,25,2,16,16,16,16,25,2,16,16,16,16,16,16,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,232,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,232,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,231,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,216,0,0,0,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,216,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:32,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:19,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:360,y:300},{gid:361,height:32,id:53,name:"",rotation:0,type:"",visible:!0,width:32,x:336,y:228},{gid:358,height:32,id:54,name:"",rotation:0,type:"",visible:!0,width:32,x:336,y:188},{gid:358,height:32,id:55,name:"",rotation:0,type:"",visible:!0,width:32,x:332,y:192},{gid:357,height:32,id:59,name:"",rotation:0,type:"",visible:!0,width:32,x:336,y:200}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],ng=7,og=60,rg="isometric",ag="right-down",sg="1.7.0",lg=16,cg=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32},{firstgid:353,source:"../../res/props-dynamic.tiled-sheet.tsx"},{columns:6,firstgid:357,image:"../../res/props_small.png",imageheight:32,imagewidth:192,margin:0,name:"props_small",spacing:0,tilecount:6,tileheight:32,tilewidth:32}],dg=32,ug="map",hg="1.6",gg=32;var U6={compressionlevel:Zh,editorsettings:Jh,height:eg,infinite:tg,layers:ig,nextlayerid:ng,nextobjectid:og,orientation:rg,renderorder:ag,tiledversion:sg,tileheight:lg,tilesets:cg,tilewidth:dg,type:ug,version:hg,width:gg},K6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:Zh,editorsettings:Jh,height:eg,infinite:tg,layers:ig,nextlayerid:ng,nextobjectid:og,orientation:rg,renderorder:ag,tiledversion:sg,tileheight:lg,tilesets:cg,tilewidth:dg,type:ug,version:hg,width:gg,default:U6});const mg=-1,pg={export:{format:"json",target:"floor2-cafeteria.json"}},fg=32,yg=!1,wg=[{data:[129,129,129,2,2,2,2,2,2,2,130,130,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,129,129,129,129,129,129,129,129,16,130,130,130,130,130,16,130,130,16,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,16,16,16,16,130,130,130,130,130,16,130,130,16,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,16,130,130,17,130,130,130,130,130,16,130,130,16,130,130,227,130,130,130,227,130,130,130,227,130,130,1,129,129,129,129,129,16,130,130,17,130,130,130,130,130,16,130,130,16,130,226,223,225,130,130,223,130,130,226,223,225,130,1,129,129,129,129,129,16,130,130,17,130,130,130,130,130,16,15,15,16,130,130,224,130,130,130,224,130,130,130,224,130,130,1,129,129,129,129,129,16,130,130,17,130,130,130,130,130,136,136,136,136,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,16,16,16,16,130,130,130,130,130,136,136,136,136,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,129,129,129,16,130,130,130,130,130,136,136,136,136,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,16,16,16,16,130,130,130,130,130,136,136,136,136,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,16,130,130,17,130,130,130,130,130,136,136,136,136,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,16,130,130,17,130,130,130,130,130,136,136,136,136,130,130,227,130,130,130,227,130,130,130,227,130,130,1,129,129,129,129,129,16,130,130,17,130,130,130,130,130,136,136,136,136,130,226,223,228,130,130,223,130,130,226,223,225,130,1,129,129,129,129,129,16,130,130,17,130,130,130,130,130,136,136,136,136,130,130,224,130,130,130,130,130,130,130,224,130,130,1,129,129,129,129,129,16,16,16,16,130,130,130,130,130,136,136,136,136,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,129,129,129,16,130,130,130,130,130,136,136,136,136,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,16,16,16,16,130,130,130,130,130,136,136,136,136,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,16,130,130,17,130,130,130,130,130,136,136,136,136,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,16,130,130,17,130,130,130,130,130,136,136,136,136,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,16,130,130,17,130,130,130,130,130,136,136,136,136,130,130,227,130,130,130,227,130,130,130,227,130,130,1,129,129,129,129,129,16,130,130,17,130,130,130,130,130,136,136,136,136,130,226,223,225,130,130,223,130,130,226,223,225,130,1,129,129,129,129,129,16,16,16,16,130,130,130,130,130,136,136,136,136,130,130,224,130,130,130,224,130,130,130,224,130,130,1,129,129,129,129,129,129,129,129,1,130,130,130,130,130,136,136,136,136,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,129,129,129,12,130,130,130,130,130,136,136,136,136,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,129,129,129,10,130,130,130,130,130,136,136,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,129,129,129,1,130,130,130,130,130,136,136,136,136,130,130,130,130,130,130,130,130,130,130,130,130,130,1,129,129,129,129,129,129,129,129,1,130,130,130,130,130,2,15,15,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,129,129,129,129,129,129,129,129,1,17,17,17,17,17,16,130,130,16,129,129,129,129,129,129,129,129,129,129,129,129,129,16,129,129,129,129,129,129,129,129,1,130,130,130,130,130,16,130,130,16,129,129,129,129,129,129,129,129,129,129,129,129,129,16,129,129,129,129,129,129,129,129,1,130,130,130,130,130,16,130,130,16,129,129,129,129,129,129,129,129,129,129,129,129,129,16,129,129,129,129,129,129,129,129,1,130,130,130,130,130,16,130,130,16,129,129,129,129,129,129,129,129,129,129,129,129,129,16,129,129,129,129,129,129,129,129,1,17,17,17,17,17,16,130,130,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,129,129,129,129,129],height:32,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:19,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:192,y:260},{gid:198,height:32,id:43,name:"MarkerDoorNorth",rotation:0,type:"",visible:!0,width:32,x:184,y:128},{gid:200,height:32,id:46,name:"MarkerDoorSouth",rotation:0,type:"",visible:!0,width:32,x:184,y:396}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],bg=6,vg=47,xg="isometric",Tg="right-down",Eg="1.4.3",_g=16,Cg=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32}],Ag=32,Sg="map",kg=1.4,Rg=32;var z6={compressionlevel:mg,editorsettings:pg,height:fg,infinite:yg,layers:wg,nextlayerid:bg,nextobjectid:vg,orientation:xg,renderorder:Tg,tiledversion:Eg,tileheight:_g,tilesets:Cg,tilewidth:Ag,type:Sg,version:kg,width:Rg},j6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:mg,editorsettings:pg,height:fg,infinite:yg,layers:wg,nextlayerid:bg,nextobjectid:vg,orientation:xg,renderorder:Tg,tiledversion:Eg,tileheight:_g,tilesets:Cg,tilewidth:Ag,type:Sg,version:kg,width:Rg,default:z6});const Lg=-1,Ig={export:{format:"json",target:"floor2-north.json"}},Og=32,Pg=!1,Mg=[{data:[1,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,15,15,16,16,16,16,16,16,1,210,130,130,130,130,130,16,130,130,130,16,130,130,130,16,130,130,130,16,130,130,130,16,130,130,16,130,130,130,130,17,1,210,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,1,210,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,1,210,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,1,210,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,1,210,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,1,130,130,130,130,130,130,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,130,130,130,130,17,1,130,130,130,130,130,130,17,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,17,1,130,130,130,130,130,130,17,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,17,1,130,130,130,130,130,130,17,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,17,1,130,130,130,130,130,130,17,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,17,1,130,130,130,130,130,130,17,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,17,1,130,130,130,130,130,130,17,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,17,1,130,130,130,130,130,130,17,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,17,1,130,130,130,130,130,130,17,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,17,1,130,130,130,130,130,130,17,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,17,1,209,130,130,130,130,130,17,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,17,1,130,130,130,130,130,130,17,130,17,17,17,17,17,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,17,1,130,130,130,130,130,130,17,130,17,130,130,130,17,130,130,130,130,130,130,130,130,130,130,130,130,17,130,130,130,130,17,1,130,130,130,130,130,130,17,130,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,130,130,130,130,17,1,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,1,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,1,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,1,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,17,1,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,130,210,210,210,210,210,210,17,1,2,15,15,2,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,1,16,130,130,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,1,16,130,130,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,1,16,130,130,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,1,16,130,130,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,16,16,130,130,16,16,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:32,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:32,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:19,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:104,y:356},{gid:198,height:32,id:43,name:"MarkerDoorPrepRoom",rotation:0,type:"",visible:!0,width:32,x:408,y:48},{gid:200,height:32,id:46,name:"MarkerDoorCafeteria",rotation:0,type:"",visible:!0,width:32,x:56,y:396}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],Dg=6,Ng=47,Bg="isometric",$g="right-down",Wg="1.4.3",Gg=16,Fg=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32}],Hg=32,Ug="map",Kg=1.4,zg=32;var Y6={compressionlevel:Lg,editorsettings:Ig,height:Og,infinite:Pg,layers:Mg,nextlayerid:Dg,nextobjectid:Ng,orientation:Bg,renderorder:$g,tiledversion:Wg,tileheight:Gg,tilesets:Fg,tilewidth:Hg,type:Ug,version:Kg,width:zg},V6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:Lg,editorsettings:Ig,height:Og,infinite:Pg,layers:Mg,nextlayerid:Dg,nextobjectid:Ng,orientation:Bg,renderorder:$g,tiledversion:Wg,tileheight:Gg,tilesets:Fg,tilewidth:Hg,type:Ug,version:Kg,width:zg,default:Y6});const jg=-1,Yg={export:{format:"json",target:"floor2-preproom.json"}},Vg=21,qg=!1,Xg=[{data:[17,16,17,16,17,16,17,16,17,16,17,16,17,16,17,16,17,16,17,16,17,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,17,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,17,16,16,16,16,16,16,16,337,337,337,337,337,337,337,16,16,16,16,16,16,16,17,16,16,16,16,16,16,338,338,338,338,338,338,338,16,16,16,16,16,16,17,16,16,16,16,16,212,212,338,130,130,130,130,130,338,216,216,16,16,16,16,16,17,16,16,16,16,138,138,338,7,7,9,7,7,338,138,138,16,16,16,16,17,16,16,16,16,16,138,138,138,138,138,138,138,138,138,138,138,16,16,16,16,16,17,16,16,16,16,138,138,138,138,138,138,138,138,138,138,138,16,16,16,16,17,16,16,138,138,138,138,138,138,138,138,138,138,138,138,138,138,16,16,16,16,16,17,16,138,138,138,138,138,138,138,138,138,138,138,138,138,138,16,16,16,16,17,16,16,138,138,138,138,138,138,138,138,138,138,138,138,138,138,16,16,16,16,16,17,16,138,138,138,235,138,138,138,138,138,138,138,138,138,138,16,16,16,16,17,16,16,138,138,138,138,138,138,138,138,138,138,138,138,138,138,16,16,16,16,16,17,16,138,138,138,138,138,138,138,138,138,138,138,138,138,138,16,16,16,16,17,16,16,138,138,138,138,138,138,138,138,138,138,138,138,138,138,16,16,16,16,16,17,16,16,16,16,138,138,138,138,138,138,138,138,138,138,138,16,16,16,16,17,16,16,16,16,16,138,138,138,138,138,138,138,138,138,138,138,16,16,16,16,16,17,16,16,16,16,138,138,138,16,138,138,16,138,138,138,138,16,16,16,16,17,16,17,16,17,16,16,16,16,16,15,15,16,16,16,16,16,16,17,16,17,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:21,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:21,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:19,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:164,y:180},{gid:200,height:32,id:47,name:"MarkerDoorNorthRoom",rotation:0,type:"",visible:!0,width:32,x:164,y:272},{gid:194,height:32,id:48,name:"MarkerKioskStats",rotation:0,type:"",visible:!0,width:32,x:92,y:204},{height:56,id:49,name:"#utils-kiosk-stats-activate",rotation:0,type:"",visible:!0,width:56,x:56,y:168},{height:80,id:50,name:"#utils-kiosk-stats-deactivate",rotation:0,type:"",visible:!0,width:80,x:44,y:156}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],Qg=6,Zg=51,Jg="isometric",em="right-down",tm="1.4.3",im=16,nm=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:337,image:"../../res/walls128.png",imageheight:256,imagewidth:256,margin:0,name:"walls128",spacing:0,tilecount:16,tileheight:128,tilewidth:32}],om=32,rm="map",am=1.4,sm=21;var q6={compressionlevel:jg,editorsettings:Yg,height:Vg,infinite:qg,layers:Xg,nextlayerid:Qg,nextobjectid:Zg,orientation:Jg,renderorder:em,tiledversion:tm,tileheight:im,tilesets:nm,tilewidth:om,type:rm,version:am,width:sm},X6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:jg,editorsettings:Yg,height:Vg,infinite:qg,layers:Xg,nextlayerid:Qg,nextobjectid:Zg,orientation:Jg,renderorder:em,tiledversion:tm,tileheight:im,tilesets:nm,tilewidth:om,type:rm,version:am,width:sm,default:q6});const lm=-1,cm=40,dm=!1,um=[{data:[129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,149,149,149,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,149,149,149,149,149,149,149,149,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,129,149,35,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,129,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,129,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,159,159,159,149,149,149,129,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,219,160,160,149,149,149,129,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,159,159,159,149,149,149,129,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,219,160,160,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,159,159,159,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,158,158,158,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,158,158,158,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,217,152,152,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,217,152,152,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,158,158,158,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,158,158,158,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,34,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,36,149,149,149,149,149,149,149,36,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129,129],height:40,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:40,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,221,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,221,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,221,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,226,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,216,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,223,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:40,id:6,name:"Tiles2",opacity:.9,type:"tilelayer",visible:!0,width:40,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:81,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:382.333333333333,y:559.666666666667}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],hm=7,gm=82,mm="isometric",pm="right-down",fm="1.7.2",ym=16,wm=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32}],bm=32,vm="map",xm="1.6",Tm=40;var Q6={compressionlevel:lm,height:cm,infinite:dm,layers:um,nextlayerid:hm,nextobjectid:gm,orientation:mm,renderorder:pm,tiledversion:fm,tileheight:ym,tilesets:wm,tilewidth:bm,type:vm,version:xm,width:Tm},Z6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:lm,height:cm,infinite:dm,layers:um,nextlayerid:hm,nextobjectid:gm,orientation:mm,renderorder:pm,tiledversion:fm,tileheight:ym,tilesets:wm,tilewidth:bm,type:vm,version:xm,width:Tm,default:Q6});const Em=-1,_m=24,Cm=!1,Am=[{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,37,37,37,37,37,37,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,139,139,139,139,139,139,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,139,139,139,139,139,139,37,0,0,0,0,0,148,148,148,148,149,149,149,130,0,0,0,37,139,139,139,139,139,139,37,0,130,150,150,150,150,150,150,150,149,149,149,130,130,130,0,37,139,139,139,139,139,139,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,38,38,38,38,38,38,37,37,38,151,151,151,151,151,151,151,149,149,149,149,149,149,149,140,140,140,140,140,140,140,37,37,148,148,148,148,148,148,148,148,149,149,149,149,149,149,149,140,140,140,140,140,140,140,37,37,38,150,150,150,150,150,150,150,149,149,38,149,149,149,149,38,140,140,140,140,140,140,37,37,38,151,151,151,151,151,151,151,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,37,148,148,148,148,148,148,148,148,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,37,38,150,150,150,150,150,150,150,149,149,38,149,149,149,149,38,140,140,140,140,140,140,37,37,38,151,151,151,151,151,151,151,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,37,148,148,148,148,148,148,148,148,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,37,38,150,150,150,150,150,150,150,149,149,38,149,149,149,149,38,140,140,140,140,140,140,37,37,38,151,151,151,151,151,151,151,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,37,148,148,148,148,148,148,148,148,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,37,38,150,150,150,150,150,150,150,149,149,38,149,149,149,149,38,140,140,140,140,140,140,37,37,38,148,148,148,148,148,148,148,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,37,130,130,130,130,130,130,130,130,149,149,149,149,149,149,149,38,140,140,140,140,140,140,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,37,140,140,37,37,37,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,140,140,37,0,0,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37,140,140,37,0,0,37,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,37],height:24,id:1,name:"Tiles",opacity:1,type:"tilelayer",visible:!0,width:24,x:0,y:0},{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,243,243,243,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,241,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,241,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,241,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,241,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],height:24,id:6,name:"Tiles2",opacity:1,type:"tilelayer",visible:!0,width:24,x:0,y:0},{draworder:"topdown",id:2,name:"Objects",objects:[{gid:194,height:32,id:19,name:"MarkerPlayer",rotation:0,type:"",visible:!0,width:32,x:311,y:173},{gid:200,height:32,id:43,name:"MarkerFromAtrium",rotation:0,type:"",visible:!0,width:32,x:310.5,y:317.5},{gid:337,height:32,id:115,name:"",rotation:0,type:"",visible:!0,width:32,x:253.5,y:254.5},{gid:337,height:32,id:118,name:"",rotation:0,type:"",visible:!0,width:32,x:252,y:220},{gid:337,height:32,id:119,name:"",rotation:0,type:"",visible:!0,width:32,x:252.5,y:187.5},{gid:337,height:32,id:120,name:"",rotation:0,type:"",visible:!0,width:32,x:252,y:156},{gid:337,height:32,id:121,name:"",rotation:0,type:"",visible:!0,width:32,x:252,y:124},{gid:194,height:32,id:132,name:"MarkerWalkA",rotation:0,type:"",visible:!0,width:32,x:281,y:257},{gid:194,height:32,id:133,name:"MarkerWalkB",rotation:0,type:"",visible:!0,width:32,x:280,y:150},{gid:193,height:32,id:134,name:"Floor1BowlingGirl",rotation:0,type:"",visible:!0,width:32,x:279.5,y:232.5},{gid:345,height:32,id:135,name:"",rotation:0,type:"24",visible:!0,width:32,x:322.5,y:27.5},{gid:345,height:32,id:136,name:"",rotation:0,type:"24",visible:!0,width:32,x:315,y:11},{gid:345,height:32,id:137,name:"",rotation:0,type:"12",visible:!0,width:32,x:292,y:28},{gid:345,height:32,id:138,name:"",rotation:0,type:"24",visible:!0,width:32,x:287,y:11},{gid:193,height:32,id:139,name:"Floor1BowlingEmployee",rotation:0,type:"",visible:!0,width:32,x:310,y:70},{height:34,id:140,name:"#floor1-bowling-prevent-bowling",rotation:0,type:"",visible:!0,width:22,x:231.375,y:92.625},{height:40,id:145,name:"#floor1-bowling-employee-standalone",rotation:0,type:"",visible:!0,width:63.5,x:279,y:68},{gid:194,height:32,id:146,name:"MarkerBowlReady",rotation:0,type:"",visible:!0,width:32,x:168.636,y:114.818},{gid:194,height:32,id:147,name:"MarkerBowlBall",rotation:0,type:"",visible:!0,width:32,x:150.074,y:116.972},{gid:343,height:32,id:148,name:"",rotation:0,type:"",visible:!0,width:32,x:253.5,y:268.5},{gid:343,height:32,id:149,name:"",rotation:0,type:"",visible:!0,width:32,x:254,y:238},{gid:343,height:32,id:150,name:"",rotation:0,type:"",visible:!0,width:32,x:253.5,y:204.5},{gid:343,height:32,id:151,name:"",rotation:0,type:"",visible:!0,width:32,x:253.375,y:172.375},{gid:343,height:32,id:152,name:"",rotation:0,type:"",visible:!0,width:32,x:253.5,y:140.5},{gid:343,height:32,id:154,name:"",rotation:0,type:"",visible:!0,width:32,x:265.5,y:80.5},{gid:343,height:32,id:155,name:"",rotation:0,type:"24",visible:!0,width:32,x:263.5,y:72.5},{gid:343,height:32,id:156,name:"",rotation:0,type:"",visible:!0,width:32,x:272,y:82},{gid:343,height:32,id:157,name:"",rotation:0,type:"",visible:!0,width:32,x:271,y:73},{gid:337,height:32,id:158,name:"",rotation:0,type:"",visible:!0,width:32,x:254,y:286},{gid:194,height:32,id:159,name:"MarkerPreventBowling",rotation:0,type:"",visible:!0,width:32,x:269.457,y:109.696},{height:29,id:160,name:"#bowling-standalone-prevent-leave",rotation:0,type:"",visible:!0,width:33,x:286.5,y:320.5},{gid:346,height:32,id:162,name:"",rotation:0,type:"-10",visible:!0,width:32,x:18.5,y:123.5},{gid:346,height:32,id:163,name:"",rotation:0,type:"-10",visible:!0,width:32,x:18.5,y:171.5},{gid:346,height:32,id:164,name:"",rotation:0,type:"-10",visible:!0,width:32,x:17.5,y:218.5},{gid:346,height:32,id:165,name:"",rotation:0,type:"-10",visible:!0,width:32,x:17.5,y:266.5},{gid:347,height:32,id:166,name:"",rotation:0,type:"",visible:!0,width:32,x:-4.5,y:100.5},{gid:347,height:32,id:167,name:"",rotation:0,type:"",visible:!0,width:32,x:-4.5,y:148.5},{gid:347,height:32,id:168,name:"",rotation:0,type:"",visible:!0,width:32,x:-5.5,y:195.5},{gid:347,height:32,id:170,name:"",rotation:0,type:"",visible:!0,width:32,x:-5.5,y:243.5},{gid:349,height:32,id:171,name:"",rotation:0,type:"",visible:!0,width:32,x:52,y:84},{gid:350,height:32,id:172,name:"",rotation:0,type:"",visible:!0,width:32,x:99.5,y:82.5},{gid:351,height:32,id:183,name:"",rotation:0,type:"",visible:!0,width:32,x:293.5,y:74.5},{gid:351,height:32,id:184,name:"",rotation:0,type:"",visible:!0,width:32,x:294,y:68},{gid:352,height:32,id:185,name:"",rotation:0,type:"",visible:!0,width:32,x:294.5,y:57.5},{gid:352,height:32,id:186,name:"",rotation:0,type:"",visible:!0,width:32,x:295,y:51},{gid:347,height:32,id:189,name:"",rotation:0,type:"",visible:!0,width:32,x:251,y:29},{gid:598,height:55,id:190,name:"",rotation:0,type:"front",visible:!0,width:75,x:309,y:9}],opacity:1,type:"objectgroup",visible:!0,x:0,y:0}],Sm=7,km=191,Rm="isometric",Lm="right-down",Im="1.7.2",Om=16,Pm=[{columns:16,firstgid:1,image:"../../res/walls.png",imageheight:512,imagewidth:512,margin:0,name:"walls",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:8,firstgid:129,image:"../../res/floors.png",imageheight:256,imagewidth:256,margin:0,name:"floors",spacing:0,tilecount:64,tileheight:32,tilewidth:32},{columns:4,firstgid:193,image:"../../res/control.png",imageheight:128,imagewidth:128,margin:0,name:"control",spacing:0,tilecount:16,tileheight:32,tilewidth:32},{columns:16,firstgid:209,image:"../../res/props.png",imageheight:512,imagewidth:512,margin:0,name:"props",spacing:0,tilecount:128,tileheight:64,tilewidth:32},{columns:16,firstgid:337,image:"../../res/props_small.png",imageheight:512,imagewidth:512,margin:0,name:"props_small",spacing:0,tilecount:256,tileheight:32,tilewidth:32},{firstgid:593,source:"../../res/props-dynamic.tiled-sheet.tsx"}],Mm=32,Dm="map",Nm="1.6",Bm=24;var J6={compressionlevel:Em,height:_m,infinite:Cm,layers:Am,nextlayerid:Sm,nextobjectid:km,orientation:Rm,renderorder:Lm,tiledversion:Im,tileheight:Om,tilesets:Pm,tilewidth:Mm,type:Dm,version:Nm,width:Bm},ey=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",compressionlevel:Em,height:_m,infinite:Cm,layers:Am,nextlayerid:Sm,nextobjectid:km,orientation:Rm,renderorder:Lm,tiledversion:Im,tileheight:Om,tilesets:Pm,tilewidth:Mm,type:Dm,version:Nm,width:Bm,default:J6});const z9=window.rooms={},j9={floor1Outside:o6,floor1Atrium:a6,floor1Bowling:l6,floor1Primary:d6,floor1West1:h6,floor1West2:m6,floor1East1:f6,floor1East1Storage:w6,floor1East2:v6,floor1TutEntrance:T6,floor1TutExit:_6,floor1TutVR1:A6,floor1TutVR2:k6,floor1TutVR3:L6,floor1TutVR3West:O6,floor1TutVR3West2:M6,floor1TutVR3East:N6,floor1TutVRPreBoss:$6,floor1TutVRBoss:G6,floor2South:H6,floor2GuestroomHallway:K6,floor2Cafeteria:j6,floor2North:V6,floor2PrepRoom:X6,floor2Sports:Z6,test3:i6,battle1:Hf,battleTut1:Kf,battleTut1Centered:jf,battleTut1Centered2:Vf,battleTutBoss:Xf,bowlingAlleyStandalone:ey},Y9=(e,t)=>{z9[e]=Cp(e,t)},ty=async()=>{console.log("loading rooms"),Y9("test",Zf),Y9("test2",e6);for(const e in j9)Y9(e,j9[e]);console.log("rooms loaded")},$m=e=>{const t=z9[e];if(!t)throw console.log(Object.keys(z9)),new Error(`No room exists with name: "${e}"`);return Pk(t)},$1=window.overworlds={},ii=e=>{const t=$1[e];if(!t)throw new Error(`No overworld exists with name: ${e}`);return S({},t)},Wm=e=>{const t=$1[e];return t?S({},t):null},iy=async()=>{var t,i,n,o,r,s,l,c,d,u,g;const e=new T1([0,0,0],[-684,0,0],4e4,S1.LINEAR);$1.test={roomName:"test",backgroundColor:h.GREY},$1.test2={roomName:"test2",loadTriggerName:"floor1",backgroundColor:h.GREY};for(const m in j9)$1[m]={roomName:m,loadTriggerName:m,backgroundColor:h.GREY};return Object.assign((t=$1.bowlingAlleyStandalone)!=null?t:{},{backgroundColor:h.BLACK,music:"music_bowling"}),$1.floor1Outside.backgroundColor=h.DARKBLUE,Object.assign((i=$1.floor1Atrium)!=null?i:{},{backgroundColor:h.BLACK,music:"music_atrium"}),Object.assign((n=$1.floor1TutEntrance)!=null?n:{},{backgroundColor:h.BLACK,music:"music_atrium"}),Object.assign((o=$1.floor1Primary)!=null?o:{},{backgroundColor:h.BLACK,music:"music_atrium"}),Object.assign((r=$1.floor1West1)!=null?r:{},{backgroundColor:h.BLACK,music:"music_atrium"}),Object.assign((s=$1.floor1West2)!=null?s:{},{backgroundColor:h.BLACK,music:"music_atrium"}),Object.assign((l=$1.floor1East1)!=null?l:{},{backgroundColor:h.BLACK,music:"music_store"}),Object.assign((c=$1.floor1East1Storage)!=null?c:{},{backgroundColor:h.BLACK,music:"music_snoop"}),Object.assign((d=$1.floor1East2)!=null?d:{},{backgroundColor:h.BLACK,music:"music_atrium"}),Object.assign((u=$1.floor1Bowling)!=null?u:{},{music:"music_bowling"}),Object.assign((g=$1.floor2GuestroomHallway)!=null?g:{},{backgroundColor:h.BLACK}),["floor1TutVR1","floor1TutVR2","floor1TutVR3","floor1TutVR3West","floor1TutVR3West2","floor1TutVR3East","floor1TutVRPreBoss","floor1TutVRBoss","battleTut1","battleTut1Centered","battleTut1Centered2","battleTutBoss"].forEach((m,f)=>{var p;Object.assign((p=$1[m])!=null?p:{},{backgroundColor:h.DARKBLUE,backgroundImage:"bg-clouds2",backgroundTransform:e,music:(f<=1,"music_tutorial")}),m.includes("battle")&&($1[m].music=void 0)}),ty()};var ni,Se,Gm,c2=0,V9=[],Fm=Z.__b,Hm=Z.__r,Um=Z.diffed,Km=Z.__c,zm=Z.unmount;function q9(e,t){Z.__h&&Z.__h(Se,e,c2||t),c2=0;var i=Se.__H||(Se.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({}),i.__[e]}function G(e){return c2=1,E0(Xm,e)}function E0(e,t,i){var n=q9(ni++,2);return n.t=e,n.__c||(n.__=[i?i(t):Xm(void 0,t),function(o){var r=n.t(n.__[0],o);n.__[0]!==r&&(n.__=[r,n.__[1]],n.__c.setState({}))}],n.__c=Se),n.__}function c1(e,t){var i=q9(ni++,3);!Z.__s&&qm(i.__H,t)&&(i.__=e,i.__H=t,Se.__H.__h.push(i))}function Ye(e){return c2=5,jm(function(){return{current:e}},[])}function jm(e,t){var i=q9(ni++,7);return qm(i.__H,t)&&(i.__=e(),i.__H=t,i.__h=e),i.__}function Ym(e,t){return c2=8,jm(function(){return e},t)}function ny(){V9.forEach(function(e){if(e.__P)try{e.__H.__h.forEach(oi),e.__H.__h.forEach(X9),e.__H.__h=[]}catch(t){e.__H.__h=[],Z.__e(t,e.__v)}}),V9=[]}Z.__b=function(e){Se=null,Fm&&Fm(e)},Z.__r=function(e){Hm&&Hm(e),ni=0;var t=(Se=e.__c).__H;t&&(t.__h.forEach(oi),t.__h.forEach(X9),t.__h=[])},Z.diffed=function(e){Um&&Um(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(V9.push(t)!==1&&Gm===Z.requestAnimationFrame||((Gm=Z.requestAnimationFrame)||function(i){var n,o=function(){clearTimeout(r),Vm&&cancelAnimationFrame(n),setTimeout(i)},r=setTimeout(o,100);Vm&&(n=requestAnimationFrame(o))})(ny)),Se=void 0},Z.__c=function(e,t){t.some(function(i){try{i.__h.forEach(oi),i.__h=i.__h.filter(function(n){return!n.__||X9(n)})}catch(n){t.some(function(o){o.__h&&(o.__h=[])}),t=[],Z.__e(n,i.__v)}}),Km&&Km(e,t)},Z.unmount=function(e){zm&&zm(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(oi)}catch(i){Z.__e(i,t.__v)}};var Vm=typeof requestAnimationFrame=="function";function oi(e){var t=Se;typeof e.__c=="function"&&e.__c(),Se=t}function X9(e){var t=Se;e.__c=e.__(),Se=t}function qm(e,t){return!e||e.length!==t.length||t.some(function(i,n){return i!==e[n]})}function Xm(e,t){return typeof t=="function"?t(e):t}var O;(function(e){e.BattleUI="battleMenu",e.BattleVictory="battleVictory",e.BattleDefeated="battleDefeated",e.Cutscene="cutscene",e.Debug="debug",e.ArcadeCabinet="arcadeCabinet",e.Choices="choices",e.Settings="settings",e.Modal="modal",e.Save="save",e.Menu="menu",e.LevelUp="level-up",e.Quest="quest",e.Store="store",e.InfoStats="info-stats"})(O||(O={}));var p1;(function(e){e.Left="left",e.Left2="left2",e.Right="right",e.Right2="right2",e.Center="center",e.None="none"})(p1||(p1={}));var E1;(function(e){e.TUTORIAL_ATTACK="TUTORIAL_ATTACK",e.TUTORIAL_PAUSING="TUTORIAL_PAUSING",e.TUTORIAL_ATTACK_AMOUNTS="TUTORIAL_ATTACK_AMOUNTS",e.TUTORIAL_STAGGER="TUTORIAL_STAGGER",e.TUTORIAL_BACK_ROW="TUTORIAL_BACK_ROW",e.TUTORIAL_MAGIC="TUTORIAL_MAGIC",e.TUTORIAL_ARMOR="TUTORIAL_ARMOR",e.ITEM="ITEM",e.INFO="INFO",e.CONFIRM="CONFIRM",e.SELECT_PARTY_MEMBER="SELECT_PARTY_MEMBER",e.SELECT_CHARACTER_FOLLOWER="SELECT_CHARACTER_FOLLOWER"})(E1||(E1={}));const oy={sections:[O.Debug],room:{particles:[]},overworld:{characterText:"",prevCharacterText:"",interfaceDisabled:!1},cutscene:{id:"",showBars:!0,text:"",speaker:p1.None,speakerName:"",actorName:"",visible:!0,portraitLeft:"",portraitLeftEmotion:"",portraitLeft2:"",portraitLeft2Emotion:"",portraitRight:"",portraitRightEmotion:"",portraitRight2:"",portraitRight2Emotion:"",portraitCenter:"",portraitCenterEmotion:"",actors:[],portraitActors:[]},battle:{characterIndexSelected:0,targetIndexSelected:0,disabled:!1,paused:!1,effect:{active:!1,bChList:[],effectAnimName:""}},arcadeGame:{path:"",isGameRunning:!1,isGameReady:!1},choices:{choiceTexts:[],keyHandlerInternal:()=>{}},modal:{section:E1.TUTORIAL_ATTACK,onClose:()=>{},danger:!1,filter:()=>!0},settings:{onClose:()=>{}},save:{onClose:()=>{}},menu:{onClose:()=>{}},levelUp:{onClose:()=>{}},quest:{onClose:()=>{},questName:""},store:{onClose:()=>{},storeName:""},notifications:[],infoStats:{onClose:()=>{}}},ry=()=>{const e={storage:{},storageOnce:{},storageOnceKeys:{},storageEncounters:{},storageTreasure:{},onceKeysToCommit:[],commands:{},currentScript:null,currentTrigger:null,currentTriggerType:null,scriptStack:[],isWaitingForInput:!1,isWaitingForTime:!1,isWaitingForAnimation:!1,inputDisabled:!1,waitTimeoutId:-1,waitTimeoutCb:null,skip:!1,postSceneCallbacks:[]};return Object.assign(e.commands,H4(e)),e},Q9=()=>{of(ry())},U0=e=>e.isWaitingForInput||e.isWaitingForTime||e.isWaitingForAnimation,_0=e=>{e.isWaitingForTime=!1},ay=(e,t)=>!!sy(e)[t],sy=e=>e.commands,ly=(e,t,i)=>{e.storageEncounters[i]?e.storageEncounters[i][t]=!0:e.storageEncounters[i]={[t]:!0}},cy=(e,t,i)=>{e.storageTreasure[i]?e.storageTreasure[i][t]=!0:e.storageTreasure[i]={[t]:!0}},dy=(e,t,i)=>e.storageEncounters[i]?!!e.storageEncounters[i][t]:!1,uy=(e,t,i)=>e.storageTreasure[i]?!!e.storageTreasure[i][t]:!1,hy=(e,t)=>{e.storage.current_overworld=t},gy=(e,t)=>{e.postSceneCallbacks.push(t)};var Wp;const my=((Wp=window.RPGSCRIPT_PATH)!=null?Wp:"")+"/rpgscript";function py(e,t){const i=[];let n="",o="",r=!1;for(let s=0;s<e.length;s++){const l=e[s];o?l===o&&(o="",r=!1):l==='"'||l==="'"?(o=l,r=!0):l==="("?r=!0:l===")"&&(r=!1),!r&&e[s]===t?(i.push(n),n=""):n+=l}return n&&i.push(n),i}function fy(e,t){let i="",n=!1;for(let o=0;o<e.length;o++){const r=e[o];if(i?r===i&&(i="",n=!1):r==='"'||r==="'"?(i=r,n=!0):r==="("?n=!0:r===")"&&(n=!1),!n&&e[o]===t)return o}return-1}function yy(e){return e.map(t=>t[0]==='"'||t[0]==="'"?t.slice(1,-1):t)}function Z9(e){return yy(e).map(t=>isNaN(parseFloat(t))?t:parseFloat(t))}var ye;(function(e){e.STEP="step",e.STEP_FIRST="step-first",e.STEP_OFF="step-off",e.ACTION="action"})(ye||(ye={}));class wy{constructor(t,i,n){this.name=t,this.filename=i,this.lineNum=n,this.scriptCalls=[]}addScriptCall(t,i,n){this.scriptCalls.push({type:t,condition:i,scriptName:n})}}class by{constructor(t,i,n){this.name=t,this.filename=i,this.lineNum=n,this.blocks=[],this.soundNameStorage={},this.currentBlockIndex=0,this.currentCommandIndex=0,this.sounds=0,this.soundsPerCharacter={}}reset(){this.currentBlockIndex=0,this.currentCommandIndex=0,this.blocks.forEach(t=>{t.conditionalResult=void 0})}isValid(t){if(!t)return{};for(let i=0;i<this.blocks.length;i++){const n=this.blocks[i];for(let o=0;o<n.commands.length;o++){const r=n.commands[o];if(r.type[0]!==":"&&!ay(t,r.type))return{msg:`No command exists with name "${r.type}" and args "${r.args.join(",")}" `,lineNum:r.i}}}return{}}getNextCommand(){const t=this.blocks[this.currentBlockIndex];if(t){const i=t.commands[this.currentCommandIndex];return i?(this.currentCommandIndex++,{i:this.currentBlockIndex,args:i.args,type:i.type,conditional:t.conditional,block:t}):(this.currentBlockIndex++,this.currentCommandIndex=0,this.getNextCommand())}else return null}getNextDialog(t){this.soundsPerCharacter[t]?this.soundsPerCharacter[t]++:this.soundsPerCharacter[t]=1;let i=this.soundsPerCharacter[t];i<10&&(i="0"+i);const n=this.name+"/"+this.sounds,o=this.name+"/"+t+"-"+i;return this.sounds++,{soundNameIndexed:n,soundNameCh:o,n:i}}addCommandBlock(){const t={conditional:!0,commands:[]};return this.blocks.push(t),t}}class Qm{constructor(t){this.name=t,this.soundsToLoad=[]}throwParsingError(t,i,n){const o=`{Line ${i===-1?0:i}} Script parsing error ${this.name}: ${t} CONTENTS [
"${n}"
]`;throw console.error(o),new Error(o)}parseCommand(t,i,n){if(t=t.trim(),t[0]===":"){const l=t.slice(),c=l.indexOf("("),d=l.lastIndexOf(")");c===-1&&this.throwParsingError("Invalid callScript shorthand, no open paren.'",i,t),d===-1&&this.throwParsingError("Invalid callScript shorthand, no close paren.'",i,t);const u=l.slice(1,c),g=l.slice(c+1,d).split(",");t=`callScript(${u},${g.join(",")});`}const o=t.indexOf("("),r=t.lastIndexOf(")");if(t.match(/^(\w)+:/)&&n)return this.createDialogCommand(t,n,i);(o===-1||o===0)&&this.throwParsingError("Invalid command, no name provided",i,t),(r===-1||r===0)&&this.throwParsingError("Invalid command, no end parens",i,t);let s=t.substr(o+1,t.length-(o+1)-(t.length-r));return s=py(s,",").map(l=>l.trim()),s.forEach(l=>{l[0]==="'"?l[l.length-1]!=="'"&&this.throwParsingError(`Invalid command, unterminated single quote "'"`,i,t):l[0]==='"'&&l[l.length-1]!=='"'&&this.throwParsingError(`Invalid command, unterminated double quote '"'`,i,t)}),{i,type:t.substr(0,o),args:Z9(s)}}parseConditional(t,i,n){const{type:o,args:r}=this.parseCommand(t,i,n);return["is","isnot","gt","lt","eq","any","all","as","once","with","func"].includes(o)||this.throwParsingError(`Invalid conditional, no type named "${o}"`,i,t),{type:o,args:r.map(l=>typeof l=="string"&&o!=="func"&&l.indexOf("(")!==-1?this.parseCommand(l,i,n):l)}}combineConditionals(t,i,n){return{type:n,args:[t,i]}}createAllConditional(...t){return{type:"all",args:[...t]}}getConditionalFromLine(t,i,n){const o=fy(t,"?");if(o>-1){const r=t.indexOf(":");r===-1&&this.throwParsingError("Invalid conditional, no ending ':'",i,t);const s=t.slice(o+1,r);return{conditional:this.parseConditional(s.trim(),i,n),endIndex:r+1}}else return{conditional:!0,endIndex:0}}createDialogCommand(t,i,n){const o=t.indexOf(":");o===-1&&this.throwParsingError('Dialog command did not have a ":" character.',n,t);let r=t.slice(0,o),s=t.slice(o+1),l="playDialogue";r[0]==="_"&&(r=r.slice(1),l="playDialogueInterruptable"),s=s.trim();const{soundNameCh:c,soundNameIndexed:d,n:u}=i.getNextDialog(r);return this.soundsToLoad.push({soundNameCh:c,soundNameIndexed:d}),{i:parseInt(String(u)),type:l,args:Z9([r,s,c])}}parse(t,i){var w;const n={},o={},r=(v,A)=>n[v]=A,s=(v,A)=>o[v]=A;let l=!1,c=!1,d=!1,u=null,g=null,m=null,f=null;const p=[],y=t.split(`
`);if(y.forEach((v,A)=>{var k;if(A=A+1,v=v.trim(),v.length===0||v[0]==="/"&&v[1]==="/")return;const C=v[0];if(C==="{")l=!0,p.push(!0);else if(C==="}")l=!1,u=null,p.pop();else if(C==="@"&&!l){let N=v.substr(1,v.length-1);if(N==="this"&&(N=f||""),N.length===0&&this.throwParsingError("Invalid script name",A,v),g){const R=g.isValid(i),L=R.msg;L&&this.throwParsingError(L,(k=R.lineNum)!=null?k:0,"")}g=new by(N,this.name,A),s(N,g),c=!1,d=!1}else if(C==="$")d=!0,c=!1,g&&(u=g.addCommandBlock(),u.conditional=!0,u.commands.push({i:A,type:"showChoices",args:[]}));else if(C==="#")c=!0,d=!1,f=v.substr(1),m=new wy(v.substr(1),this.name,A),r(v.substr(1),m);else if(C==="+"||l){const N=v.substr(l?0:1);if(g){const{conditional:R,endIndex:L}=this.getConditionalFromLine(N,A,g);if(typeof R=="object"){if(N[L]==="{"){p.push(R),l=!0,u=g.addCommandBlock(),u.conditional=this.createAllConditional(...p);return}else if(L===N.length){u=g.addCommandBlock(),u.conditional=R;return}}let F=null;l?(u===null&&(u=g.addCommandBlock(),u.conditional=R),F=u):(F=u=g.addCommandBlock(),F.conditional=R);let E=N.substr(L);const I=/(.*): "(.*)"/.test(E);if(E[0]==="?"){this.throwParsingError("Invalid conditional, did you forget '+' at the start?",A,v);return}if(E[0]==="+")E=E.slice(1);else if(I){const o1=this.createDialogCommand(E,g,A);F.commands.push(o1);return}const{type:W,args:j}=this.parseCommand(E,A,g),d1={i:A,type:W,args:j};F.commands.push(d1)}}else if(d){const N=v.indexOf(":");N===-1&&this.throwParsingError(`Invalid choice definition, no colon '"'`,A,v);const R=v.substr(0,N),L=v.substr(N+1);u&&u.commands[0].args.push({text:R,target:L})}else if(c){const N=v.indexOf(",");N===-1&&this.throwParsingError("Invalid trigger script call, invalid number of arguments",A,v);const R=v.substr(0,N);let L=v.substr(N+1),F=null;if(R==="item"){const d1=L.slice(0,L.indexOf(","));F={type:"with",args:[d1]},L=L.slice(L.indexOf(",")+1)}const{conditional:E,endIndex:I}=this.getConditionalFromLine(L,A,g);let W=E;F&&(W=this.combineConditionals(F,E,"all"));let j=L.substr(I);j==="this"&&f&&(j=f),m&&m.addScriptCall(R,W,j)}else if(C===">")u&&u.commands.push({i:A,type:"callScript",args:[v.substr(1)]});else if(c=!1,g){if(v[0]==="?"){this.throwParsingError("Invalid conditional, did you forget '+' at the start?",A,v);return}const N=g.addCommandBlock(),R=this.createDialogCommand(v,g,A);N.commands.push(R)}}),g){const v=g.isValid(i),A=v==null?void 0:v.msg;A&&this.throwParsingError(A,(w=v.lineNum)!=null?w:0,y[y.length-1])}return{triggers:n,scripts:o}}}const J9={},Zm={},we=async(e,t)=>{const i=`${my}/${e}.rpgscript`;console.log("Loading script",i);const n=await(await fetch(i)).text();vy(e,n,t)},vy=(e,t,i)=>{const n=new Qm(e),{triggers:o,scripts:r}=n.parse(t,i);Object.assign(J9,r),Object.assign(Zm,o)},xy=(e,t)=>{const i=new Qm(e),{scripts:n}=i.parse(e,t);return n},Ty=e=>{const t=J9[e];if(!t)throw new Error(`Cannot get script with name ${e}`);return t},Jm=e=>{const t=Zm[e];if(!t)throw new Error(`Cannot get trigger with name ${e}`);return t},Ey=e=>!!J9[e];let e4=!1;const t4=()=>{if(e4){console.error("Events have already been initialized."),console.trace("events");return}e4=!0;const e=document.getElementById(p9);e==null||e.getBoundingClientRect(),window.addEventListener("mousemove",t=>{}),window.addEventListener("keydown",t=>{if(t.repeat)return;x9(t.code),x9(t.key);const i=d2();i&&i(t)}),window.addEventListener("keyup",t=>{T9(t.key),T9(t.code)}),Et(async t=>{})},C0=window.keyHandlers=[],d2=()=>C0[C0.length-1],Et=e=>{C0.push(e)},K0=()=>{const e=()=>{};return C0.push(e),e},ee=e=>{if(e){const t=C0.indexOf(e);t>-1&&C0.splice(t,1)}else C0.splice(C0.length-1,1)},z0=e=>["Return","Enter"," ","x","X","KeyX"].includes(e),u2=()=>"(X)",be=e=>["Escape","z","Z","KeyZ"].includes(e),i4=()=>"KeyX",te=()=>"(Z)",_y=()=>"KeyZ",ri=e=>["c","C","KeyC"].includes(e),n4=()=>"(Space)",Cy=e=>[" "].includes(e),en=()=>"(C)",o4=e=>["ArrowLeft"].includes(e),r4=e=>["ArrowRight"].includes(e),a4=e=>["ArrowUp"].includes(e),s4=e=>["ArrowDown"].includes(e),Ay=e=>["Backspace","Escape"].includes(e),l4=()=>"(Backspace)",Sy=e=>["M","m","KeyM"].includes(e),c4=()=>"(M)",ky=e=>["Escape"].includes(e),Ry=()=>"(ESC)",Ly=e=>["Backspace"].includes(e),_t=e=>{switch(e){case 0:return"(X)";case 1:return"(Z)";case 2:return"(S)";case 3:return"(A)";case 4:return"(W)";case 5:return"(Q)"}return""},Iy=e=>{var n,o;const t=$m(e.roomName);if(!t)return console.error("Cannot initiate overworld, no room exists with name: ",e.roomName),null;t.bgImage=(n=e.backgroundImage)!=null?n:"",e.backgroundTransform&&(t.bgTransform=T1.copy(e.backgroundTransform));const i={name:e.roomName,room:t,music:(o=e.music)!=null?o:"",visible:!0,triggersEnabled:!0,characterCollisionEnabled:!0,playerIsCollidingWithInteractable:!1,collidingTriggerActivators:[],previouslyCollidingTriggerActivators:[],loadTriggerName:e.loadTriggerName,timers:[],stepTimer:new w1(50)};return i.stepTimer.start(),i},d4=e=>{e.triggersEnabled=!1},u4=e=>{e.triggersEnabled=!0},tn=e=>{e.visible=!0,Nk(e.room)},h2=e=>{e.visible=!1,Bk(e.room)},ve=()=>{if(ze())return;er(!0),W1(),O9().forEach(n=>{n.pauseOverride()});const e=f0();e&&e.timer.pauseOverride();const t=B();if(t){t.bgTransform.timer.pause();for(let o=0;o<t.renderObjects.length;o++){const r=t.renderObjects[o];r.anim&&r.anim.pause()}t.characters.forEach(o=>{o.transform&&o.transform.timer.pauseOverride(),_e(o).pause()}),t.particles.forEach(o=>{o.timer.pauseOverride(),o.anim&&o.anim.pause(),o.transform&&o.transform.timer.pauseOverride()})}const i=M();i&&(ct(i),i.isPaused=!0)},D1=()=>{if(!ze())return;er(!1),O9().forEach(n=>{n.unpauseOverride()});const e=f0();e&&e.timer.unpauseOverride();const t=B();if(t){t.bgTransform.timer.unpause();for(let o=0;o<t.renderObjects.length;o++){const r=t.renderObjects[o];r.anim&&r.anim.unpause()}t.characters.forEach(o=>{o.transform&&o.transform.timer.unpauseOverride(),_e(o).unpause()}),t.particles.forEach(o=>{o.timer.unpauseOverride(),o.anim&&o.anim.unpause(),o.transform&&o.transform.timer.unpauseOverride()})}const i=M();i&&(jt(i),i.isPaused=!1),W1()};let h4=!1;const nn=async()=>{if(h4){console.log("Main loop is already running.");return}h4=!0;const e=performance.now();let t=e;const i=16;window.running=!0,wt("outer").getContext("2d");const o=()=>window.running&&requestAnimationFrame(r),r=s=>{const c=(s-t)/i;if(af(c>4?4:c),t=s,rf(s),ze()){const[R,L]=vt(),F=B(),E=F.visible;let I=0,W=0;const j=P();if(j){const o1=f0();if(o1){const[r1,i1]=o1.current();I=r1,W=i1,o1.update()}else{const[r1,i1]=A2(j);I=r1,W=i1}}if(gr([I,W]),wr()){const o1=F.bgTransform;u9(0,0,R,L,rr()),o1.update();const r1=o1.current();F.bgImage&&Ke(F.bgImage,171+r1[0],128+r1[1])}E&&Lp(F,I,W,void 0,!wr());const d1=tr();for(const o1 in d1)d1[o1]();o();return}O9().forEach(R=>{R.update()});const[d,u]=vt(),g=$(),m=M(),f=g1(),p=B();g&&ui(g);let y=!1,w=0,v=0;if(p){y=p.visible;for(let L=0;L<p.tiles.length;L++)p.tiles[L].highlighted=!1;f&&Uy(f),m&&GS(m);for(let L=0;L<p.characters.length;L++){const F=p.characters[L];bk(F)}for(let L=0;L<p.particles.length;L++)M8(p.particles[L]),p.particles[L].shouldRemove&&(_o(p,p.particles[L]),L--);const R=P();if(R){const L=f0();if(L){const[F,E]=L.current();w=F,v=E,L.update()}else{const[F,E]=A2(R);w=F,v=E}}gr([w,v])}const A=ff();if(A){A.updateDraw(),o();return}Rp(),Rp(K1("outer")),u9(0,0,d,u,rr());const C=p.bgTransform;C.update();const k=C.current();p.bgImage&&Ke(p.bgImage,171+k[0],128+k[1]),y&&Lp(p,w,v);const N=tr();for(const R in N)N[R]();o()};r(e)},ke=1.5,Oy=e=>{const i=(()=>{const n={RobotSwingNormalNNStaggerable:{name:"RobotSwingNormalNNStaggerable",label:"Robot",description:"AI",cooldown:1e4*ke,type:V.SWING,meta:{swings:[H.NORMAL,H.NORMAL]},cb:async function(o,r){var d,u,g;const s=1,l=5,c=M1(o,r);c&&await ge(o,this,r,c,{baseDamage:s,baseStagger:l,swingType:(g=(u=(d=this.meta)==null?void 0:d.swings)==null?void 0:u[r.actionStateIndex])!=null?g:H.NORMAL})}},RobotSwingNormalNN:{name:"RobotSwingNormalNN",label:"Robot",description:"AI",cooldown:1e4*ke,type:V.SWING,meta:{swings:[H.NORMAL,H.NORMAL]},cb:async function(o,r){var d,u,g;const s=1,l=5,c=M1(o,r);c&&await ge(o,this,r,c,{baseDamage:s,baseStagger:l,swingType:(g=(u=(d=this.meta)==null?void 0:d.swings)==null?void 0:u[r.actionStateIndex])!=null?g:H.NORMAL})}},RobotSwingSpeedyN:{name:"RobotSwingSpeedyN",label:"Robot",description:"AI",cooldown:5e3*ke,type:V.SWING,meta:{swings:[H.NORMAL,H.NORMAL]},cb:async function(o,r){var d,u,g;const s=2,l=2,c=M1(o,r);c&&await ge(o,this,r,c,{baseDamage:s,baseStagger:l,swingType:(g=(u=(d=this.meta)==null?void 0:d.swings)==null?void 0:u[r.actionStateIndex])!=null?g:H.NORMAL})}},RobotSwingArmoredNK:{name:"RobotSwingArmoredNK",description:"AI",cooldown:11e3*ke,type:V.SWING,meta:{swings:[H.NORMAL,H.KNOCK_DOWN]},cb:async function(o,r){var d,u,g;const s=3,l=1,c=M1(o,r);c&&await ge(o,this,r,c,{baseDamage:s,baseStagger:l,swingType:(g=(u=(d=this.meta)==null?void 0:d.swings)==null?void 0:u[r.actionStateIndex])!=null?g:H.NORMAL})}},RobotSwingPierce:{name:"RobotSwingPierce",description:"AI",cooldown:9e3*ke,type:V.SWING,meta:{swings:[H.PIERCE]},cb:async function(o,r){var d,u,g;const s=1,l=5,c=M1(o,r);c&&await ge(o,this,r,c,{baseDamage:s,baseStagger:l,swingType:(g=(u=(d=this.meta)==null?void 0:d.swings)==null?void 0:u[r.actionStateIndex])!=null?g:H.NORMAL})}},RobotRanged:{name:"RobotRanged",description:"AI",cooldown:5e3*ke,type:V.RANGED,meta:{ranges:[Me.NORMAL,Me.NORMAL]},cb:async function(o,r){var d,u,g;const s=1,l=0,c=M1(o,r);c&&await qn(o,this,r,c,{baseDamage:s,baseStagger:l,rangeType:(g=(u=(d=this.meta)==null?void 0:d.ranges)==null?void 0:u[r.actionStateIndex])!=null?g:Me.NORMAL})}},RobotBlackFireSnap:{name:"RobotBlackFireSnap",description:"AI",cooldown:5500*ke,type:V.CAST,meta:{castTime:3e3},cb:async function(o,r){const s=5,l=99;M1(o,r)&&Yi(r,{castTime:n.RobotBlackFireSnap.meta.castTime,onCast:async()=>{const d=M1(o,r);d&&await Xn(o,n.RobotBlackFireSnap,r,[d],{baseDamage:s,baseStagger:l,particleText:"Black Fire Snap!",particleTemplate:L8,soundName:"battle_fire_explosion1"})},onInterrupt:async()=>{}})}},RobotChannelEvasionBuff:{name:"RobotChannelEvasionBuff",description:"AI",cooldown:2e4*ke,type:V.CHANNEL,meta:{},cb:async function(o,r){const l={cb:(c,d,u)=>(console.log("GOT A EVASION TYPE IN PERSISTENT EFFECT CB",c,d,u),d+10),source:r,affectedAllegiance:s1.ENEMY,name:"Evasion+",description:"Units have 10% increased evasion.",icon:"effects_channel_buff",anim:se("effects_channel_buff2")};QS(o,Kt.onBeforeCharacterEvades,l),r.onChannelInterrupted=async()=>{ZS(o,Kt.onBeforeCharacterEvades,l)},await sS(o,n.RobotChannelEvasionBuff,r,{particleText:"Evasion+",soundName:"robot_channel_start"})}},BossRobotSwingArmoredN:{name:"BossRobotSwingArmoredNK",description:"AI",cooldown:4e3*ke,type:V.SWING,meta:{swings:[H.NORMAL,H.NORMAL]},cb:async function(o,r){var d,u,g;const s=5,l=2,c=M1(o,r);c&&await ge(o,this,r,c,{baseDamage:s,baseStagger:l,swingType:(g=(u=(d=this.meta)==null?void 0:d.swings)==null?void 0:u[r.actionStateIndex])!=null?g:H.NORMAL})}},BossRobotSwingArmoredNK:{name:"BossRobotSwingArmoredNK",description:"AI",cooldown:4e3*ke,type:V.SWING,meta:{swings:[H.KNOCK_DOWN]},cb:async function(o,r){var d,u,g;const s=5,l=2,c=M1(o,r);c&&await ge(o,this,r,c,{baseDamage:s,baseStagger:l,swingType:(g=(u=(d=this.meta)==null?void 0:d.swings)==null?void 0:u[r.actionStateIndex])!=null?g:H.NORMAL})}},BossRobotSwingPierce:{name:"BossRobotSwingPierce",description:"AI",cooldown:5e3*ke,type:V.SWING,meta:{swings:[H.PIERCE]},cb:async function(o,r){var d,u,g;const s=1,l=3,c=M1(o,r);c&&await ge(o,this,r,c,{baseDamage:s,baseStagger:l,swingType:(g=(u=(d=this.meta)==null?void 0:d.swings)==null?void 0:u[r.actionStateIndex])!=null?g:H.NORMAL})}},BossRobotSummonAid:{name:"BossRobotSummonAid",description:"AI",cooldown:5e3*ke,type:V.CAST,meta:{castTime:1e3},cb:async function(o,r){M1(o,r)&&Yi(r,{castTime:n.BossRobotSummonAid.meta.castTime,onCast:async()=>{await Xn(o,n.BossRobotSummonAid,r,[],{baseDamage:void 0,baseStagger:void 0,particleText:"Summon Aid!",particleTemplate:jn("EFFECT_TEMPLATE_PORTAL_SPAWN"),soundName:"battle_fire_explosion1",cb:()=>{const l=B(),c=M(),u=[{chTemplate:u1("TUT_ROBOT_MELEE"),position:X.FRONT,ai:"BATTLE_AI_ATTACK"},{chTemplate:O1(u1("TUT_ROBOT_MAGE")),position:X.MIDDLE,ai:"BATTLE_AI_ATTACK"}].map(g=>{const m=o0(g.chTemplate);return gt(l,m),Y8(m,g)});x("battle_fire_explosion1"),u.forEach(g=>{c.enemies.push(g),c.enemiesStorage.push(g),R2(g),ip(c,g);const[m,f]=L1(g.ch),p=jn("EFFECT_TEMPLATE_PORTAL_SPAWN");x1(c.room,e0([m,f],p))}),W1()}})},onInterrupt:async()=>{}})}}};return n})();e.TUT_ROBOT_MELEE_REALLY_EASY={name:"Robot",spriteBase:"tut_robot_melee",stats:J(S({},H1()),{HP:1,STAGGER:5}),facing:T.LEFT,animationState:_.BATTLE_IDLE,skills:[i.RobotSwingNormalNNStaggerable],armor:0,staggerSoundName:"robot_staggered"},e.TUT_ROBOT_MELEE_EASY={name:"Robot",spriteBase:"tut_robot_melee",stats:J(S({},H1()),{HP:15,STAGGER:15}),facing:T.LEFT,animationState:_.BATTLE_IDLE,skills:[i.RobotSwingNormalNNStaggerable],armor:0,staggerSoundName:"robot_staggered"},e.TUT_ROBOT_MELEE_STAGGERABLE={name:"Robot",spriteBase:"tut_robot_melee",stats:J(S({},H1()),{HP:25,STAGGER:6}),facing:T.LEFT,animationState:_.BATTLE_IDLE,skills:[i.RobotSwingNormalNNStaggerable],armor:0,staggerSoundName:"robot_staggered"},e.TUT_ROBOT_MELEE={name:"Robot M",spriteBase:"tut_robot_melee",stats:J(S({},H1()),{HP:25,POW:5,STAGGER:5}),facing:T.LEFT,animationState:_.BATTLE_IDLE,skills:[i.RobotSwingNormalNN],armor:0,staggerSoundName:"robot_staggered"},e.TUT_ROBOT_MELEE_SPEEDY={name:"Robot M Fast",spriteBase:"tut_robot_melee_speedy",stats:J(S({},H1()),{HP:20,POW:1,STAGGER:2}),facing:T.LEFT,animationState:_.BATTLE_IDLE,skills:[i.RobotSwingSpeedyN],armor:0,staggerSoundName:"robot_staggered"},e.TUT_ROBOT_ARMORED={name:"Robot Armored",spriteBase:"tut_robot_armored",spriteSize:[40,40],stats:J(S({},H1()),{HP:28,POW:6,STAGGER:12}),facing:T.LEFT,animationState:_.BATTLE_IDLE,skills:[i.RobotSwingArmoredNK,i.RobotSwingPierce],armor:1,staggerSoundName:"robot_staggered"},e.TUT_ROBOT_RANGED={name:"Robot R",spriteBase:"tut_robot_ranged",stats:J(S({},H1()),{HP:20,POW:1,STAGGER:5}),facing:T.LEFT,animationState:_.BATTLE_IDLE,skills:[i.RobotRanged],armor:0,staggerSoundName:"robot_staggered"},e.TUT_ROBOT_MAGE={name:"Robot Mage",spriteBase:"tut_robot_mage",stats:J(S({},H1()),{HP:18,POW:6,STAGGER:5}),facing:T.LEFT,animationState:_.BATTLE_IDLE,skills:[i.RobotBlackFireSnap],armor:0,staggerSoundName:"robot_staggered"},e.TUT_ROBOT_CHANNELER={name:"Robot Chnl",spriteBase:"tut_robot_channeler",stats:J(S({},H1()),{HP:18,STAGGER:5}),facing:T.LEFT,animationState:_.BATTLE_IDLE,skills:[i.RobotChannelEvasionBuff],armor:0,staggerSoundName:"robot_staggered"},e.TUT_ROBOT_BOSS={name:"Big Robot!",spriteBase:"tut_robot_boss",spriteSize:[96,96],followerSize:[64,64],sortOffset:32,stats:J(S({},H1()),{HP:1,STAGGER:25}),facing:T.LEFT,animationState:_.BATTLE_IDLE,skills:[i.BossRobotSwingArmoredN,i.BossRobotSwingArmoredNK,i.BossRobotSwingPierce,i.BossRobotSummonAid],startingCooldown:2e3,armor:3,hiddenHP:!0,staggerSoundName:"robot_staggered"}},j0={},u1=e=>{const t=j0[e];if(!t)throw new Error(`No enemy template exists with name: ${e}`);return J(S({},t),{stats:S({},t.stats)})},Py=()=>{j0.ENEMY_GUY={name:"guy",spriteBase:"guy-battle",stats:J(S({},H1()),{HP:100,STAGGER:10}),facing:T.LEFT,animationState:_.BATTLE_IDLE,skills:[t0.Swing,t0.Swing],armor:1},j0.ENEMY_GUY_IMPOSSIBLE={name:"guy",spriteBase:"guy-battle",stats:J(S({},H1()),{HP:1e3,STAGGER:100}),facing:T.LEFT,animationState:_.BATTLE_IDLE,skills:[t0.SwingKO],armor:99},Oy(j0),window.enemies=j0;for(const e in j0){const t=j0[e];for(const i in t.skills)if(!t.skills[i])throw new Error(`Enemy template '${t.name}' has invalid skill at index: ${i}`)}},My=e=>{e.ENCOUNTER_TUT1={roomName:"battleTut1Centered",baseExperience:1,baseTokens:0,disableFlee:!0,enemies:[{chTemplate:u1("TUT_ROBOT_MELEE_EASY"),position:X.FRONT,ai:"BATTLE_AI_ATTACK"}],events:{onBattleStart:async t=>{await nt("floor1-tut-vr2-battle1-on-start")},onAfterBattleEnded:async()=>{await Y0("floor1-tut-vr2-battle1-on-after-end",{disableKeys:!0,hideUi:!0,setPlayerIdle:!0})}}},e.ENCOUNTER_TUT1_5={roomName:"battleTut1Centered",baseExperience:1,baseTokens:0,disableFlee:!0,enemies:[{chTemplate:u1("TUT_ROBOT_MELEE_STAGGERABLE"),position:X.FRONT,ai:"BATTLE_AI_ATTACK"}],events:{onBattleStart:async t=>{await nt("floor1-tut-vr2-battle1_5-on-start")},onAfterBattleEnded:async()=>{await Y0("floor1-tut-vr2-battle1_5-on-after-end",{disableKeys:!0,hideUi:!0,setPlayerIdle:!0})}}},e.ENCOUNTER_TUT2={roomName:"battleTut1Centered2",baseExperience:2,baseTokens:0,disableFlee:!0,enemies:[{chTemplate:O1(u1("TUT_ROBOT_MELEE")),position:X.FRONT,ai:"BATTLE_AI_ATTACK"},{chTemplate:O1(u1("TUT_ROBOT_MELEE_SPEEDY")),position:X.MIDDLE,ai:"BATTLE_AI_ATTACK"}],events:{onBattleStart:async t=>{await nt("floor1-tut-vr2-battle2-on-start")},onAfterBattleEnded:async()=>{await Y0("floor1-tut-vr2-battle2-on-after-end",{disableKeys:!0,hideUi:!0,setPlayerIdle:!0})}}},e.ENCOUNTER_TUT3={roomName:"battleTut1Centered2",baseExperience:2,baseTokens:0,disableFlee:!0,enemies:[{chTemplate:O1(u1("TUT_ROBOT_MELEE")),position:X.FRONT,ai:"BATTLE_AI_ATTACK"},{chTemplate:O1(u1("TUT_ROBOT_MAGE")),position:X.MIDDLE,ai:"BATTLE_AI_ATTACK"}],events:{onBattleStart:async t=>{await nt("floor1-tut-vr2-battle3-on-start")},onCharacterDefeated:async t=>{M().enemies.length===1&&(t.preventRemove=!0,await Ki(`
            +setConversation('Ada');
            +panCameraBattle(ENEMY);
            +playSound(robot_staggered_damaged);
            Robot: "<cascade-letters color=LIGHTBLUE>*bzzt* R...E...G...R...E...T... *bzzt*"
            +panCameraBattle(NONE);
            +endConversation();
            `),O2(M(),t))},onAfterBattleEnded:async()=>{await Y0("floor1-tut-vr2-battle3-on-after-end",{disableKeys:!0,hideUi:!0,setPlayerIdle:!0})}}},e.ENCOUNTER_TUT4={roomName:"battleTut1Centered2",baseExperience:2,baseTokens:0,disableFlee:!0,enemies:[{chTemplate:O1(u1("TUT_ROBOT_ARMORED")),position:X.FRONT,ai:"BATTLE_AI_ATTACK"},{chTemplate:O1(u1("TUT_ROBOT_MAGE")),position:X.MIDDLE,ai:"BATTLE_AI_ATTACK"}],events:{onBattleStart:async t=>{await nt("floor1-tut-vr2-battle4-on-start")},onCharacterDefeated:async t=>{M().enemies.length===1&&(t.preventRemove=!0,await Ki(`
            +setConversation('Ada');
            +playSound(robot_staggered_damaged);
            +panCameraBattle(ENEMY);
            Robot: "<cascade-letters color=LIGHTBLUE> F...A...I...L...U...R...E..."
            +panCameraBattle(NONE);
            +endConversation();
            `),O2(M(),t))},onAfterBattleEnded:async()=>{await Y0("floor1-tut-vr2-battle4-on-after-end",{disableKeys:!0,hideUi:!0,setPlayerIdle:!0})}}},e.ENCOUNTER_TUT_DUNGEON1={roomName:"battleTut1",baseExperience:2,baseTokens:2,enemies:[{chTemplate:O1(u1("TUT_ROBOT_MELEE")),position:X.FRONT,ai:"BATTLE_AI_ATTACK"},{chTemplate:O1(u1("TUT_ROBOT_MELEE_SPEEDY")),position:X.FRONT,ai:"BATTLE_AI_ATTACK"}]},e.ENCOUNTER_TUT_DUNGEON2={roomName:"battleTut1",baseExperience:2,baseTokens:2,getDrops:()=>Math.random()>.9?[m1("FeeblePotion"),m1("RezGem")]:Math.random()>.5?[Math.random()>.5?m1("FeeblePotion"):m1("RezGem")]:[],enemies:[{chTemplate:O1(u1("TUT_ROBOT_MELEE")),position:X.FRONT,ai:"BATTLE_AI_ATTACK"},{chTemplate:O1(u1("TUT_ROBOT_MAGE")),position:X.MIDDLE,ai:"BATTLE_AI_ATTACK"}]},e.ENCOUNTER_TUT_DUNGEON3={roomName:"battleTut1",baseExperience:5,baseTokens:3,getDrops:()=>Math.random()>.5?[m1("FeeblePotion")]:[],enemies:[{chTemplate:O1(u1("TUT_ROBOT_MELEE_SPEEDY")),position:X.FRONT,ai:"BATTLE_AI_ATTACK"},{chTemplate:O1(u1("TUT_ROBOT_MELEE_SPEEDY")),position:X.FRONT,ai:"BATTLE_AI_ATTACK"},{chTemplate:O1(u1("TUT_ROBOT_RANGED")),position:X.MIDDLE,ai:"BATTLE_AI_ATTACK"}]},e.ENCOUNTER_TUT_DUNGEON4={roomName:"battleTut1",baseExperience:5,baseTokens:2,getDrops:()=>Math.random()>.5?[m1("RezGem")]:[],enemies:[{chTemplate:O1(u1("TUT_ROBOT_ARMORED")),position:X.FRONT,ai:"BATTLE_AI_ATTACK"},{chTemplate:O1(u1("TUT_ROBOT_MAGE")),position:X.MIDDLE,ai:"BATTLE_AI_ATTACK"}]},e.ENCOUNTER_TUT_BOSS={roomName:"battleTutBoss",baseExperience:10,baseTokens:25,disableFlee:!0,music:"music_tense_battle",events:{onBattleStart:async t=>{await Ki(`
          +setConversation('Conscience');
          +panCameraBattle(ENEMY);
          +playSound(robot_staggered_damaged);
          Big Robot: "<cascade-letters=25 color=YELLOW>*bzzt* PREPARE FOR UTTER ANNIHILATION."
          +panCameraBattle(ALLY, 500);
          +:exclaim(Conscience);
          Conscience: "That thing has a TON of armor!"
          Conscience: "We'll have to get rid of it somehow before we can damage it."
          +panCameraBattle(NONE, 500);
          +endConversation();
          `,!0)},onCharacterDefeated:async t=>{if(t.ch.spriteBase==="tut_robot_boss"){const i=M();t.preventRemove=!0,i.enemies.forEach(n=>{t!==n&&(Ot("EFFECT_TEMPLATE_DEAD32",n.ch.name,"normal"),O2(M(),n))}),await Ki(`
            +setConversation('Ada');
            +playSound(robot_staggered_damaged);
            +panCameraBattle(ENEMY);
            Big Robot: "<cascade-letters=25 color=YELLOW scale=0.8>*bzzt* S..O..R..R..Y.. C..O..M..R..A..D..E..S.."
            +panCameraBattle(NONE);
            +endConversation();
            `),Ot("EFFECT_TEMPLATE_DEAD32",t.ch.name,"normal"),O2(M(),t)}}},enemies:[{chTemplate:u1("TUT_ROBOT_BOSS"),position:X.FRONT,ai:"BATTLE_AI_TUT_BOSS1"}]}},c0={},g4=e=>{const t=c0[e];if(!t)throw new Error(`No encounter exists with name: ${e}`);return t},m4=e=>{const t=c0[e];return t?S({},t):null},Dy=()=>{c0.ENCOUNTER_IMPOSSIBLE={roomName:"battle1",baseExperience:1,baseTokens:1,enemies:[{chTemplate:u1("ENEMY_GUY_IMPOSSIBLE"),position:X.FRONT,ai:"BATTLE_AI_ATTACK"}]},c0.ENCOUNTER_ONE_VS_ONE={roomName:"battle1",baseExperience:1,baseTokens:1,enemies:[{chTemplate:O1(u1("ENEMY_GUY")),position:X.FRONT,ai:"BATTLE_AI_ATTACK"}]},c0.ENCOUNTER_ONE_VS_TWO={roomName:"battle1",baseExperience:1,baseTokens:1,enemies:[{chTemplate:O1(u1("ENEMY_GUY")),position:X.FRONT,ai:"BATTLE_AI_ATTACK"},{chTemplate:O1(u1("ENEMY_GUY")),position:X.FRONT,ai:"BATTLE_AI_ATTACK"}]},c0.ENCOUNTER_ONE_VS_THREE={roomName:"battle1",baseExperience:1,baseTokens:1,enemies:[{chTemplate:O1(u1("ENEMY_GUY")),position:X.FRONT,ai:"BATTLE_AI_ATTACK"},{chTemplate:O1(u1("ENEMY_GUY")),position:X.FRONT,ai:"BATTLE_AI_ATTACK"},{chTemplate:O1(u1("ENEMY_GUY")),position:X.MIDDLE,ai:"BATTLE_AI_ATTACK"}]},c0.ENCOUNTER_TEST_EVENTS={roomName:"battleTut1",baseExperience:1,baseTokens:1,enemies:[{chTemplate:u1("TUT_ROBOT_MELEE"),position:X.FRONT,ai:"BATTLE_AI_ATTACK"}],events:{onBattleStart:async e=>{await nt("test-fight-event-start")},onBattleEnd:async e=>{np(e)&&await nt("test-fight-event-end")}}},c0.ENCOUNTER_TEST_MULTI_DEATH={roomName:"battleTut1",baseExperience:1,baseTokens:1,enemies:[{chTemplate:u1("TUT_ROBOT_MELEE_REALLY_EASY"),position:X.FRONT,ai:"BATTLE_AI_ATTACK"},{chTemplate:u1("TUT_ROBOT_MELEE_REALLY_EASY"),position:X.FRONT,ai:"BATTLE_AI_ATTACK"}]},My(c0)};let on=!1;const g2=(e,t,i)=>{const n=Iy(t);if(n){const o=n.room,r=e.leader;gt(o,r);for(let u=0;u<o.props.length;u++){const g=o.props[u];g.isItem&&uy($(),g.id,n.name)&&Ap(o,g)}b9(o),j2(e),nf(n),cf(t.backgroundColor);const s=o.bgTransform,l=()=>{s.timer=new w1(s.timer.duration),s.timer.awaits.push(l),s.timer.start()};s.timer.awaits.push(l),s.timer.start();const c=$();hy(c,t.roomName);const d=i?o.markers[i]:null;if(d?re(r,[d.x,d.y,0]):o.markers.MarkerPlayer?S4(r.name,"MarkerPlayer"):re(r,[0,0,0]),tn(n),console.log("initiateOverworld trigger",n.loadTriggerName),n.loadTriggerName)try{console.log("Invoke overworld trigger"),Ey(n.loadTriggerName)?(console.log("INVOKE SCRIPT AFTER A SLIGHT PAUSE",n.loadTriggerName),e1(10).then(()=>{Y0(n.loadTriggerName,{disableKeys:!0,hideUi:!1,setPlayerIdle:!0,pause:!1})})):console.log("WARNING overworld load trigger script does not exist:",n.loadTriggerName)}catch(u){console.error(u)}else console.log("No overworld trigger was specified");return n.playerIsCollidingWithInteractable=!0,n.music&&Tt(n.music,!0,500),on=!0,setTimeout(()=>{on=!1},500),n}return null},rn=()=>{const e=D().appState.sections;return g1().visible&&!e.includes(O.ArcadeCabinet)&&!e.includes(O.Debug)},an=()=>{Et(Gy)},Y0=async(e,t,...i)=>{const n=g1();d4(n),t.disableKeys&&F0(),t.hideUi&&h0(),t.setPlayerIdle&&z(P().leader,_.IDLE),t.pause&&ve(),console.log("Call script during overworld",e,i),await y2($(),e,i);const o=g1();u4(o),t.disableKeys&&G0(),t.hideUi&&o.visible&&t1(O.Debug,!0)},sn=async(e,t)=>{const i=g1();d4(i),t.disableKeys&&F0(),t.hideUi&&h0(),t.setPlayerIdle&&z(P().leader,_.IDLE),await e();const n=g1();u4(n),t.disableKeys&&G0(),t.hideUi&&n.visible&&t1(O.Debug,!0)},ai=(e,t,i)=>uv($(),e,t,i),Ny=()=>{const e=P(),t=B(),i=e.leader,n=[];for(let o=0;o<t.triggerActivators.length;o++){const r=t.triggerActivators[o];ck(i,[r.x,r.y,r.width,r.height])&&n.push(r)}return n},By=e=>{const i=g1().collidingTriggerActivators;for(let n=0;n<i.length;n++){const o=i[n];for(let r=0;r<e.length;r++){const s=e[r];if(ai(o.name,s,!0))return!0}}return!1},ln=async e=>{const i=P().leader,n=Array.isArray(e)?e:[e],r=g1().collidingTriggerActivators;for(let s=0;s<r.length;s++){const l=r[s];for(let c=0;c<n.length;c++){const d=n[c],u=ai(l.name,d);if(u!==null)return(d===ye.ACTION||d===ye.STEP_FIRST)&&z(i,_.IDLE),await sn(u,{hideUi:!1,disableKeys:!0,setPlayerIdle:!1}),d===ye.ACTION&&g1().visible&&!D().appState.sections.includes(O.ArcadeCabinet)&&(console.log("SHOW SECTION AFTER CALLING A TRIGGER"),t1(O.Debug,!1)),xf().forEach(m=>{Ji(m),vf(m)}),l.name}}return""},$y=async()=>{const e=P(),t=B(),i=e.leader;for(let n=0;n<t.characters.length;n++){const o=t.characters[n],[r,s]=N2(o);if(o.talkTrigger&&Zi(i,[r,s,16])){const l=ai(o.talkTrigger,ye.ACTION);if(l!==null){if(yo(o),$k(t,o,i)||wo(o,i)){const c=Sp(t,o,i);c&&await lk(i,bo(c.x,c.y))}return await sn(l,{hideUi:!0,disableKeys:!0,setPlayerIdle:!0}),Ji(o),!0}}}return!1},Wy=async()=>{const e=P(),t=B(),i=e.leader,n=$();for(let o=0;o<t.props.length;o++){const r=t.props[o];if(!r.isItem)continue;const{x:s,y:l}=r;if(Zi(i,[s+32+12,l+32+12,16])){Ap(t,r),await Y0("utils-get-treasure",{disableKeys:!0,hideUi:!0,setPlayerIdle:!0,pause:!1},r.itemName);const c=g1();return cy(n,r.id,c.name),!0}}return!1},Gy=async e=>{const t=g1(),i=ze();if(!(B9()||!D().appState.sections.includes(O.Debug)||D().appState.sections.includes(O.Menu)||on||D().appState.sections.includes(O.Modal)||D().appState.sections.includes(O.Store))){if(be(e.key)){i||(ve(),p5(()=>{D1(),j1(O.Menu)}));return}if(z0(e.key)){if(!i&&t.triggersEnabled){if(await ln(ye.ACTION)){rn()&&t1(O.Debug,!0);return}else if(await Wy()){t1(O.Debug,!0);return}else if(await $y())return}return}if(ri(e.key)){i||(ve(),_n(()=>{hv($())||t1(O.Debug,!0),D1()}));return}switch(e.key){case"m":{h2(g1()),Ui(P(),g4("ENCOUNTER_TUT_BOSS"),()=>{console.log("COMPLETED!")},!0);break}case"b":{ir()&&(h2(g1()),Ui(P(),g4("ENCOUNTER_TUT2"),()=>{console.log("COMPLETED!")},!0));break}case"d":{V2()?(S9(),L9()):(A9(),R9());break}}}},Fy=async e=>{const t=By([ye.STEP_FIRST,ye.STEP]);t&&(e.playerIsCollidingWithInteractable?(await ln(ye.STEP),rn()&&t1(O.Debug,!0),e.stepTimer.start()):(await ln([ye.STEP_FIRST,ye.STEP]),rn()&&t1(O.Debug,!0),e.stepTimer.start())),t!==e.playerIsCollidingWithInteractable&&(t||m5("")),e.playerIsCollidingWithInteractable=!!$().currentScript||t},Hy=async e=>{for(let t=0;t<e.previouslyCollidingTriggerActivators.length;t++){const i=e.previouslyCollidingTriggerActivators[t];if(!e.collidingTriggerActivators.includes(i)){const n=ai(i.name,ye.STEP_OFF);n!==null&&await sn(n,{hideUi:!1,disableKeys:!0,setPlayerIdle:!1})}}},Uy=e=>{const i=P().leader;if(!e.visible){e.previouslyCollidingTriggerActivators=[],e.collidingTriggerActivators=[];return}e.previouslyCollidingTriggerActivators=e.collidingTriggerActivators,e.collidingTriggerActivators=Ny();let n=!1,o=0,r=0;ir()&&!B9()&&(o2("ArrowLeft")?(n=!0,o-=1,r+=1):o2("ArrowRight")&&(n=!0,o+=1,r-=1),o2("ArrowUp")?(n=!0,o-=1,r-=1):o2("ArrowDown")&&(n=!0,o+=1,r+=1),n||i.walkTarget?z(i,_.WALK):B9()||z(i,_.IDLE),i.vx=o,i.vy=r),e.triggersEnabled&&e.stepTimer.isComplete()&&(Fy(e),e.stepTimer.start()),e.triggersEnabled&&Hy(e),e.room.characters.forEach(s=>{s.aiEnabled&&(s.timers=s.timers.filter(l=>(l.update(),l.isComplete()?(l.shouldRemove=!0,!1):!0)),s.overworldAi.update(s))})},q={},Ne={};window.tileTemplates=q;const Ky=e=>{const t=q[e];if(!t)throw new Error(`No tile template exists with name: ${e}`);return S({},t)},p4=e=>{const t=q[e];return t?S({},t):null},zy=e=>{const t=Ne[e];if(!t)return null;const i=Ky(t);return S({},i)},jy=(e,t,i,n,o)=>{const r=["bck_close1","bck_close2","fwd_close1","fwd_close2","bck_open1","bck_open2","fwd_open1","fwd_open2"],s=["BCK_CLOSED1","BCK_CLOSED2","FWD_CLOSED1","FWD_CLOSED2","BCK_OPEN1","BCK_OPEN2","FWD_OPEN1","FWD_OPEN2"];for(let l=0;l<r.length;l++){const c=r[l],d=s[l];q[e+"_"+d]={baseSprite:d.includes("BCK")?n:i,animName:t+"_"+c,isWall:l<4}}o||(Ne[n]=e+"_BCK_CLOSED1",Ne[i]=e+"_FWD_CLOSED1")},f4=(e,t,i,n,o)=>{const r=["bck_close","fwd_close","bck_open","fwd_open"],s=["BCK_CLOSED","FWD_CLOSED","BCK_OPEN","FWD_OPEN"];for(let l=0;l<r.length;l++){const c=r[l],d=s[l];q[e+"_"+d]={baseSprite:d.includes("BCK")?n:i,animName:t+"_"+c,isWall:l<2}}o||(Ne[n]=e+"_BCK_CLOSED",Ne[i]=e+"_FWD_CLOSED")},Yy=()=>{f4("WOOD_DOOR","walls-anims_wood_door","walls_23","walls_24"),jy("RED_DOOR","walls-anims_red_door","walls_13","walls_14"),f4("DARK_BLOCK","walls-anims_dark_block","walls_36","walls_36",!0),q.RED_DOOR_BCKL_CLOSED={baseSprite:"walls_14",animName:"walls-anims_red_door_bck_close1",isWall:!0},q.RED_DOOR_BCKR_CLOSED={baseSprite:"walls_14",animName:"walls-anims_red_door_bck_close2",isWall:!0},q.RED_DOOR_FWDL_CLOSED={baseSprite:"walls_13",animName:"walls-anims_red_door_fwd_close1",isWall:!0},q.RED_DOOR_FWDR_CLOSED={baseSprite:"walls_13",animName:"walls-anims_red_door_fwd_close2",isWall:!0},q.RED_DOOR_BCKL_OPEN={baseSprite:"walls_14",animName:"walls-anims_red_door_bck_open1",isWall:!1},q.RED_DOOR_BCKR_OPEN={baseSprite:"walls_14",animName:"walls-anims_red_door_bck_open2",isWall:!1},q.RED_DOOR_FWDL_OPEN={baseSprite:"walls_13",animName:"walls-anims_red_door_fwd_open1",isWall:!1},q.RED_DOOR_FWDR_OPEN={baseSprite:"walls_13",animName:"walls-anims_red_door_fwd_open2",isWall:!1},q.ELEVATOR_BCK_CLOSED1={baseSprite:"walls_7",animName:"walls-anims_elevator_bck_close1",isWall:!0},q.ELEVATOR_BCK_CLOSED2={baseSprite:"walls_7",animName:"walls-anims_elevator_bck_close2",isWall:!0},q.ELEVATOR_FWD_CLOSED1={baseSprite:"walls_6",animName:"walls-anims_elevator_fwd_close1",isWall:!0},q.ELEVATOR_FWD_CLOSED2={baseSprite:"walls_6",animName:"walls-anims_elevator_fwd_close2",isWall:!0},q.ELEVATOR_BCK_OPEN1={baseSprite:"walls_7",animName:"walls-anims_elevator_bck_open1",isWall:!1},q.ELEVATOR_BCK_OPEN2={baseSprite:"walls_7",animName:"walls-anims_elevator_bck_open2",isWall:!1},q.ELEVATOR_FWD_OPEN1={baseSprite:"walls_6",animName:"walls-anims_elevator_fwd_open1",isWall:!1},q.ELEVATOR_FWD_OPEN2={baseSprite:"walls_6",animName:"walls-anims_elevator_fwd_open2",isWall:!1},q.TALL_RED_DOOR_BCK_OPEN={baseSprite:"walls128_2",animName:"walls128-anims_tall_red_door_bck_open",isWall:!1},q.TALL_RED_DOOR_BCK_CLOSED={baseSprite:"walls128_2",animName:"walls128-anims_tall_red_door_bck_closed",isWall:!0},q.KIOSK_STATS_ACTIVE={baseSprite:"props_26",animName:"tile_vr_portal_active",isWall:!0,isProp:!1},q.KIOSK_STATS_PASSIVE={baseSprite:"props_26",animName:"tile_vr_portal_passive",isWall:!0,isProp:!1},q.SAVE_POINT_ACTIVE={baseSprite:"props_30",animName:"tile_save_point_active",isWall:!0,isProp:!1,size:[32,64]},q.SAVE_POINT_PASSIVE={baseSprite:"props_30",animName:"tile_save_point_passive",isWall:!0,isProp:!1,size:[32,64]},q.SAVE_POINT_PASSIVE_INITIAL={baseSprite:"props_30",animName:"tile_save_point_passive_initial",isWall:!0,isProp:!1},Ne.props_30="SAVE_POINT_PASSIVE_INITIAL",q.VR_PORTAL_FLOOR={baseSprite:"floors_15",animName:"tile_vr_portal_floor_anim"},Ne.floors_15="VR_PORTAL_FLOOR",q.TUT_GATE_FLOOR={baseSprite:"floors_59",animName:"floors_59",isWall:!1,hasFloorTile:!1,size:[32,32],pxOffset:[0,48]},q.TUT_GATE={baseSprite:"walls_18",animName:"walls_18",isWall:!0,size:[32,64]},q.TUT_GATE_YELLOW={baseSprite:"walls_19",isWall:!0,floorTile:"TUT_GATE_FLOOR",size:[32,64]},q.TUT_GATE_BLUE={baseSprite:"walls_20",isWall:!0,floorTile:"TUT_GATE_FLOOR",size:[32,64]},q.TUT_GATE_PURPLE={baseSprite:"walls_21",isWall:!0,floorTile:"TUT_GATE_FLOOR",size:[32,64]},q.TUT_GATE_RED={baseSprite:"walls_22",isWall:!0,floorTile:"TUT_GATE_FLOOR",size:[32,64]},q.HEAL_POOL={baseSprite:"props_29",animName:"tile_heal_pool_anim",isWall:!0,isProp:!0,size:[32,64]},Ne.props_29="HEAL_POOL",q.HEAL_POOL_INACTIVE={baseSprite:"props_29",animName:"tile_heal_pool_inactive",isWall:!0,isProp:!0,hasFloorTile:!0,floorTile:"TUT_GATE_FLOOR",size:[32,64]},q.PROPS_BOWLING_DISPENSER={baseSprite:"props_32",isWall:!0,isProp:!0},Ne.props_32="PROPS_BOWLING_DISPENSER",q.TIC_TAC_TOE_EXCITED={baseSprite:"props_12",animName:"props-anims-tic-tac-toe-machine-excited",isWall:!0,isProp:!0,size:[32,64]},q.TIC_TAC_TOE_NORMAL={baseSprite:"props_12",animName:"props-anims-tic-tac-toe-machine-excited",isWall:!0,isProp:!0,size:[32,64]},q.BRIDGE_FLOOR_FLICKER={baseSprite:"floors_59",animName:"tile_floor_flicker",size:[32,32],onAfterCreation:e=>{var i;const t=(i=e==null?void 0:e.ro)==null?void 0:i.anim;t&&(t.disableSounds(),t.timestampStart-=Math.round(Math.random()*t.getDurationMs()),e1(500).then(()=>{t.enableSounds()}))}},Ne.floors_61="BRIDGE_FLOOR_FLICKER",q.SQUARE_MACHINE={baseSprite:"props_37",animName:"props-anims-square-machine",isWall:!0,isProp:!0,size:[32,64]},Ne.props_37="SQUARE_MACHINE"},Vy=()=>{const e={};return e.Ada={name:"Ada",fullName:"Adalais Eldridge",spriteBase:"ada",staggerSoundName:"battle_staggered1",stats:J(S({},H1()),{STAGGER:15,HP:50}),facing:T.DOWN,animationState:_.IDLE,weaponEquipTypes:[G1.SWORD],collisionSize:8,speed:1.5},e.Conscience={name:"Conscience",fullName:"<Unknown Entity>",spriteBase:"conscience",talkTrigger:"",staggerSoundName:"battle_staggered1",facing:T.DOWN,animationState:_.IDLE,weaponEquipState:M2.RANGED,weaponEquipTypes:[G1.BOW,G1.WAND],stats:J(S({},H1()),{STAGGER:12,HP:35}),speed:1.5},e.Skye={name:"Skye",fullName:"Skye Salsbeck",spriteBase:"skye",talkTrigger:"",staggerSoundName:"battle_staggered1",facing:T.LEFT_UP,animationState:_.IDLE,weaponEquipTypes:[G1.HAMMER],speed:1.5,stats:J(S({},H1()),{HP:55})},e.Anjana={name:"Anjana",fullName:"Anjana Lal",spriteBase:"skye",talkTrigger:"",staggerSoundName:"battle_staggered1",facing:T.LEFT_UP,animationState:_.IDLE,weaponEquipTypes:[G1.WAND],speed:1.5,stats:J(S({},H1()),{HP:40})},e.Vivi={name:"Vivi",fullName:"Vivianna Mills",spriteBase:"skye",talkTrigger:"",staggerSoundName:"battle_staggered1",facing:T.LEFT_UP,animationState:_.IDLE,weaponEquipTypes:[G1.WAND],speed:1.5,stats:J(S({},H1()),{HP:40})},e.Iroha={name:"Iroha",fullName:"Iroha Shimomura",spriteBase:"skye",talkTrigger:"",staggerSoundName:"battle_staggered1",facing:T.LEFT_UP,animationState:_.IDLE,weaponEquipTypes:[G1.WAND],speed:1.5,stats:J(S({},H1()),{HP:40})},e},qy=()=>{const e={};return e.TutRobotRoamer1={name:"TutRobotRoamer1",spriteBase:"tut_robot_roamer",facing:T.LEFT,animationState:_.IDLE,overworldAi:"ROAM_WALK_RIGHT_LEFT",visionRange:22*2},e.TutRobotRoamer2={name:"TutRobotRoamer1",spriteBase:"guy3",facing:T.LEFT,animationState:_.IDLE,overworldAi:"ROAM_WALK_RIGHT_LEFT",visionRange:22*2},e.TutRobotRoamerBoss={name:"TutRobotRoamerBoss",spriteBase:"tut_robot_boss",facing:T.RIGHT,animationState:_.IDLE,visionRange:1,spriteSize:[96,96]},e.TutRobotDummy0={name:"TutRobotDummy0",spriteBase:"tut_robot_roamer",facing:T.LEFT_DOWN,animationState:_.IDLE},e.TutRobotDummy1={name:"TutRobotDummy1",spriteBase:"tut_robot_roamer",facing:T.LEFT_DOWN,animationState:_.WALK},e.TutRobotDummy2={name:"TutRobotDummy2",spriteBase:"tut_robot_roamer",facing:T.RIGHT_UP,animationState:_.WALK},e.TutRobotDummy3={name:"TutRobotDummy3",spriteBase:"tut_robot_roamer",facing:T.UP,animationState:_.WALK},e.TutRobotDummy4={name:"TutRobotDummy4",spriteBase:"tut_robot_roamer",facing:T.DOWN,animationState:_.WALK},e},Xy=()=>{const e={};return e.TestDialogA={name:"TestDialogA",spriteBase:"guy2",facing:T.RIGHT_DOWN,animationState:_.IDLE,talkTrigger:"test-testDialogA"},e.TestDialogB={name:"TestDialogB",spriteBase:"girl2",facing:T.RIGHT_DOWN,animationState:_.IDLE,talkTrigger:"test-testDialogB"},e.TestDialogC={name:"TestDialogC",spriteBase:"girl3",facing:T.RIGHT_DOWN,animationState:_.IDLE,talkTrigger:"test-testDialogC"},e.TestDialogD={name:"TestDialogD",spriteBase:"girl",facing:T.DOWN,animationState:_.IDLE,talkTrigger:"test-testDialogD"},e.TestDialogE={name:"TestDialogE",spriteBase:"girl",facing:T.LEFT_DOWN,animationState:_.IDLE,talkTrigger:"test-testDialogE"},e.TestDialogF={name:"TestDialogF",spriteBase:"girl6",facing:T.LEFT_DOWN,animationState:_.IDLE,talkTrigger:"test-testDialogF"},e.Shopkeep={name:"Shopkeep",spriteBase:"employee-guy",facing:T.LEFT_DOWN,animationState:_.IDLE,talkTrigger:"test-ada-sigma-shopkeep"},e},y4=9999999;let Ct=!1;const Qy=(e,t)=>{const i=At(t,e.x,e.y-1),n=At(t,e.x-1,e.y),o=At(t,e.x,e.y+1),r=At(t,e.x+1,e.y);return[i,n,o,r].filter(s=>{var d,u,g,m;if(!s)return!1;const l=At(t,(d=s==null?void 0:s.x)!=null?d:-1,(u=s==null?void 0:s.y)!=null?u:-1+1),c=At(t,(g=s==null?void 0:s.x)!=null?g:-1+1,(m=s==null?void 0:s.y)!=null?m:-1);return Ct&&console.log("CHECK GET CONNECTIONS NODE",s),s?s.isWall?(Ct&&console.log("-- node is wall"),!1):l&&l.isWall?(Ct&&console.log("-- node below is wall"),!1):c&&c.isWall?(Ct&&console.log("-- node right is wall"),!1):(Ct&&console.log("-- NODE IS CONNECTED!"),!0):!1}).map(s=>({node:s,cost:1}))},Zy=e=>({width:e.width,height:e.height,nodes:e.tiles.map(i=>({hCost:y4,cost:y4,isWall:i.isWall,x:i.x,y:i.y,connections:[],tile:i,visited:!1}))}),At=(e,t,i)=>t<0||t>=e.width||i<0||i>=e.height?null:e.nodes[F2([t,i],e.width)],Jy=(e,t,i)=>{if(!i.nodes[F2(t,i.width)])throw console.error(e,t,i),new Error("Cannot setupPFGraph: End point is not in PFGraph");return i.nodes[F2(e,i.width)],i.nodes.forEach(o=>{o.visited=!1,o.connections=Qy(o,i),Ct=!1}),i},e7=e=>e.path.map(t=>[t[0]*Qt,t[1]*Zt]),t7=(e,t,i)=>{const n={path:[]},o=Zy(i);Jy(e,t,o);const r=o.nodes[F2(e,o.width)];if(!r)throw console.error(e,t,o),new Error("Cannot createPFPath: Start point is not in PFGraph");const s=o.nodes[F2(t,o.width)];if(!s)throw console.error(e,t,o),new Error("Cannot createPFPath: End point is not in PFGraph");if(r===s)return n.path=[[r.x,r.y]],n;let l=[r];const c=()=>{l=l.sort((g,m)=>g.hCost<m.hCost?-1:1)};r.cost=0,r.hCost=0;let d=0;for(;l.length&&d<500;){const g=l.shift();if(g===s||!g)break;for(let m=0;m<g.connections.length;m++){const{node:f,cost:p}=g.connections[m],y=g.cost+p;y<f.cost&&(f.cost=y,f.hCost=y+G2([f.x,f.y,0],[s.x,s.y,0]),f.parent=g,l.includes(f)||l.push(f))}c(),d++}if(d===1e3||l.length===0)return console.log(e,t,o,r,s),console.error("Cannot find path, too long or impossible"),n;let u=s;do n.path.push([u.x,u.y]),u=u.parent;while(u&&u.parent);return n.path=n.path.reverse(),n},Ve={},w4=e=>{const t=Ve[e];if(!t)throw new Error(`No overworld-ai exists with name: ${e}`);return S({},t)},Re=(e,t)=>{let i=0,n="";const o=(s,l)=>{const c=B();i=s.aiState.nextMarker,n=e[i],s.aiState.nextMarker=(i+1)%e.length;const d=c.markers[n];if(!d){console.error("OAI: Could not find target marker with name: "+n);return}const u=[d.x,d.y];De(s,u,l)};return{onCreate:s=>{s.aiState.isWaiting=!0,s.aiState.nextMarker=0;const l=new w1(500);l.awaits.push(()=>{o(s,()=>{(t==null?void 0:t.onReachDestination)&&t.onReachDestination(s,n),s.aiState.isWaiting=!1})}),M0(s,l)},update:s=>{var l;if(!s.aiState.isWaiting){s.aiState.isWaiting=!0;const c=new w1((l=t==null?void 0:t.pauseDurationMs)!=null?l:600);c.awaits.push(()=>{o(s,()=>{s.aiState.isWaiting=!1,(t==null?void 0:t.onReachDestination)&&t.onReachDestination(s,n)})}),M0(s,c)}}}},b4=(e,t)=>({onCreate:n=>{n.aiState.isWaiting=!0;const o=new w1(e);o.awaits.push(()=>{n.aiState.isWaiting=!1}),M0(n,o)},update:n=>{if(!n.aiState.isWaiting){n.aiState.isWaiting=!0;const o=new w1(e);o.awaits.push(()=>{n.aiState.isWaiting=!1}),t(n),M0(n,o)}}}),i7=(e,t,i)=>{let n=J1(e,t);if(!n)return console.error(e,t,i),console.error("cannot findNextLinearWalkPosition, given startingPoint is not contained within the room."),[0,0];const[o,r]=vp(bp(i));let s=0,l=t[0],c=t[1],d=!0;do{if(n){const u=a0(e,n.x+o,n.y+r);if(u&&!u.isWall){if(o>0){const g=a0(e,u.x+1,u.y);if(g==null?void 0:g.isWall){d=!1;break}}if(r>0){const g=a0(e,u.x,u.y+1);if(g==null?void 0:g.isWall){d=!1;break}}n=u,l+=16*o,c+=16*r}else break}s++}while(s<100);return d&&(l-=8*o,c-=8*r),i===T.LEFT_DOWN?c+=13:i===T.RIGHT_DOWN&&(l+=13),[l,c]},v4=e=>{const t=e.encounter,i=B();if(t){x("battle_encountered"),h2(g1());const n=P(),o=y1(n.leader),r=n.leader.facing;Ui(n,t,K8(i,o,r,t,e),!1)}else console.error("ERROR: Roamer has no Encounter!",e)},n7=()=>{Ve.DO_NOTHING={update:function(){}},Ve.ROAM_SEEK_PLAYER=function(){const t=i=>{var g;const n=B(),o=y1(i),r=y1(P().leader),s=J1(n,vo(o)),l=J1(n,vo(r)),c=t7([(s==null?void 0:s.x)||0,(s==null?void 0:s.y)||0],[(l==null?void 0:l.x)||0,(l==null?void 0:l.y)||0],B()),d=e7(c),u=(g=d[1])!=null?g:d[0];if(u)De(i,[u[0]-7,u[1]-7],()=>{});else{const m=async()=>{i.encounterStuckRetries>3?(x("spawn_enemy"),Ot("EFFECT_TEMPLATE_SPAWN",i.name,"normal"),await e1(400),k4(i.name)):(p.awaits.push(()=>{i.aiState.halted=!1}),M0(i,p))},f=$();if(U0(f)||f.currentScript)return;i.aiState.halted=!0;const p=new w1(300);i.encounterStuckRetries++,m()}};return{onCreate:i=>{i.aiState.halted=!0;const n=new w1(500);n.awaits.push(()=>{i.aiState.halted=!1}),M0(i,n)},update:i=>{!i.aiState.halted&&!i.walkTarget&&t(i);const n=$();U0(n)||n.currentScript||!i.aiState.encountered&&wo(i,P().leader)&&(i.aiState.halted=!0,i.aiState.encountered=!0,mt(B(),i),v4(i))}}}();const e=function(t){const[i,n]=t,o=(r,s)=>{const l=B(),[c,d]=y1(r),u=r.aiState.nextMarker;r.aiState.nextMarker=(u+1)%2;const m=i7(l,[c,d],u===0?i:n);De(r,m,s)};return{onCreate:r=>{r.aiState.isWaiting=!0,r.aiState.nextMarker=1;const s=new w1(1e3);s.awaits.push(()=>{o(r,()=>{r.aiState.isWaiting=!1})}),M0(r,s)},update:r=>{if(!r.aiState.isWaiting){r.aiState.isWaiting=!0;const c=new w1(1e3);c.awaits.push(()=>{o(r,()=>{r.aiState.isWaiting=!1})}),M0(r,c)}const l=P().leader;if(mk(r,l)){x("aggro_alert");const c=Yn(S({},eS),r);r.speed=1.6,x1(B(),c),pk(r),e9(r),fk(r,Ve.ROAM_SEEK_PLAYER)}!r.aiState.encountered&&wo(r,P().leader)&&(r.aiState.halted=!0,r.aiState.encountered=!0,mt(B(),r),wk(P().leader),v4(r))}}};Ve.ROAM_WALK_RIGHT_LEFT=e([T.RIGHT,T.LEFT]),Ve.ROAM_WALK_UP_DOWN=e([T.UP,T.DOWN]),Ve.ROAM_WALK_RIGHTUP_LEFTDOWN=e([T.RIGHT_UP,T.LEFT_DOWN]),Ve.ROAM_WALK_RIGHTDOWN_LEFTUP=e([T.RIGHT_DOWN,T.LEFT_UP]),Ve.WALK_BETWEEN_MARKERS_ABC=Re(["MarkerWalkA","MarkerWalkB","MarkerWalkC"]),Ve.PING_PONG=function(){const t={ballWaiting:!1,aHitNextTick:!1,ballInAirLTR:!1,bHitNextTick:!1,ballInAirRTL:!1,ballWaitingNextTick:!0},i=(n,o)=>{const r=()=>{const l=se(n.spriteBase+"_pingpong_idle");D2(n,l),o()},s=se(n.spriteBase+"_pingpong_hit");D2(n,s,r)};return{update:n=>{n.aiState.pingpong_interrupted||(n.aiState.pingpong_reset&&(n.aiState.pingpong_reset=!1,Object.assign(t,{ballWaiting:!1,aHitNextTick:!1,ballInAirLTR:!1,bHitNextTick:!1,ballInAirRTL:!1,ballWaitingNextTick:!0})),t.ballWaitingNextTick&&(t.ballWaitingNextTick=!1,t.ballWaiting=!0,e1(2e3).then(()=>{t.ballWaiting=!1,t.aHitNextTick=!0})),t.aHitNextTick&&n.spriteBase==="guy3"&&(t.aHitNextTick=!1,t.ballInAirLTR=!0,fn("EFFECT_TEMPLATE_PING_PONG_LTR","MarkerPingPong","normal"),i(n,()=>{t.ballInAirLTR=!1,t.bHitNextTick=!0})),t.bHitNextTick&&n.spriteBase==="guy2"&&(t.bHitNextTick=!1,t.ballInAirRTL=!0,fn("EFFECT_TEMPLATE_PING_PONG_RTL","MarkerPingPong","normal"),i(n,()=>{t.ballInAirRTL=!1,t.ballWaitingNextTick=!0})))}}}()},o7=()=>{const e={};return e.Floor1BlueCar={name:"Floor1BlueCar",spriteBase:"blue_car",spriteSize:[96,96],sortOffset:48,facing:T.LEFT_UP,animationState:_.IDLE,speed:4,overworldAi:Re(["MarkerBlueCar1"],{pauseDurationMs:1500,onReachDestination:t=>{p2(t.name,"MarkerBlueCar2")}})},e.Floor1GreenCar={name:"Floor1GreenCar",spriteBase:"green_car",spriteSize:[96,96],sortOffset:48,facing:T.LEFT_UP,animationState:_.IDLE,speed:5,overworldAi:Re(["MarkerGreenCar1"],{pauseDurationMs:1e3,onReachDestination:t=>{p2(t.name,"MarkerGreenCar2")}})},e.Floor1WhiteCar={name:"Floor1WhiteCar",spriteBase:"white_car",spriteSize:[96,96],sortOffset:48,facing:T.LEFT_UP,animationState:_.IDLE,speed:5,overworldAi:Re(["MarkerWhiteCar1"],{pauseDurationMs:1e3,onReachDestination:t=>{mt(B(),t)}})},e.Floor1OutsideWalker1={name:"Floor1OutsideWalker1",spriteBase:"guy3",facing:T.LEFT_UP,animationState:_.IDLE,overworldAi:Re(["MarkerWalker1","MarkerWalker2"],{pauseDurationMs:7e3,onReachDestination:t=>{go(t,Ae(["guy","guy2","guy3","guy4"]))}})},e.Floor1OutsideWalker2={name:"Floor1OutsideWalker2",spriteBase:"girl3",facing:T.LEFT_UP,animationState:_.IDLE,speed:1.1,overworldAi:Re(["MarkerWalker1","MarkerWalker2"],{pauseDurationMs:7e3,onReachDestination:t=>{go(t,Ae(["guy5","guy6","guy7","guy8","girl"]))}})},e.Floor1OutsideWalker3={name:"Floor1OutsideWalker2",spriteBase:"guy8",facing:T.LEFT_UP,animationState:_.IDLE,speed:.9,overworldAi:Re(["MarkerWalker1","MarkerWalker2"],{pauseDurationMs:7e3,onReachDestination:t=>{go(t,Ae(["girl2","girl3","girl4","girl5","girl6"]))}})},e.Floor1AtriumDeskEmployee={name:"Atrium Desk Employee",spriteBase:"employee-girl",talkTrigger:"floor1-atrium-desk-employee",facing:T.RIGHT_UP,animationState:_.IDLE},e.Floor1AtriumElevatorEmployee={name:"Atrium Elevator Employee",spriteBase:"employee-guy",talkTrigger:"floor1-atrium-elevator-employee",facing:T.RIGHT_DOWN,animationState:_.IDLE},e.Floor1AtriumTicTacToeGirl={name:"Tic Tac Toe Girl",nameLabel:"Girl",spriteBase:"girl",talkTrigger:"floor1-atrium-TicTacToeGirl",facing:T.RIGHT_DOWN,animationState:_.IDLE},e.Floor1AtriumEmployeeJason={name:"Atrium Employee Jason",nameLabel:"Employee Jason",spriteBase:"employee-guy2",talkTrigger:"floor1-atrium-employee-jason",facing:T.LEFT_DOWN,animationState:_.IDLE,speed:1},e.Floor1AtriumEmployeeJason2=S({},e.Floor1AtriumEmployeeJason),e.Floor1AtriumEmployeeJason2.name="Jason",e.Floor1PingPongGuyA={name:"Floor1PingPongGuyA",nameLabel:"Ping Pong Guy",spriteBase:"guy2",facing:T.LEFT_DOWN,animationState:_.IDLE,overrideAnimationName:"guy2_pingpong_idle",talkTrigger:"floor1-Floor1PingPongGuyA",overworldAi:"PING_PONG"},e.Floor1PingPongGuyB={name:"Floor1PingPongGuyB",nameLabel:"Avid Ping Pong Guy",spriteBase:"guy3",facing:T.RIGHT_UP,animationState:_.IDLE,overrideAnimationName:"guy3_pingpong_idle",talkTrigger:"floor1-Floor1PingPongGuyA",overworldAi:"PING_PONG"},e.Floor1AtriumPingPongSearcher={name:"Floor1AtriumPingPongSearcher",nameLabel:"Ping Pong Girl",spriteBase:"girl2",facing:T.RIGHT_DOWN,animationState:_.IDLE,talkTrigger:"floor1-AtriumPingPongSearcher"},e.Floor1AtriumGreeterEmployee={name:"AtriumGreeterEmployee",nameLabel:"Employee Greeter",spriteBase:"employee-girl",talkTrigger:"floor1-atrium-greeter-employee",facing:T.LEFT_DOWN,animationState:_.IDLE,overworldAi:Re(["MarkerGreeterA","MarkerGreeterB"],{pauseDurationMs:3500,onReachDestination:t=>{U1(t,T.LEFT_DOWN)}})},e.Floor1AtriumNPC1={name:"Floor1AtriumNPC1",nameLabel:"Girl",spriteBase:"girl5",talkTrigger:"floor1-AtriumNPC1NPC2",facing:T.RIGHT_DOWN,animationState:_.IDLE},e.Floor1AtriumNPC2={name:"Floor1AtriumNPC2",nameLabel:"Boy",spriteBase:"guy5",talkTrigger:"floor1-AtriumNPC1NPC2",facing:T.LEFT_UP,animationState:_.IDLE},e.FloorAtriumWalkingNPC={name:"FloorAtriumWalkingNPC",nameLabel:"Walking Boy",spriteBase:"guy8",talkTrigger:"floor1-AtriumWalkingNPC",facing:T.LEFT_UP,animationState:_.IDLE,speed:.5,overworldAi:Re(["MarkerNPCWalkA","MarkerNPCWalkB","MarkerNPCWalkC"],{pauseDurationMs:3500,onReachDestination:t=>{U1(t,T.DOWN)}})},e.Floor1BowlingGirl={name:"Floor1BowlingGirl",nameLabel:"Girl",spriteBase:"girl3",talkTrigger:"floor1-bowling-girl",facing:T.LEFT_DOWN,animationState:_.IDLE,overworldAi:Re(["MarkerWalkA","MarkerWalkB"],{pauseDurationMs:1e3,onReachDestination:t=>{U1(t,T.LEFT_UP)}})},e.Floor1BowlingEmployee={name:"Floor1BowlingEmployee",nameLabel:"Bowling Employee",spriteBase:"employee-girl",talkTrigger:"floor1-bowling-employee",facing:T.LEFT_DOWN,animationState:_.IDLE},e.Floor1PrimaryGuy1={name:"Floor1PrimaryGuy1",nameLabel:"Older Gentleman",spriteBase:"guy6",talkTrigger:"Floor1PrimaryGuy1",facing:T.RIGHT_UP,animationState:_.IDLE},e.Floor1PrimaryGuy2={name:"Floor1PrimaryGuy2",nameLabel:"Guy",spriteBase:"guy7",talkTrigger:"Floor1PrimaryGuy2-Floor1PrimaryGirl1-convo",facing:T.RIGHT_UP,animationState:_.IDLE},e.Floor1PrimaryGirl1={name:"Floor1PrimaryGirl1",nameLabel:"Girl",spriteBase:"girl6",talkTrigger:"Floor1PrimaryGuy2-Floor1PrimaryGirl1-convo",facing:T.LEFT_DOWN,animationState:_.IDLE},e.Floor1East1PrizeEmployee={name:"Shopkeep",nameLabel:"Prize Employee",spriteBase:"employee-guy",talkTrigger:"Floor1East1PrizeEmployee",facing:T.RIGHT_DOWN,animationState:_.IDLE,overworldAi:b4(2e3,t=>{U1(t,Ae([T.LEFT_UP,T.RIGHT_DOWN]))})},e.Floor1DNDPlayer1={name:"DNDPlayer1",nameLabel:"Tabletop Player",spriteBase:"guy3",talkTrigger:"Floor1East2_DNDPlayer1",facing:T.RIGHT_UP,animationState:_.IDLE,overworldAi:Re(["MarkerPaceA","MarkerPaceB"],{pauseDurationMs:2e3,onReachDestination:t=>{U1(t,T.RIGHT_UP)}})},e.Floor1DNDPlayer2={name:"DNDPlayer2",nameLabel:"Tabletop Player",spriteBase:"guy7",talkTrigger:"Floor1East2_DNDPlayer2",facing:T.LEFT_DOWN,animationState:_.IDLE,overworldAi:Re(["Marker2PaceA","Marker2PaceB"],{pauseDurationMs:5e3,onReachDestination:t=>{U1(t,T.LEFT_DOWN)}})},e.Floor1DNDPlayer3={name:"DNDPlayer3",nameLabel:"Tabletop Player",spriteBase:"guy2",talkTrigger:"Floor1East2_DNDPlayer3",facing:T.RIGHT_DOWN,animationState:_.IDLE},e.Floor1DNDPlayer4={name:"DNDPlayer4",nameLabel:"Tabletop Player",spriteBase:"girl7",talkTrigger:"Floor1East2_DNDPlayer4",facing:T.RIGHT_UP,animationState:_.IDLE},e.Floor1ZagPlayer={name:"ZagPlayer",nameLabel:"Zag Player",spriteBase:"guy10",talkTrigger:"Floor1East2_ZagPlayer",facing:T.RIGHT_UP,animationState:_.IDLE},e.Floor1SaveRoomEmployee={name:"Employee",nameLabel:"Employee",spriteBase:"employee-guy",talkTrigger:"Floor1West1_Employee",facing:T.LEFT_DOWN,animationState:_.IDLE,overworldAi:b4(2e3,t=>{U1(t,Ae([T.LEFT_DOWN,T.LEFT,T.DOWN,T.RIGHT_DOWN]))})},e.Floor1StorageEmployee={name:"Employee",nameLabel:"Storage Employee",spriteBase:"employee-guy5",talkTrigger:"Floor1East1Storage_Employee",facing:T.RIGHT_UP,animationState:_.IDLE},e.Floor1ShadyPerson={name:"ShadyPerson",nameLabel:"Inconspicuous Patron",spriteBase:"girl4",talkTrigger:"Floor1ShadyPerson",facing:T.RIGHT_DOWN,animationState:_.IDLE,speed:2.5},e},Le={},St=e=>{const t=Le[e];if(!t)throw new Error(`No character template exists with name: ${e}`);return S({},t)},V0=e=>{const t=Le[e];return t?S({},t):null},r7=()=>{Object.assign(Le,Vy()),Object.assign(Le,Xy()),Object.assign(Le,qy()),Object.assign(Le,o7()),Le.Roger={name:"Roger",spriteBase:"guy2",talkTrigger:"test-roger",facing:T.LEFT_DOWN,animationState:_.IDLE,tags:["A"],overworldAi:"WALK_BETWEEN_MARKERS_ABC"},Le.Rho={name:"Rho",spriteBase:"rho",talkTrigger:"test-rho",facing:T.DOWN,animationState:_.IDLE,collisionSize:8},Le.Sigma={name:"Sigma",spriteBase:"sigma",talkTrigger:"Floor1East1Sigma",facing:T.LEFT_UP,animationState:_.IDLE};for(const e in Le)Le[e].name===""&&(Le[e].name=e)},a7=e=>{e.OpeningQuest={label:"A Benign Request",summary:"Discover what Carl-Arnold wants with Ada at the Regem Ludos Arcade.",description:"Carl-Arnold, an acquaintance from the school they both attend, wants to meet Ada at an arcade in the city. ",questStartScriptKey:"quest_floor1-main",questEndScriptKey:"quest_floor1-main1-complete",steps:[{label:"Find out where Carl-Arnold is inside the Regem Ludos Arcade.",description:"Carl-Arnold is waiting in the Regem Ludos Arcade.  Discover why he insists on Ada coming here to meet him today."},{label:"Go to the second floor of the Regem Ludos Arcade.",description:"Carl-Arnold is waiting for Ada on the second floor of the Regem Ludos Arcade.  Go there and meet him."},{label:"Follow Lotte.",description:"A girl named Lotte will lead the way to Carl-Arnold.  Follow her."}]},e.Tutorial={label:"Mandatory Tutorial",summary:"Complete the Regem Ludos tutorial.",description:"The Regem Ludos arcade requires the completion of a tutorial before anyone is allowed to ascend to further floors.",questStartScriptKey:"quest_tutorial",questEndScriptKey:"quest_tutorial_complete",steps:[{completedScriptKey:"quest_tutorial1",label:"Speak with Employee Jason.",description:"An employee standing in the atrium of the Regem Ludos arcade will provide a tutorial on how to use their fancy VR.  Ask him to do so."},{completedScriptKey:"quest_tutorial2",label:"Follow Employee Jason through the tutorial.",description:"Employee Jason will guide Ada through the tutorial.  Follow his instructions to complete it."},{completedScriptKey:"quest_tutorial3",label:"Find a way to escape the tutorial.",description:"Ada and Conscience arrived in the tutorial area via some kind of portal.  Find out if there is another one."},{completedScriptKey:"quest_tutorial4",label:"Access the escape portal.",description:"An escape portal is on the northern side of the tutorial area.  Find a way to access the platform on which it resides."}]},e.TicTacToe={label:"Tic Tac Woe",summary:"The sad Tic Tac Toe AI deserves a few wins.",description:"A girl standing by the Tic Tac Toe machines feels sorry for the AI programmed inside of them.  After all, the game is so simple that it does an awful lot of losing.  Someone ought to let it win a couple of games so that it doesn't need to have it so rough.",questStartScriptKey:"quest_floor1-atrium_tic-tac-toe",questEndScriptKey:"quest_floor1-atrium_tic-tac-toe-complete",icon:"tic-tac-toe",iconColor:h.WHITE,experienceReward:3,ticketsReward:10,itemsReward:()=>[],steps:[{completedScriptKey:"quest_floor1-atrium_tic-tac-toe-1",label:"Lose at Tic Tac Toe.",description:"Lose all three games in a single round at the Tic Tac Toe arcade cabinets by the entrance on floor 1."}]},e.PingPong={label:"The Ping Pong Girl",summary:"A girl by the ping pong tables can't find any extra equipment.",description:"A girl is moping around the ping pong tables in the atrium lamenting the fact that there are no extra balls and paddles.  There has to be some ping pong equipment somewhere in this arcade, right?",questStartScriptKey:"quest_floor1PingPongGirl",questEndScriptKey:"quest_floor1PingPongGirl_complete",icon:"star",iconColor:h.WHITE,experienceReward:3,ticketsReward:10,itemsReward:()=>[],steps:[{completedScriptKey:"quest_floor1PingPongGirl_0",label:"Speak to the greeter employee.",description:"Speak with the employee greeting people at the entrance to see if she knows where to get ping pong equipment."},{completedScriptKey:"quest_floor1PingPongGirl_1",label:"Speak to the employee at the prize counter on floor 1.",description:"Speak with the employee at the prize counter to see if they have some ping pong equipment."},{completedScriptKey:"quest_floor1PingPongGirl_2",label:"Speak to the boys playing Ping Pong in the atrium on floor 1.",description:"It seems that there is no extra equipment available right now.  Try to get the boys to share their paddles."},{completedScriptKey:"quest_floor1PingPongGirl_3",label:"Keep searching for Ping Pong Equipment.",description:"The boys will not give up their paddles, but there has to be someone around here who knows how to get more equipment..."},{completedScriptKey:"quest_floor1PingPongGirl_4",label:"Meet the secretive person by the elevator on floor 1.",description:"Somebody approached and said that they know of a way to get ping pong equipment.  Speak with this individual by the elevator on floor 1."},{completedScriptKey:"quest_floor1PingPongGirl_5",label:"Enter the secret storage area in the room with the prize counter on floor 1.",description:'Apparantly there is a secret storage room accessible via a door on the south wall of the room with the prize counter on floor 1.  Find it and give the password "ZOOFA" to whomever is inside.'},{completedScriptKey:"quest_floor1PingPongGirl_6",label:"Get an employee's vest and give it to the employee in the storage room.",description:'An employee inside the storage room requires an Employee Vest before he will help. He mentioned that "somebody is bound to be selling it somewhere."'},{completedScriptKey:"quest_floor1PingPongGirl_7",label:"Return to the employee in the storage room.",description:"Give the employee in the storage room the Employee Vest."},{completedScriptKey:"quest_floor1PingPongGirl_8",label:"Return to the Ping Pong Girl.",description:"Give the Ping Pong Equipment to the Ping Pong Girl."}]}},s7=e=>{e.TestQuest1={label:"Test Quest 1",summary:"This is a test quest.",description:"The test construct in the test room has a quest for you.  It wants you to talk to it a bunch of times for some reason.",questStartScriptKey:"quest_test1",questEndScriptKey:"quest_test1_complete",icon:"gear",iconColor:h.RED,experienceReward:50,itemsReward:()=>[],steps:[{completedScriptKey:"quest_test1_1",label:"Complete task 1.",description:"Talk to TestDialogD to complete task 1."},{completedScriptKey:"quest_test1_2",label:"Complete task 2.",description:"Talk to TestDialogD to complete task 2."}]}},q0={},l7=e=>{const t=q0[e];if(!t)throw new Error(`No quest template exists with name: ${e}`);return S({name:e},t)},de=e=>{const t=q0[e];return t?S({name:e},t):null},x4=()=>q0,c7=()=>{a7(q0),s7(q0);for(const e in q0){const t=q0[e];t.name=e,t.steps.forEach((i,n)=>{i.i=n,i.completedScriptKey=t.questStartScriptKey+"-"+n})}},cn=(e,t)=>{var i;if(e.isDynamic){const n=B0(e.sprite);if(!n)throw console.error(e),new Error("Cannot create prop render object, no sprite exists:"+e.sprite);const[,,,o,r]=n;let[s,l]=I1(e.x,e.y);t||(o===32&&r===32?(l=l-r+16+4-4+1-1,s=s-o/2+16+4-4+0):(l=l-r+16,s=s-o/2+16));let c=0;return e.sortOffset!==void 0?c=e.sortOffset:((i=e.sprite)==null?void 0:i.includes("props_small"))&&(c=16),{sprite:e.sprite,px:s,py:l,sortY:e.isFront?1/0:l+r+c,visible:!0}}else{let[n,o]=I1(e.x,e.y);const[,,,r,s]=B0(e.sprite);return n-=n-r/2+A1/2,o=o-s+me/2,{sprite:e.sprite,px:n,py:o,sortY:o+s,visible:!0}}},T4=e=>{const{x:t,y:i}=e,[n,o]=I1(t,i,0);return{name:e.name,sprite:"control_1",px:n,py:o,sortY:o+32,visible:!0,isMarker:!0}},E4=e=>{if(e.polygon)return{name:e.name,polygon:e.polygon,sortY:1/0,visible:!0,isTrigger:!0};{const{x:t,y:i}=e,[n,o]=I1(t,i,0);return{name:e.name,sprite:"control_2",px:n,py:o,sortY:o+32,visible:!0,isTrigger:!0}}},kt=(e,t)=>{const i=I1(e.x*A1/2,e.y*me/2),n=i[0];let o=i[1];const r=o;o-=e.tileHeight-32;const s=parseFloat(e.sprite.slice(e.sprite.lastIndexOf("_")+1)),l=e.sprite.indexOf("floors")>-1,c=o+(e.tileHeight-32)+(e.tileHeight>32?16+4:16)+(t!=null?t:0);let d=e.sprite;return l&&(!isNaN(s)&&s>=56&&(o+=16),e.sprite==="floors_0"&&(d="invisible")),{sprite:d,origPy:r,px:n,py:o,highlighted:e.highlighted,isFloor:l,sortY:c,visible:!0}};let m2=[];const dn=e=>{const t=m2.indexOf(e);t>-1&&m2.splice(t,1),m2.push(e)},_4=()=>m2,C4=e=>{m2=e!=null?e:[]},si=(e,t)=>e.storage[t.questStartScriptKey]&&!e.storage[t.questEndScriptKey],xe=(e,t)=>!!e.storage[t.questEndScriptKey],A4=(e,t)=>!e.storage[t.questStartScriptKey],d7=e=>{const t=x4(),i=[];for(const n in t){const o=t[n];si(e,o)&&i.push(S({name:n},o))}return i.sort((n,o)=>n.label<o.label?-1:1)},u7=e=>{const t=x4(),i=[];for(const n in t){const o=t[n];e.storage[o.questEndScriptKey]&&i.push(S({name:n},o))}return i.sort((n,o)=>n.label<o.label?-1:1)},un=window.beginQuest=(e,t)=>{const i=de(t);i?(console.log("begin quest",i),A4(e,i)?(e.storage[i.questStartScriptKey]=!0,dn(t)):console.log("somehow the quest is started already?")):console.error("cannot beginQuest, quest not found:",t)},h7=window.completeQuest=(e,t)=>{const i=de(t);console.log("COMPLETE QUEST",t),i?(dn(t),e.storage[i.questEndScriptKey]=!0):console.error("cannot beginQuest, quest not found:",t)},g7=window.completeQuestStep=(e,t,i)=>{const n=de(t);if(n)if(console.log("COMPLETE STEP",t,i),si(e,n)){for(let o=0;o<n.steps.length;o++){const r=n.steps[o];if(!e.storage[r.completedScriptKey]&&(e.storage[r.completedScriptKey]=!0,dn(t),o>=i&&o<n.steps.length-1))return}h7(e,t)}else console.error(`cannot completeQuestStep ${i}, quest is not active:`,t);else console.error("cannot completeQuestStep, quest not found:",t)},li=(e,t)=>{const i=de(t);if(i){if(si(e,i))for(let n=0;n<i.steps.length;n++){const o=i.steps[n];if(!e.storage[o.completedScriptKey])return S({i:n},o)}}else console.error("cannot getCurrentQuestStep, quest not found:",t)},Rt={},hn=e=>{const t=Rt[e];if(!t)throw new Error(`No IItemStoreTemplate exists with name: ${e}`);return S({},t)},m7=e=>{const t=Rt[e];return t?S({},t):null},p7=()=>{Rt.SODA_VENDING_MACHINE={label:"Soda Vending Machine",description:"This vending machine sells a variety of tasty sodas.",openSound:"vending_machine",icon:"vending",items:[{itemName:"FennelSoda",price:5,quantity:5},{itemName:"CarrotSoda",price:5,quantity:5},{itemName:"DurianSoda",price:5,quantity:5},{itemName:"OysterSoda",price:5,quantity:5}]},Rt.SNACK_VENDING_MACHINE={label:"Snack Vending Machine",description:"This vending machine sells a variety of tasty snacks.",openSound:"vending_machine",icon:"vending",items:[{itemName:"GrilledTortillaChipettes",price:5,quantity:5},{itemName:"GarlicSticks",price:5,quantity:5},{itemName:"EspressoTart",price:5,quantity:5}]};for(const e in Rt)Rt[e].name=e},A0=(e,t,i)=>{const{cutscene:n}=D().appState;if(!n.visible){console.error("Tried to play dialog while cutscene was not visible",e,t);return}let o=p1.None;const r=e.toLowerCase();n.portraitLeft===r?o=p1.Left:n.portraitLeft2===r?o=p1.Left2:n.portraitRight===r?o=p1.Right:n.portraitRight2===r?o=p1.Right2:n.portraitCenter===r&&(o=p1.Center);let s=e;const l=B(),c=Q(l,e);c&&(s=c.nameLabel),o!==n.speaker&&[p1.Left,p1.Right].includes(o)&&x("dialog_woosh"),bi(t,o,r!=="narrator"?s:"",e);const d=()=>{C7()};return window.TEST?(d(),!0):_1(150,d)},f7=(e,t,i)=>{if(!e){console.error("No left actor specified.");return}if(!t){console.error("No right actor specified.");return}if(D().appState.cutscene.visible&&rx(),x("dialog_woosh"),ax(`${e.toLowerCase()}`,`${t.toLowerCase()}`),i!==0)return _1(i!=null?i:500)},y7=(e,t)=>{const i=D().appState,n=P();if(e9(n.leader),i.cutscene.visible){if(i.cutscene.portraitCenter===e.toLowerCase())return;bi(""),ci(p1.None);const o=()=>{wi(`${e.toLowerCase()}`,!0),x("dialog_woosh")};return t===0?o():_1(200,o)}else return wi(`${e.toLowerCase()}`,!0),x("dialog_woosh"),t===0?void 0:_1(100)},w7=(e,t)=>{if(wi(`${e.toLowerCase()}`,!1),x("dialog_woosh"),t!==0)return _1(100)},b7=(e,t)=>{if(H0(!1),wi(`${e.toLowerCase()}`,!1),t!==0)return _1(100)},v7=e=>{H0(!e)},x7=(e,t)=>{bi(""),ox(),H0(!0);const i=()=>{(t===void 0||t===!1)&&!M()&&t1(O.Debug,!0)};return e===0?i():_1(e!=null?e:500,i)},ci=e=>{const t=D().appState;!t.cutscene.visible||t.sections.includes(O.Cutscene)&&bi("",e)},S0=()=>{ci(p1.None)},T7=e=>{const t=B(),i=Q(t,e);if(!i){console.error("Could not find character with name: "+e);return}I4(e),bf(i)},_1=(e,t,i)=>{const n=$();return n.isWaitingForTime=!0,clearTimeout(n.waitTimeoutId),n.waitTimeoutCb=()=>{n.isWaitingForTime=!1,t&&t(),n.waitTimeoutCb=null},n.waitTimeoutId=setTimeout(n.waitTimeoutCb,e*(i?1:1/w0())),!0},E7=(e,t)=>{const i=$(),n=r=>{switch(r.key){case"Return":case"Enter":case"X":case"x":case" ":{clearTimeout(i.waitTimeoutId),ee(n),o();break}}};Et(n);const o=()=>{i.isWaitingForTime=!1,t&&t(),ee(n)};return i.isWaitingForTime=!0,clearTimeout(i.waitTimeoutId),i.waitTimeoutId=setTimeout(o,e*(1/w0())),!0},Ie=()=>{const e=$();return e.isWaitingForTime=!0,()=>{e.isWaitingForTime=!1}},_7=e=>{const t=$();if(t.isWaitingForInput){console.error("Scene is already waiting for input!");return}t.isWaitingForInput=!0;let i=!1;const n=r=>{const s=$();if(!(s.inputDisabled||i)){switch(r.key){case"Return":case"Enter":case"x":case"X":case"KeyX":case" ":return i=!0,clearTimeout(s.waitTimeoutId),o(),!0}return!1}};Et(n);const o=()=>{t.isWaitingForInput=!1,ee(n),e&&e()};return o},C7=e=>{const t=$();if(t.isWaitingForInput){console.error("Scene is already waiting for input!");return}t.isWaitingForInput=!0;let i=!1;const n=r=>{const s=$();if(!(s.inputDisabled||i))switch(r.key){case"Return":case"Enter":case"x":case"X":case"KeyX":case" ":{i=!0,x("dialog_select"),window.TEST?(clearTimeout(s.waitTimeoutId),o()):setTimeout(()=>{clearTimeout(s.waitTimeoutId),o()},100);break}}};Et(n);const o=()=>{t.isWaitingForInput=!1,console.log("SCENE INPUT INVOKED"),ee(n),e&&e()};return o},gn=(e,t)=>{t==="false"&&(t=!1),console.log("Set Storage",e,t!=null?t:!0);const i=$();i.storage[e]=t!=null?t:!0},mn=(e,...t)=>{const i=$();return y2(i,e,...t),!0},di=(e,t)=>{const i=B(),n=Q(i,e),o=Q(i,t);if(!n){console.error("Could not find character with name: "+e);return}if(!o){console.error("Could not find target character to lookAtCharacter with name: "+t);return}if(n&&o){const r=L1(n),s=L1(o),l=c9(r,s);po(n,l)}},A7=(e,t)=>{const i=B(),n=Q(i,e),o=i.markers[t];if(!n){console.error("Could not find character with name: "+e);return}if(!o){console.error("Could not find target marker with name: "+t);return}if(n&&o){const r=L1(n),s=[o.x,o.y],l=c9(r,s);po(n,l)}},S7=(e,t)=>{di(e,t),di(t,e)},k7=(e,t)=>{const i=Q(B(),e);i?(t===T.RIGHT2?t=T.RIGHT:t===T.RIGHT_UP2?t=T.RIGHT_UP:t===T.RIGHT_DOWN2&&(t=T.RIGHT_DOWN),U1(i,t)):console.error("Cannot set facing, no character named:",e,"facing=",t)},R7=(e,t)=>{const i=document.getElementById("canvas-container");if(i&&(i.className="shake"),t){setTimeout(()=>{i&&(i.className="")},e!=null?e:1e3);return}return _1(e!=null?e:1e3,()=>{i&&(i.className="")})},L7=(e,t,i,n)=>{const o=B(),r=Q(o,e);if(!r){console.error("Could not find character with name: "+e);return}re(r,[t,i,n!=null?n:0])},I7=(e,t,i,n)=>{const o=B(),r=Q(o,e);if(!r){console.error("Could not find character with name: "+e);return}const[s,l,c]=y1(r);if(t=parseInt(t),i=parseInt(i),n=parseInt(n!=null?n:0),isNaN(t)){console.error("Could not offset character, the offsetX is NaN",t,i,n);return}if(isNaN(i)){console.error("Could not offset character, the offsetX is NaN",t,i,n);return}if(isNaN(n!=null?n:0)){console.error("Could not offset character, the offsetZ is NaN",t,i,n);return}re(r,[s+t,l+i,c+n])},O7=(e,t,i,n,o)=>{const r=B(),s=Q(r,e),l=r.markers[t];if(!s){console.error("Could not find character with name: "+e);return}if(!l){console.error("Could not find target marker with name: "+t);return}if(i!==void 0&&typeof i!="number"){console.error("xOffset is not a number");return}if(n!==void 0&&typeof n!="number"){console.error("yOffset is not a number");return}const c=[l.x+(i!=null?i:0),l.y+(n!=null?n:0)];if(o)De(s,c,()=>{});else return De(s,c,Ie()),!0},P7=(e,t,i,n,o)=>{const r=B(),s=Q(r,e),l=Q(r,t);if(!s){console.error("Could not find character with name: "+e);return}if(!l){console.error("Could not find target ch with name: "+t);return}if(i!==void 0&&typeof i!="number"){console.error("xOffset is not a number");return}if(n!==void 0&&typeof n!="number"){console.error("yOffset is not a number");return}const[c,d]=y1(l),u=[c+(i!=null?i:0),d+(n!=null?n:0)];if(o)De(s,u,()=>{});else return De(s,u,Ie()),!0},p2=(e,t,i,n)=>{const o=B(),r=Q(o,e),s=o.markers[t];if(!r){console.error("Could not find character with name: "+e);return}if(!s){console.error("Could not find target marker with name: "+t);return}if(i!==void 0&&typeof i!="number"){console.error("xOffset is not a number");return}if(n!==void 0&&typeof n!="number"){console.error("yOffset is not a number");return}const l=[s.x+(i!=null?i:0),s.y+(n!=null?n:0),0];re(r,l)},M7=(e,t,i,n)=>{const o=B(),r=Q(o,e);if(!r){console.error("Could not find character with name: "+e);return}if(t!==void 0&&typeof t!="number"){console.error("xOffset is not a number");return}if(i!==void 0&&typeof i!="number"){console.error("yOffset is not a number");return}const s=[r.x+t,r.y+i];if(n)De(r,s,()=>{});else return De(r,s,Ie()),!0},S4=(e,t,i,n)=>{const o=B(),r=Q(o,e),s=o.markers[t];if(!r){console.error("Could not find character with name: "+e);return}if(!s){console.error("Could not find target marker with name: "+t);return}if(i!==void 0&&typeof i!="number"){console.error("xOffset is not a number");return}if(n!==void 0&&typeof n!="number"){console.error("yOffset is not a number");return}if(r&&s){const l=[Math.floor(s.x+(i!=null?i:0)),Math.floor(s.y+(n!=null?n:0))];re(r,qt(l))}},X0=(e,t,i,n)=>{var l,c,d,u;const o=B(),r=typeof e=="string"?o.markers[e]:e,s=p4(t);if(!s){console.error("Could not get a tile template with name: "+t);return}if(!r){console.error("Could not find target marker with name: "+e);return}if(i!==void 0&&typeof i!="number"){console.error("xOffset is not a number");return}if(n!==void 0&&typeof n!="number"){console.error("yOffset is not a number");return}if(r){const g=[r.x+(i!=null?i:0),r.y+(n!=null?n:0)],m=J1(o,g);if(!m){console.error("Could not get a tile below the provided marker: "+e);return}if(m.isWall=(l=s.isWall)!=null?l:m.isWall,m.isProp=(c=s.isProp)!=null?c:m.isProp,m.ro){if(m.sprite=s.baseSprite,m.ro.sprite=s.baseSprite,m.floorTileBeneath&&s.hasFloorTile===!1){const p=o.renderObjects.indexOf((d=m.floorTileBeneath)==null?void 0:d.ro);p>-1&&(o.renderObjects.splice(p,1),m.floorTileBeneath=void 0)}if(s.animName&&m.animName!==s.animName)if(s.animName){if(m.animName=s.animName,v0(m.animName)){const p=se(s.animName);p.start(),m.ro.anim=p}}else m.ro.anim=void 0;if(s.size&&(m.tileWidth=s.size[0],m.tileHeight=s.size[1]),s.floorTile){const p=p4(s.floorTile);if(p){const y=J(S(S({},m),p),{sprite:p.baseSprite,tileWidth:32,tileHeight:32}),w=kt(y);if(y.ro=w,m.floorTileBeneath){const v=o.renderObjects.indexOf((u=m.floorTileBeneath)==null?void 0:u.ro);v>-1?o.renderObjects.splice(v,1,w):o.renderObjects.push(w),m.floorTileBeneath=y}else o.renderObjects.push(w),m.floorTileBeneath=y}else console.error(`Floor tile specified by tile db for tile ${t} does not exist: `,s.floorTile)}const f=o.renderObjects.indexOf(m.ro);if(f>-1){const p=m.ro.anim,y=m.ro.sortY;m.ro=kt(m),m.ro.anim=p,m.ro.sortY=y,s.onAfterCreation&&s.onAfterCreation(m),o.renderObjects.splice(f,1,m.ro)}}}},D7=(e,t,i)=>{const n=B(),o=n.markers[e];if(!o){console.error("Could not find target marker with name: "+e);return}if(t!==void 0&&typeof t!="number"){console.error("xOffset is not a number",t);return}if(i!==void 0&&typeof i!="number"){console.error("yOffset is not a number",i);return}if(o){const r=[o.x+(t!=null?t:0),o.y+(i!=null?i:0)],s=J1(n,r);if(!s){console.error("Could not get a tile below the provided marker: "+e);return}if(s.isWall=!1,s.isProp=!1,s.ro&&s.floorTileBeneath){const l=n.renderObjects.indexOf(s.ro);l>-1&&n.renderObjects.splice(l,1)}}},N7=(e,t)=>{const i=B();if(typeof e!="number"){console.error("tileX is not a number",e);return}if(typeof t!="number"){console.error("tileY is not a number",t);return}const n=a0(i,e,t);if(n){if(!n){console.error("Could not get a tile at the provided position: "+[e,t].join(","));return}if(n.isWall=!1,n.isProp=!1,n.ro&&n.floorTileBeneath){const o=i.renderObjects.indexOf(n.ro);o>-1&&i.renderObjects.splice(o,1)}}},pn=(e,t,i,n)=>{const o=B(),r=Q(o,t),s=V0(e);if(!s){console.error("Could not get a character template with name: "+e);return}if(!r){console.error("Could not find target character to spawnCharacterAtCharacter with name: "+t);return}if(i!==void 0&&typeof i!="number"){console.error("xOffset is not a number");return}if(n!==void 0&&typeof n!="number"){console.error("yOffset is not a number");return}if(Q(o,s.name)){console.error("The character to be spawned already exists in the current room: "+s.name);return}const l=[r.x+(i!=null?i:0),r.y+(n!=null?n:0),0],c=o0(s);re(c,l),gt(o,c)},B7=(e,t,i,n)=>{const o=B(),r=o.markers[t],s=V0(e);if(!s){console.error("Could not get a character template with name: "+e);return}if(!r){console.error("Could not find target marker with name: "+t);return}if(i!==void 0&&typeof i!="number"){console.error("xOffset is not a number");return}if(n!==void 0&&typeof n!="number"){console.error("yOffset is not a number");return}if(Q(o,s.name)){console.error("The character to be spawned already exists in the current room: "+s.name);return}const l=[r.x+(i!=null?i:0),r.y+(n!=null?n:0),0],c=o0(s);re(c,l),gt(o,c)},$7=e=>{const t=P(),i=t.partyStorage.filter(s=>s!==t.leader),n=12,o=[[n,1],[1,-n],[-n,1],[1,n]],r=B();if(i.forEach((s,l)=>{const c=o[l];pn(s.name,t.leader.name,c==null?void 0:c[0],c==null?void 0:c[1]);const d=Q(r,s.name);if(d){const u=[d.x+c[0],d.y+c[1]];De(d,u,()=>{di(d.name,t.leader.name)})}}),!e)return _1(1e3)},W7=e=>{const t=P(),i=t.leader,n=B();if(t.partyStorage.filter(r=>r!==t.leader&&Q(n,r.name)).forEach(r=>{const s=Q(n,r.name);if(s){const l=[i.x,i.y];De(s,l,()=>{mt(n,s)})}}),!e)return _1(1e3)},G7=()=>{const e=B(),t=P(),i=t.partyStorage.filter(r=>r!==t.leader),n=16,o=[[n,1],[1,-n],[-n,1],[1,n]];i.forEach((r,s)=>{const l=o[s];pn(r.name,t.leader.name,l==null?void 0:l[0],l==null?void 0:l[1])}),t.party.forEach(r=>{const s=Q(e,r.name);s&&(U1(s,T.DOWN),Ot("EFFECT_TEMPLATE_PORTAL_SPAWN",s.name,"normal"))})},k4=e=>{const t=B(),i=Q(t,e);if(!i){console.error("Could not find character with name: "+e);return}mt(t,i)},Lt=(e,t)=>{if($().skip)return;const n=e!=null?e:750,o=document.getElementById("fade");if(o&&(o.style.transition=`background-color ${n}ms`,o.style["background-color"]="rgba(0, 0, 0, 255)"),!t)return _1(n)},It=(e,t)=>{if($().skip)return;const n=e!=null?e:1e3,o=document.getElementById("fade");if(o&&(o.style.transition=`background-color ${n}ms`,o.style["background-color"]="rgba(0, 0, 0, 0)"),!t)return _1(n)},F7=(e,t,i,n,o)=>{const r=n!=null?n:750,s=document.getElementById("fade");if(s&&(s.style.transition=`background-color ${r}ms`,s.style["background-color"]=`rgba(${e}, ${t}, ${i}, 255)`),!o)return _1(r)},H7=(e,t,i,n,o)=>{const r=n!=null?n:1e3,s=document.getElementById("fade");if(s&&(s.style.transition=`background-color ${r}ms`,s.style["background-color"]=`rgba(${e}, ${t}, ${i}, 0)`),!o)return _1(r)},U7=async(e,t)=>{const i=P(),n=Wm(e);if(!i){console.error("Player has not been initialized.");return}if(!n){console.error("No overworld template exists with name:",e);return}g1().music!==n.music&&pe(1e3);const r=g2(i,n,t);r&&(r.triggersEnabled=!1)},K7=(e,t)=>{const i=P(),n=Ft(e);if(!n){console.error(`Cannot acquire item "${e}" no template exists with that name.`);return}if(Ht(i,e))return n.onAcquire?n.onAcquire(n):A0("Narrator",t!=null?t:`Acquired: ${n.label}`)},z7=(e,t)=>{const i=P();if(Ht(i,e))return A0("Narrator",t!=null?t:`Acquired: ${e}`)},j7=(e,t)=>{const i=P();if(F1(i,e))return A0("Narrator",t!=null?t:`Removed: ${e}`)},Y7=e=>{const t=P();return to(t,parseInt(e)),e>=0?(x("token_get"),A0("Narrator",`Gained ${e} Regem Ludos Tokens.`)):(x("lose_token"),A0("Narrator",`Removed ${-e} Regem Ludos Tokens.`))},V7=e=>{const t=P();return Hi(t,parseInt(e)),e>=0?A0("Narrator",`Gained ${e} Prize Tickets.`):A0("Narrator",`Removed ${-e} Prize Tickets.`)},q7=e=>{const t=B(),i=Q(t,e);if(!i){console.error("Could not find character with name: "+e);return}const n=r=>new Promise(s=>{_1(33,()=>{const l=y1(i);l[2]=r,re(i,l),s()})});return ci(p1.None),(async()=>{await n(8),await n(16),await n(20),await n(22),await n(20),await n(16),await n(8),await n(0),_1(500)})(),!0},X7=(e,t,i)=>{const n=B(),o=Q(n,e);if(!o){console.error("Could not find character with name: "+e);return}const r=y1(o),s=[...r];s[2]+=t;const l=i!=null?i:1e3,c=new T1(r,s,l,S1.LINEAR);return r0(o,c),_1(l,()=>{re(o,s),o.transform=null})},Q7=e=>{const t=qe[e];if(!t){console.error("No game exists with name:",e);return}x("start_arcade_game"),j1(O.Cutscene),sx(t)},Z7=(e,t,i)=>{const n=B(),o=Q(n,e);if(!o){console.error("Could not find character with name: "+e);return}if(!v0(t)){console.error("Could not find animation with name: "+t);return}const r=se(t);D2(o,r);const s=r.getDurationMs();return _1(s+(i!=null?i:0),()=>{R4(e,_.IDLE)})},J7=(e,t)=>{const i=B(),n=Q(i,e);if(!n){console.error("Could not find character with name: "+e);return}if(!v0(t)){console.error("Could not find animation with name: "+t);return}console.log("SET ANIMATION FOR CH",e,t);const o=se(t);D2(n,o)},R4=(e,t)=>{const i=B(),n=Q(i,e);if(!n){console.error("Could not find character with name: "+e);return}z(n,t)},L4=e=>{const t=B(),i=Q(t,e);if(!i){console.error("Could not find character with name: "+e);return}Ji(i)},ew=L4,I4=e=>{const t=B(),i=Q(t,e);if(!i){console.error("Could not find character with name: "+e);return}yo(i)},tw=(e,t,i,n)=>{if(!["BCK","FWD"].includes(i)){console.error("Cannot setDoorStateAtMarker. Invalid door direction (needs BCK or FWD)");return}if(!["OPEN","CLOSED"].includes(n)){console.error("Cannot setDoorStateAtMarker. Invalid door state (needs OPEN or CLOSED)");return}i==="BCK"?(X0(e,`${t}_${i}_${n}2`),X0(e,`${t}_${i}_${n}1`,16,0)):(X0(e,`${t}_${i}_${n}2`),X0(e,`${t}_${i}_${n}1`,0,16))},iw=(...e)=>(setTimeout(()=>{g5(e)},33),Ie()),nw=(e,t)=>{const i=m4(e);if(!i){console.error("No encounter exists with name:",e);return}h2(g1()),x("battle_encountered");const n=P(),o=y1(n.leader),r=n.leader.facing,s=B();Ui(n,i,K8(s,o,r,i),t!=null?t:!1)},ow=e=>{_S(P(),e)},rw=e=>{CS(P(),e)},O4=(e,t,i,n)=>{const o=i!=null?i:1e3,r=P();if(r){const s=f0(),[l,c]=A2(r);let d=l,u=c;if(s){const m=s.current();d=m[0],u=m[1]}const g=new T1([d,u,0],[l-e,c-t,0],o,S1.EASE_OUT);if(y0(g),!n)return _1(o)}},P4=(e,t)=>{S0();const i=e!=null?e:1e3,n=P(),o=f0();if(n&&o){const[r,s]=A2(n),[l,c]=o.current(),d=new T1([l,c,0],[r,s,0],i,S1.EASE_OUT);if(d.timer.awaits.push(()=>{y0(null)}),y0(d),!t)return _1(i)}},aw=(e,t,...i)=>{if(typeof e=="string"){console.error("Invalid argument to panCameraToFitCharacters, did you forget ms and/or skipWait?");return}S0();const n=B(),o=i.filter(g=>Q(n,g)?!0:(console.error(`error in panCameraToFitCharacters, character ${g} does not exist in current room.`),!1)).map(g=>Q(n,g));if(!o.length){console.error("error in panCameraToFitCharacters, no characters to pan camera to!");return}const r=o.map(g=>{const[m,f]=I1(g.x,g.y),[p,y]=vt(),w=Math.round(p/2-m-16),v=Math.floor(y/2-f);return[w,v]}),s=r.reduce((g,[m])=>g+m,0)/r.length,l=r.reduce((g,[,m])=>g+m,0)/r.length-32,c=e!=null?e:1e3,d=P(),u=f0();if(d){const[g,m]=[s,l],[f,p]=u?u.current():A2(d),y=new T1([f,p,0],[g,m,0],c,S1.EASE_OUT);if(y0(y),!t)return _1(c)}},sw=(e,t=1e3,i=!1)=>{if(S0(),e==="ALLY"?Ut(t,-20,0):e==="ENEMY"?Ut(t,20,0):Ut(t,0,0),!i)return _1(t)},Oe=e=>{x(e)},M4=async e=>{pe(100),Tt(e,!0)},lw=(e,t)=>{const i=e!=null?e:1e3;if(pe(i),!t)return _1(i)},D4=(e,t,i)=>{const n=B();if(i==="normal"){const o=e0(t,e);x1(n,o)}else i==="weighted"?x1(n,O8(e,t[0],t[1],e.duration)):i==="rise"?x1(n,tS(e,t[0],t[1],e.duration)):console.error(`Particle method not known: "${i}"`)},Ot=(e,t,i)=>{const n=B(),o=Q(n,t),r=R8(e);if(!o){console.error("Could not find character with name: "+t);return}if(!r){console.error("Could not find particle with name: "+e);return}const s=L1(o);D4(r,s,i)},cw=(e,t)=>{const i=B(),n=Q(i,e);if(!n){console.error("Could not find character with name: "+e);return}const o=iS(n,t);x1(i,o)},fn=(e,t,i,n,o)=>{const r=B(),s=R8(e),l=r.markers[t];if(!l){console.error("Could not find target marker with name: "+t);return}if(!s){console.error("Could not find particle with name: "+e);return}let[c,d]=I1(l.x+(n!=null?n:0),l.y+(o!=null?o:0));c+=16,d+=16,D4(s,[c,d],i)},dw=e=>{D().appState.overworld.characterText!==e&&m5(e)},uw=(e,...t)=>{if(e==="BattleUI")t1(O.BattleUI,!0);else if(e==="BattleUICutscene")t1(O.BattleUI,!1);else{if(e==="Save")return gx(()=>{_0($()),t1(O.Debug,!0),D1()}),Ie();if(e==="LevelUp")return mx(()=>{_0($()),t1(O.Debug,!0),D1()}),Ie();if(e==="Modal")return $e(t[0],{onClose:()=>{_0($()),setTimeout(()=>{W1()},100)}}),Ie();if(e==="InfoStats")return H0(!1),S0(),wx(()=>{bx(),D1(),H0(!0),x5(),_0($());const i=$();i.inputDisabled=!1}),Ie()}},hw=()=>{g1()&&ve()},gw=()=>{g1()&&D1()},mw=(e,t)=>{const i=P(),n=B(),o=Q(n,t);if(!o){console.error("Could not find character with name: "+t);return}const r=i.backpack.find(s=>s.name===e);r?Ue(o,r):console.error(`Cannot equipWeaponOrArmor '${e}', no item of that name is in the Player's backpack`)},pw=e=>{const t=M();t&&(e==="true"?(t.isPaused=!0,ct(t)):(t.isPaused=!1,jt(t)))},fw=(e,t,i)=>{const n=B(),o=Q(n,e);if(!o){console.error("Could not find character with name: "+e);return}(i==="true"||i==="false")&&(i=i==="true"),o.aiState[t]=i},yw=e=>{const t=$();return de(e)||console.error(`Could not startQuest.  No quest exists with name: ${e}`),S0(),un(t,e),t.inputDisabled=!0,x("quest_started"),x("menu_choice_open"),f5(e,()=>{y5(),_0($()),t.inputDisabled=!1}),Ie()},ww=(e,t)=>{const i=$(),n=de(e);if(n||console.error(`Could not startQuest.  No quest exists with name: ${e}`),S0(),g7(i,e,t),xe(i,n))return i.inputDisabled=!0,x("quest_completed"),f5(e,()=>{y5(),_0($()),i.inputDisabled=!1}),Ie();N4("Your journal has been updated.")},N4=(e,t)=>{gy($(),()=>{setTimeout(()=>{x("notification"),v5({text:e,type:t!=null?t:"info"})},200)})},bw=e=>{P().party.forEach(i=>{Ce(i,e)})},vw=()=>{b0.disableSoundsGlobally()},xw=()=>{b0.enableSoundsGlobally()},Tw=(e,t)=>{const i=Dk(B(),e);if(!i){console.error("Cannot change prop, no prop in room is named: "+e);return}if(!v0(t)||!i.ro){console.error(`Cannot change prop ${e}, no anim in room is named: `+t);return}const n=se(t);n.start(),i.ro.anim=n},Ew=e=>(m7(e)||console.error("Cannot get item store, no store is named: "+e),H0(!1),S0(),yx(e,()=>{H0(!0),x5(),_0($());const i=$();i.inputDisabled=!1}),Ie()),_w=(e,t)=>{var r;if(t){const s=`tut_vr_${e.toLowerCase()}_doors`,l=$(),d=Number((r=l.storage[s])!=null?r:0)?0:1;l.storage[s]=d}const n=B(),o=Ik(n,`TagMarker${e}`);for(let s=0;s<o.length;s++){const l=o[s],c=J1(n,[l.x,l.y]);c&&(c.isWall?X0(l,"TUT_GATE_FLOOR"):X0(l,`TUT_GATE_${e.toUpperCase()}`))}},Y={playDialogue:A0,setConversation:y7,setConversation2:f7,setConversationWithoutBars:w7,setUnskippableConversation:b7,setUnskippable:v7,endConversation:x7,setConversationSpeaker:ci,none:S0,setFromDialog:T7,waitMS:_1,waitMSPreemptible:E7,waitUntil:Ie,waitForUserInput:_7,setStorage:gn,callScript:mn,lookAtCharacter:di,lookAtMarker:A7,lookAtEachOther:S7,setFacing:k7,shakeScreen:R7,setCharacterAt:L7,offsetCharacter:I7,walkToMarker:O7,walkToCharacter:P7,setAtMarker:p2,walkToOffset:M7,setCharacterAtMarker:S4,changeTileAtMarker:X0,removeWallAtMarker:D7,removeWallAtTilePosition:N7,spawnCharacterAtCharacter:pn,spawnCharacterAtMarker:B7,spawnPartyMembersInFormation:G7,spawnPartyMembers:$7,despawnPartyMembers:W7,despawnCharacter:k4,fadeOut:Lt,fadeIn:It,fadeOutColor:F7,fadeInColor:H7,changeRoom:U7,acquireItem:K7,acquireQuestItem:z7,removeItem:j7,modifyTokens:Y7,modifyTickets:V7,jump:q7,applyZTransform:X7,runArcadeCabinetGame:Q7,setAnimationAndWait:Z7,setAnimation:J7,setAnimationState:R4,resetAi:L4,stopAi:I4,startAi:ew,setDoorStateAtMarker:tw,awaitChoice:iw,enterCombat:nw,addPartyMemberToActiveParty:ow,removePartyMemberFromActiveParty:rw,panCameraRelativeToPlayer:O4,panCameraBackToPlayer:P4,panCameraToFitCharacters:aw,panCameraBattle:sw,playSound:Oe,playMusic:M4,stopMusic:lw,spawnParticleAtCharacter:Ot,spawnEmotionParticleAtCharacter:cw,spawnParticleAtMarker:fn,setCharacterText:dw,showUISection:uw,showStore:Ew,setBattlePaused:pw,equipWeaponOrArmor:mw,pauseOverworld:hw,unpauseOverworld:gw,setAiState:fw,startQuest:yw,completeQuestStep:ww,showNotification:N4,modifyPartyHP:bw,disableAnimationSounds:vw,enableAnimationSounds:xw,changePropAnim:Tw,floor1TutToggleColorDoors:_w},Cw=(e,t,i)=>{console.log("SKIP DIALOG",e,t)},Aw=(e,t)=>{},Sw=e=>{},kw=e=>{},Rw=()=>{},Lw=()=>{},Iw=(e,t)=>Y.endConversation(0,t),B4=e=>{},Ow=()=>{B4(p1.None)},Pw=e=>{},Mw=(e,t)=>{},Dw=(e,t)=>{},$4=()=>{const e=$();return e.isWaitingForTime=!0,()=>{e.isWaitingForTime=!1}},Nw=e=>{},Bw=(e,t)=>{t==="false"&&(t=!1),console.log("Set Storage",e,t!=null?t:!0);const i=$();i.storage[e]=t!=null?t:!0},$w=(e,...t)=>(Y.callScript(e,...t),!0),yn=(e,t)=>{Y.lookAtCharacter(e,t)},Ww=(e,t)=>{Y.lookAtMarker(e,t)},Gw=(e,t)=>{yn(e,t),yn(t,e)},Fw=(e,t)=>{Y.setFacing(e,t)},Hw=e=>{},wn=(e,t,i,n)=>{Y.setCharacterAt(e,t,i,n)},Uw=(e,t,i,n)=>{Y.offsetCharacter(e,t,i,n)},Kw=(e,t,i,n,o)=>{Y.setAtMarker(e,t,i,n)},zw=(e,t,i,n,o)=>{const r=B(),s=Q(r,e),l=Q(r,t);if(!s){console.error("Could not find character with name: "+e);return}if(!l){console.error("Could not find target ch with name: "+t);return}if(i!==void 0&&typeof i!="number"){console.error("xOffset is not a number");return}if(n!==void 0&&typeof n!="number"){console.error("yOffset is not a number");return}const[c,d]=y1(l),u=[c+(i!=null?i:0),d+(n!=null?n:0)];wn(e,u[0],u[1],0)},jw=(e,t,i,n)=>{Y.setAtMarker(e,t,i,n)},Yw=(e,t,i,n)=>{const o=B(),r=Q(o,e);if(!r){console.error("Could not find character with name: "+e);return}if(t!==void 0&&typeof t!="number"){console.error("xOffset is not a number");return}if(i!==void 0&&typeof i!="number"){console.error("yOffset is not a number");return}const s=[r.x+t,r.y+i];wn(e,s[0],s[1],0)},Vw=(e,t,i,n)=>{Y.setCharacterAtMarker(e,t,i,n)},qw=(e,t,i,n)=>{Y.changeTileAtMarker(e,t,i,n)},Xw=(e,t,i)=>{Y.removeWallAtMarker(e,t,i)},Qw=(e,t)=>{Y.removeWallAtTilePosition(e,t)},W4=(e,t,i,n)=>{Y.spawnCharacterAtCharacter(e,t,i,n)},Zw=(e,t,i,n)=>{Y.spawnCharacterAtMarker(e,t,i,n)},Jw=()=>{Y.spawnPartyMembers(!0)},eb=()=>{Y.despawnPartyMembers(!0)},tb=()=>{const e=B(),t=P(),i=t.partyStorage.filter(r=>r!==t.leader),n=16,o=[[n,1],[1,-n],[-n,1],[1,n]];i.forEach((r,s)=>{const l=o[s];W4(r.name,t.leader.name,l==null?void 0:l[0],l==null?void 0:l[1])}),t.party.forEach(r=>{const s=Q(e,r.name);s&&U1(s,T.DOWN)})},ib=e=>{Y.despawnCharacter(e)},nb=(e,t)=>{const i=document.getElementById("fade");i&&(i.style.transition="unset",i.style["background-color"]="rgba(0, 0, 0, 255)")},ob=(e,t)=>{const i=document.getElementById("fade");i&&(i.style.transition="unset",i.style["background-color"]="rgba(0, 0, 0, 0)")},rb=(e,t,i,n,o)=>{const r=document.getElementById("fade");r&&(r.style.transition="unset",r.style["background-color"]=`rgba(${e}, ${t}, ${i}, 255)`)},ab=(e,t,i,n,o)=>{const r=document.getElementById("fade");r&&(r.style.transition="unset",r.style["background-color"]=`rgba(${e}, ${t}, ${i}, 0)`)},sb=async(e,t)=>{Y.changeRoom(e,t)},lb=(e,t)=>{const i=P();if(!Ft(e)){console.error(`Cannot acquire item "${e}" no template exists with that name.`);return}Ht(i,e)},cb=(e,t)=>{const i=P();Ht(i,e)},db=(e,t)=>{const i=P();F1(i,e)},ub=e=>{const t=P();to(t,e)},hb=e=>{const t=P();Hi(t,e)},gb=e=>{},mb=(e,t,i)=>{const n=B(),o=Q(n,e);if(!o){console.error("Could not find character with name: "+e);return}const s=[...y1(o)];s[2]+=t,re(o,s)},pb=e=>{Y.runArcadeCabinetGame(e)},fb=(e,t,i)=>{},yb=(e,t)=>{Y.setAnimation(e,t)},wb=(e,t)=>{Y.setAnimationState(e,t)},G4=e=>{Y.resetAi(e)},bb=G4,vb=e=>{Y.stopAi(e)},xb=(e,t,i,n)=>{Y.setDoorStateAtMarker(e,t,i,n)},Tb=(...e)=>(setTimeout(()=>{g5(e)},250),$4()),Eb=e=>Y.enterCombat(e),_b=e=>{Y.addPartyMemberToActiveParty(e)},Cb=e=>{Y.removePartyMemberFromActiveParty(e)},Ab=(e,t,i,n)=>{},Sb=(e,t)=>{},kb=(e,t,...i)=>{},Rb=()=>{},Lb=e=>{},Ib=async e=>Y.playMusic(e),Ob=async()=>Y.stopMusic(1),Pb=(e,t,i)=>{},Mb=(e,t)=>{},Db=(e,t,i)=>{},Nb=e=>{},Bb=(e,...t)=>Y.showUISection(e,...t),$b=()=>{Y.pauseOverworld()},Wb=()=>{Y.unpauseOverworld()},Gb=(e,t)=>Y.equipWeaponOrArmor(e,t),Fb=e=>{Y.setBattlePaused(e)},Hb=(e,t,i)=>{Y.setAiState(e,t,i)},Ub=e=>Y.startQuest(e),Kb=(e,t)=>Y.completeQuestStep(e,t),zb=(e,t)=>Y.showNotification(e,t),jb=e=>Y.modifyPartyHP(e),Yb=()=>Y.disableAnimationSounds(),Vb=()=>Y.enableAnimationSounds(),qb=(...e)=>Y.changePropAnim(e[0],e[1]),Xb=e=>Y.showStore(e),Qb=(e,t)=>{Y.floor1TutToggleColorDoors(e,t)},Zb={playDialogue:Cw,setConversation:Sw,setConversation2:Aw,setConversationWithoutBars:kw,setUnskippableConversation:Rw,setUnskippable:Lw,endConversation:Iw,setConversationSpeaker:B4,none:Ow,setFromDialog:Pw,waitMS:Mw,waitMSPreemptible:Dw,waitUntil:$4,waitForUserInput:Nw,setStorage:Bw,callScript:$w,lookAtCharacter:yn,lookAtMarker:Ww,lookAtEachOther:Gw,setFacing:Fw,shakeScreen:Hw,setCharacterAt:wn,offsetCharacter:Uw,walkToMarker:Kw,walkToCharacter:zw,setAtMarker:jw,walkToOffset:Yw,setCharacterAtMarker:Vw,changeTileAtMarker:qw,removeWallAtMarker:Xw,removeWallAtTilePosition:Qw,spawnCharacterAtCharacter:W4,spawnCharacterAtMarker:Zw,spawnPartyMembersInFormation:tb,spawnPartyMembers:Jw,despawnPartyMembers:eb,despawnCharacter:ib,fadeOut:nb,fadeIn:ob,fadeOutColor:rb,fadeInColor:ab,changeRoom:sb,acquireItem:lb,acquireQuestItem:cb,removeItem:db,modifyTokens:ub,modifyTickets:hb,jump:gb,applyZTransform:mb,runArcadeCabinetGame:pb,setAnimationAndWait:fb,setAnimation:yb,setAnimationState:wb,resetAi:G4,stopAi:vb,startAi:bb,setDoorStateAtMarker:xb,awaitChoice:Tb,enterCombat:Eb,addPartyMemberToActiveParty:_b,removePartyMemberFromActiveParty:Cb,panCameraRelativeToPlayer:Ab,panCameraBackToPlayer:Sb,panCameraToFitCharacters:kb,panCameraBattle:Rb,playSound:Lb,playMusic:Ib,stopMusic:Ob,spawnParticleAtCharacter:Pb,spawnEmotionParticleAtCharacter:Mb,spawnParticleAtMarker:Db,setCharacterText:Nb,showUISection:Bb,setBattlePaused:Fb,equipWeaponOrArmor:Gb,pauseOverworld:$b,unpauseOverworld:Wb,setAiState:Hb,startQuest:Ub,showStore:Xb,completeQuestStep:Kb,showNotification:zb,modifyPartyHP:jb,disableAnimationSounds:Yb,enableAnimationSounds:Vb,changePropAnim:qb,floor1TutToggleColorDoors:Qb},Jb=e=>{const t=de(e);return t?si($(),t):(console.error(`Error in conditional.  Cannot check questActive.  No quest with name: ${e}`),!1)},ev=e=>{const t=de(e);return t?A4($(),t):(console.error(`Error in conditional.  Cannot check questNotStarted.  No quest with name: ${e}`),!1)},tv=e=>{const t=de(e);return t?xe($(),t):(console.error(`Error in conditional.  Cannot check questCompleted.  No quest with name: ${e}`),!1)},iv=e=>{const t=de(e);return t?!xe($(),t):(console.error(`Error in conditional.  Cannot check questNotCompleted.  No quest with name: ${e}`),!1)},nv=(e,t)=>{var r;const i=parseInt(t),n=de(e);if(!n)return console.error(`Error in conditional.  Cannot check questStepGT.  No quest with name: ${e}`),!1;const o=li($(),e);return xe($(),n)?!1:((r=o==null?void 0:o.i)!=null?r:1/0)>i},ov=(e,t)=>{var r;const i=parseInt(t),n=de(e);if(!n)return console.error(`Error in conditional.  Cannot check questStepLT.  No quest with name: ${e}`),!1;const o=li($(),e);return xe($(),n)?!1:((r=o==null?void 0:o.i)!=null?r:1/0)<i},rv=(e,t)=>{var r;const i=parseInt(t),n=de(e);if(!n)return console.error(`Error in conditional.  Cannot check questStepEQ.  No quest with name: ${e}`),!1;const o=li($(),e);return xe($(),n)?!1:((r=o==null?void 0:o.i)!=null?r:1/0)===i},av=e=>{const t=P(),i=e.toLowerCase();return Boolean(t.party.find(n=>n.name.toLowerCase()===i))},sv=e=>P().tokens>=Number(e),lv=e=>P().tickets>=Number(e),cv={questActive:Jb,questNotStarted:ev,questCompleted:tv,questNotCompleted:iv,questStepGT:nv,questStepLT:ov,questStepEQ:rv,inParty:av,hasEnoughTokens:sv,hasEnoughTickets:lv},bn=10,dv=/\[ARG\d\]/,F4=e=>{const t=$();if(typeof e=="string"){let i;for(;i=e.match(dv);){const o=e.slice(i.index+1,i.index+5);e=e.slice(0,i.index)+t.storage[o]+e.slice(i.index+6)}let n=e.replace(/--/g,"+");return n==="true"?n=!0:n==="false"&&(n=!1),n}else return e},ui=e=>{if(e.currentScript&&!U0(e)){let t=null;for(;(t=e.currentScript.getNextCommand())!==null;){if(t.block.conditionalResult===void 0){const i=e.onceKeysToCommit.slice();t.block.conditionalResult=f2(e,t.conditional,void 0,void 0,t.i),t.block.conditionalResult||(e.onceKeysToCommit=i)}if(t.block.conditionalResult){const n=H4(e)[t.type];if(!n)throw new Error(`Script runtime error.  No command exists with name '${t.type}'`);const o=t==null?void 0:t.args.map(F4);if(console.log("next cmd",t.type,t.args,o),n(...o))break}}if(t===null)if(e.onScriptCompleted&&e.onScriptCompleted(),e.scriptStack.length){const i=e.scriptStack.shift();if(i){const{script:n,onScriptCompleted:o,args:r}=i;e.currentScript=n,e.onScriptCompleted=o;for(let s=0;s<bn;s++){const l=r[s],c="ARG"+s;l===void 0?delete e.storage[c]:gn(c,l)}setTimeout(()=>ui(e))}}else e.postSceneCallbacks.forEach(i=>{i()}),e.skip=!1,e.postSceneCallbacks=[],e.currentScript=null,e.currentTrigger=null,e.currentTriggerType=null,e.onceKeysToCommit.forEach(i=>{e.storageOnceKeys[i]=!0}),e.onceKeysToCommit=[]}},f2=(e,t,i,n,o)=>{var r,s,l,c,d,u;if(t===!0)return!0;if(typeof t=="object"){const{type:g,args:m}=t,f=Z9(m).map(F4).map(p=>{if(typeof p=="object")return p;const y=p;if(y==="scene"&&e.currentTrigger)return e.storage[e.currentTrigger.name];if(typeof y=="string"&&y.indexOf(".")>-1){const[w,v]=p.split(".");return w==="storage"?e.storage[v]:e.storage[w]?e.storage[w][v]:(console.error("No storage in scene called:",w),!1)}else return p});if(g==="is")return V0(f[0])?!!Q(B(),f[0]):typeof f[0]=="boolean"?f[0]:!!e.storage[f[0]];if(g==="isnot")return typeof f[0]=="object"?!f2(e,f[0],i,n,o):typeof f[0]=="boolean"?!f[0]:V0(f[0])?!Q(B(),f[0]):!e.storage[f[0]];if(g==="gt")return typeof f[0]=="string"&&(f[0]=e.storage[f[0]]),typeof f[1]=="string"&&(f[1]=e.storage[f[1]]),f[0]>f[1];if(g==="lt")return typeof f[0]=="string"&&(f[0]=e.storage[f[0]]),typeof f[1]=="string"&&(f[1]=e.storage[f[1]]),f[0]<f[1];if(g==="eq"){const p=[f[0]===f[1],e.storage[f[0]]===f[1],e.storage[f[1]]===f[0]];return typeof f[1]!="number"&&p.push(e.storage[f[0]]===e.storage[f[1]]),p.reduce((y,w)=>w||y,!1)}else if(g==="any"){for(let p=0;p<f.length;p++){const y=f[p];if(f2(e,y,i,n,o))return!0}return!1}else if(g==="all"){for(let p=0;p<f.length;p++){const y=f[p];if(!f2(e,y,i,n,o))return!1}return!0}else{if(g==="as")return console.error('conditional "as" is not defined for this scene.'),!1;if(g==="once"){let p=(s=f[0])!=null?s:((r=e.currentScript||e.currentTrigger)==null?void 0:r.name)+"-once";return p[0]||(e.currentScript?p=e.currentScript.name+o+"-once":e.currentTrigger&&(p=e.currentTrigger.name+o+"-once")),n&&(p=(c=f[0])!=null?c:((l=e.currentScript||e.currentTrigger)==null?void 0:l.name)+"-"+n+o+"-once"),e.storageOnceKeys[p]?!1:(i||e.onceKeysToCommit.push(p),!0)}else if(g==="with"){const p=(d=f[0])!=null?d:"",y=P();return p&&TS(y,p)}else if(g==="func"){const p=(u=f[0])!=null?u:"",y=f.slice(1),w=cv[p];return w?w(...y):(console.error("Error in conditional.  func condition is not registered: "+p,f),!1)}}return!1}},uv=(e,t,i,n)=>{const o=Jm(t);if(!e.currentScript&&o){i!=="step"&&i!=="step-first"&&console.log("INVOKE TRIGGER",t,i,o);for(let r=0;r<o.scriptCalls.length;r++){const s=o.scriptCalls[r];if(s.type===i){e.currentTrigger=o,e.currentTriggerType=i;const l=e.onceKeysToCommit.slice();if(f2(e,s.condition,n,i,r))return async()=>{await y2(e,s.scriptName),e.storage[o.name]=!0,e.currentTrigger=null,e.currentTriggerType=null};e.onceKeysToCommit=l,e.currentTrigger=null,e.currentTriggerType=null}}}return null},y2=window.callScript=async(e,t,...i)=>new Promise(n=>{const o=Ty(t);if(o.reset(),e.currentScript){const r=[];for(let s=0;s<bn;s++){const l=e.storage["ARG"+s];l!==void 0&&r.push(l)}e.scriptStack.unshift({script:e.currentScript,onScriptCompleted:e.onScriptCompleted,args:r})}e.currentScript=o,e.onScriptCompleted=n;for(let r=0;r<bn;r++){const s=i[r],l="ARG"+r;s===void 0?delete e.storage[l]:gn(l,s)}ui(e)}),hi=(e,t)=>new Promise(i=>{t=`@tmp
`+t;const o=xy(t,e).tmp;o.reset(),e.currentScript&&e.scriptStack.push({script:e.currentScript,onScriptCompleted:function(){},args:[]}),e.currentScript=o,e.onScriptCompleted=i,ui(e)}),hv=e=>e.currentScript||U0(e),H4=e=>e.skip?Zb:Y,gv=e=>{const t=D().appState.sections.includes(O.Cutscene);!e.skip&&t&&(clearTimeout(e.waitTimeoutId),e.skip=!0,e.waitTimeoutCb&&e.waitTimeoutCb())};var Be;(function(e){e.HIDE_CONTROLS="HIDE_CONTROLS",e.SHOW_CONTROLS="SHOW_CONTROLS",e.MUTE_AUDIO="MUTE_AUDIO",e.UNMUTE_AUDIO="UNMUTE_AUDIO",e.BUTTON_DOWN="BUTTON_DOWN",e.BUTTON_UP="BUTTON_UP",e.SCALE_ORIGINAL="SCALE_ORIGINAL",e.SCALE_WINDOW="SCALE_WINDOW",e.BEGIN_GAME="BEGIN_GAME"})(Be||(Be={}));var Q0;(function(e){e.GAME_READY="GAME_READY",e.GAME_STARTED="GAME_STARTED",e.GAME_CONCLUDED="GAME_CONCLUDED",e.GAME_CANCELLED="GAME_CANCELLED",e.RUN_RPGSCRIPT="RUN_RPGSCRIPT"})(Q0||(Q0={}));const mv="arcade-iframe",pv=window.location.origin,fv=e=>{try{return JSON.parse(e)}catch{return null}};window.addEventListener("message",async e=>{const t=fv(e.data);if(!!t)if(t.action===Q0.GAME_READY)console.log("game ready"),lx(!0);else if(t.action===Q0.GAME_STARTED)Tn(!0),console.log("game started");else if(t.action===Q0.GAME_CONCLUDED){console.log("game concluded",t.payload),window.focus();const i=D().appState.arcadeGame.path;if(i){const n=V4(i);(n==null?void 0:n.onGameCompleted)&&await(n==null?void 0:n.onGameCompleted(t.payload))}Tn(!1)}else t.action===Q0.GAME_CANCELLED?(console.log("game cancelled"),Tn(!1)):t.action===Q0.RUN_RPGSCRIPT?(console.log("run rpgscript from iframe",t.payload),hi($(),t.payload.scriptSrc)):console.error("Got message event listener with invalid action",t.action)});const d0=async()=>{const e=document.getElementById(mv);if(e){const t=e;if(!t.contentWindow)for(let i=0;i<100&&(await e1(33),!t.contentWindow);i++);return t.contentWindow}return console.error("Cannot get iframe contentWindow."),null},u0=async(e,t)=>{e.postMessage(JSON.stringify(t),pv)},vn=async()=>{const e=await d0();e&&u0(e,{action:Be.HIDE_CONTROLS})},U4=async()=>{const e=await d0();e&&u0(e,{action:Be.SHOW_CONTROLS})},yv=async()=>{const e=await d0();e&&u0(e,{action:Be.MUTE_AUDIO})},wv=async()=>{const e=await d0();e&&u0(e,{action:Be.UNMUTE_AUDIO})},K4=async e=>{const t=await d0();t&&u0(t,{action:Be.BUTTON_DOWN,payload:e})},z4=async e=>{const t=await d0();t&&u0(t,{action:Be.BUTTON_UP,payload:e})},bv=async()=>{const e=await d0();e&&u0(e,{action:Be.SCALE_ORIGINAL})},vv=async()=>{const e=await d0();e&&u0(e,{action:Be.SCALE_WINDOW})},xv=async()=>{const e=await d0();e&&u0(e,{action:Be.BEGIN_GAME})},gi=e=>{var t;return a("svg",{style:`transform: rotate(${(t=e.angle)!=null?t:75}deg); filter: drop-shadow(1px 1px 0px #222) drop-shadow(-1px -1px 0px #222);`,stroke:e.color,width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M21.1568 4.15379C21.5068 3.32658 20.6734 2.49321 19.8462 2.84319L3.46966 9.77172C2.60871 10.136 2.67381 11.3772 3.56814 11.6494L8.7707 13.2327C9.72737 13.5239 10.4761 14.2726 10.7672 15.2293L12.3506 20.4318C12.6228 21.3262 13.864 21.3913 14.2283 20.5303L21.1568 4.15379ZM19.0669 1.00125C21.5485 -0.048667 24.0486 2.45145 22.9987 4.93307L16.0702 21.3096C14.9775 23.8924 11.2538 23.6971 10.4373 21.0142L8.85389 15.8116C8.75683 15.4927 8.50727 15.2432 8.18837 15.1461L2.98581 13.5627C0.302836 12.7462 0.107539 9.02252 2.69038 7.92979L19.0669 1.00125Z",fill:e.color}))};var f1;(function(e){e[e.NEUTRAL=0]="NEUTRAL",e[e.PRIMARY=1]="PRIMARY",e[e.SECONDARY=2]="SECONDARY",e[e.ENEMY=3]="ENEMY",e[e.CANCEL=4]="CANCEL",e[e.TOKEN=5]="TOKEN"})(f1||(f1={}));const j4={[0]:{top:h.GREY,bottom:h.DARKGREY_ALT},[1]:{top:h.BLUE,bottom:h.DARKBLUE},[2]:{top:h.GREEN,bottom:h.DARKGREEN},[3]:{top:h.RED,bottom:h.DARKRED},[4]:{top:h.RED,bottom:h.DARKRED},[5]:{top:h.ORANGE,bottom:h.DARKYELLOW}},Tv=V1({"0%":{filter:"brightness(100%)"},"50%":{filter:"brightness(80%)"},"100%":{filter:"brightness(100%)"}}),Ev=V1({"0%":{transform:"translateX(-10px)"},"20%":{transform:"translateX(-1px)"},"100%":{transform:"translateX(-10px)"}}),_v=b("div",()=>({color:h.WHITE,position:"absolute",top:"-8px",left:"-32px",animation:`${Ev} 750ms linear infinite`})),Cv=()=>a(_v,null,a(gi,{color:h.BLUE})),Av=b("div",(e={type:0})=>S({fontSize:"16px",textAlign:"center",padding:"4px 10px",cursor:e.disabled?"unset":"pointer",background:e.disabled?h.GREY:j4[e.type].bottom,textDecoration:e.selected?"underline":"unset",transition:"border-radius 250sm",border:`2px solid ${e.selected?h.WHITE:e.disabled?h.GREY:j4[e.type].top}`,pointerEvents:e.disabled?"none":"unset",borderBottom:`2px solid ${h.GREY}`,filter:e.disabled?"brightness(80%)":"unset",minWidth:"80px",animation:e.selected?`${Tv} 1500ms linear infinite`:"unset","&:hover":{filter:e.disabled?"unset":"brightness(120%)"},"&:active":{filter:e.disabled?"unset":"brightness(80%)",transform:"translateY(2px)"}},e.active?{filter:e.disabled?"unset":"brightness(80%)",transform:"translateY(2px)"}:{})),k0=b("div",()=>({display:"flex",justifyContent:"center",alignItems:"center","& > svg":{marginRight:"8px",width:"16px",height:"16px"}})),k1=e=>{const[t,i]=G(!1);return a("div",{style:{position:"relative",pointerEvents:e.disabled?"none":"unset"}},e.showCursor?a(Cv,null):null,a(Av,J(S({},e),{active:t||e.active,onClick:n=>{(e==null?void 0:e.onClick)&&((e==null?void 0:e.delayClick)?(i(!0),setTimeout(()=>{i(!1),(e==null?void 0:e.onClick)&&e.onClick(n)},100)):e.onClick(n))}})))},Sv=b("div",e=>({border:e.borderImageUrl?"20px solid black":"none",transition:"width 0.25s, height 0.25s, marginTop 0.25s",borderImage:`url(${e.borderImageUrl}) 20 round`,width:e.expanded?"calc(100% - 40px)":e.width,height:e.expanded?"calc(100% - 40px - 4rem)":e.height,marginTop:e.expanded?"4rem":"0",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"all",[Zr]:{width:e.expanded?"calc(100% - 40px)":e.width,height:e.expanded?"calc(100% - 40px - 7.75rem)":e.height,marginTop:e.expanded?"7.75rem":"0"}})),Y4=e=>{var i;const t=Ye(null);return c1(()=>{const n=e.src;setTimeout(()=>{t.current&&(t.current.src=n)},500)},[]),a(Sv,{expanded:e.expanded,borderImageUrl:e.borderImageUrl,width:e.width,height:e.height},e.loading?a("div",{id:"iframe-loading",style:{display:"flex",flexDirection:"column",alignItems:"center",background:"rgba(0, 0, 0, 0.5)",padding:"8px",borderRadius:"8px"}},a("span",{style:{marginBottom:"8px"}},"Loading game..."),a("img",{src:`${fe()}/img/flower.svg`,alt:"loading",id:"page-loading-icon"})):null,a("iframe",{id:e.id,ref:t,allowTransparency:!0,style:S({border:"0px",width:e.width,height:e.height,display:e.loading?"none":"block"},(i=e.style)!=null?i:{})}))},Z0=(e,t)=>{mi[e]=t};var qe;(function(e){e.PRESIDENT="iframes/president/dist/president.html",e.TIC_TAC_TOE="iframes/tic-tac-toe/dist/tic-tac-toe.html",e.INVADERZ="iframes/invaderz/dist/index.html",e.ELASTICITY="iframes/elasticity/dist/elasticity.html",e.VORTEX="iframes/vortex/dist/index.html",e.ZAG="iframes/zag/dist/index.html",e.BOWLING="iframes/regem-ludos-bowling/dist/index.html"})(qe||(qe={}));const mi={default:{title:"No Game Specified",tokensRequired:99,controls:()=>a("div",null)}},V4=e=>mi[e],q4=async e=>{const t=$();j1(O.Debug),vi(),F0(),xi(!0),await hi(t,e),G0(),xi(!1),t1(O.Debug,!0)},q1=b("div",e=>{var t,i;return{tapHighlightColor:"rgba(0, 0, 0, 0)",webkitTapHighlightColor:"rgba(0, 0, 0, 0)",padding:"16px",fontSize:"16px",minWidth:e.width?"unset":"48px",width:e.width,height:e.height,margin:"16px 4px",background:(t=e.backgroundColor)!=null?t:h.DARKBLUE,color:(i=e.color)!=null?i:h.WHITE,cursor:"pointer",borderRadius:"8px",border:`2px solid ${h.GREY}`,textAlign:"center",fontFamily:"monospace",userSelect:"none",display:e.type==="text"?"flex":"",justifyContent:"center",touchAction:"manipulate",alignItems:"center","&:hover":{filter:"brightness(120%)"},"&:active":{filter:"brightness(80%)"}}}),kv=["Admantell","BauerXb","Bozerba","Goldos","Latinature","Moress","Ronziang","Steinetit","Tutorksit","Vocatee","Allureek","Berglimis","ByteDot","Jocktrugi","LifeIntincr","PoshyHerald","SaberMagic","Teamback","Variowain","Wannatt","Annonbok","Bondurain","FrogNewscast","Larvinglo","Lobellign","QuoteAnguris","SmoothSexy","Taldene","Vintagentca","WeirdChampion"],pi=(e,t=9)=>{const i=[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:e}];for(let n=1;n<=t;n++)i.push({playerLabel:Ae(kv),score:Math.floor(e*(t-n/2)/t)});return i};let X4={};const Q4=()=>X4,Rv=()=>{X4={elasticity:{gameName:"elasticity",gameLabel:"Elasticity",payout:{max:{threshold:1e4,tickets:10},med:{threshold:7500,tickets:5},min:{threshold:0,tickets:1}},leaderboard:pi(13665)},vortex:{gameName:"vortex",gameLabel:"Vortex",payout:{max:{threshold:1e4,tickets:10},med:{threshold:7500,tickets:5},min:{threshold:0,tickets:1}},leaderboard:pi(152598)},zag:{gameName:"zag",gameLabel:"Zag",payout:{max:{threshold:1e4,tickets:10},med:{threshold:7500,tickets:5},min:{threshold:0,tickets:1}},leaderboard:pi(42809)},invaderz:{gameName:"invaderz",gameLabel:"Invaderz",payout:{max:{threshold:1e4,tickets:10},med:{threshold:7500,tickets:5},min:{threshold:0,tickets:1}},leaderboard:pi(3015)}}},Z4=()=>Q4(),Lv=(e,t)=>{const i=Q4()[e];if(!i){console.error('Cannot set leaderboard, game: "'+e+'" does not exist.');return}i.leaderboard=[...t]},Iv="regem_ludos",Ov="settings",Pv="save";var J4;(function(e){e[e.SETTINGS=0]="SETTINGS",e[e.SAVE=1]="SAVE"})(J4||(J4={}));const e5=()=>({volumeLevels:{[l1.NORMAL]:je(l1.NORMAL),[l1.MUSIC]:je(l1.MUSIC),arcadeGame:lr()},arcadeGameMuted:ur(),cutsceneSpeed:w0()}),t5=e=>{I9(l1.NORMAL,e.volumeLevels[l1.NORMAL]),I9(l1.MUSIC,e.volumeLevels[l1.MUSIC]),hf(e.volumeLevels.arcadeGame),dr(e.arcadeGameMuted),Lr(e.cutsceneSpeed)},fi=(e,t)=>`${Iv}_${e===0?Ov:Pv+(t||"")}`,i5=e=>{try{localStorage.setItem(fi(0),JSON.stringify(e))}catch(t){throw console.error(t),new Error("Unable to saveSettingsToLS.")}},n5=()=>{var t,i,n,o,r,s,l,c;const e=localStorage.getItem(fi(0));if(!e)throw new Error("Unable to loadSettingsFromLS, no settings were found.");try{const d=JSON.parse(e);return{volumeLevels:{[l1.NORMAL]:(i=(t=d==null?void 0:d.volumeLevels)==null?void 0:t[l1.NORMAL])!=null?i:1,[l1.MUSIC]:(o=(n=d==null?void 0:d.volumeLevels)==null?void 0:n[l1.MUSIC])!=null?o:1,arcadeGame:(s=(r=d==null?void 0:d.volumeLevels)==null?void 0:r.arcadeGame)!=null?s:100},arcadeGameMuted:(l=d==null?void 0:d.arcadeGameMuted)!=null?l:!1,cutsceneSpeed:(c=d==null?void 0:d.cutsceneSpeed)!=null?c:1}}catch(d){throw console.error(d),new Error("Unable to loadSettingsFromLS, malformed JSON in localStorage item.")}},R0=()=>{const e=localStorage.getItem(fi(1));if(!e)return[];try{return JSON.parse(e).map(n=>{var o,r,s,l,c,d,u,g,m,f,p,y,w,v,A,C;return{id:n.id,debug:(o=n.debug)!=null?o:!0,timestampSaved:new Date(n.timestampSaved),timestampLoaded:new Date(n.timestampLoaded),durationPlayed:n.durationPlayed,overworld:{name:(r=n.overworld.name)!=null?r:""},questsUpdated:(s=n.questsUpdated)!=null?s:[],scene:{storage:(l=n.scene.storage)!=null?l:{},storageOnce:(c=n.scene.storageOnce)!=null?c:{},storageOnceKeys:(d=n.scene.storageOnceKeys)!=null?d:{},storageEncounters:(u=n.scene.storageEncounters)!=null?u:{},storageTreasure:(g=n.scene.storageTreasure)!=null?g:{}},player:{tokens:(m=n.player.tokens)!=null?m:0,tickets:(f=n.player.tickets)!=null?f:0,backpack:(p=n.player.backpack)!=null?p:[],leader:(y=n.player.leader)!=null?y:0,party:(w=n.player.party)!=null?w:[],battlePositions:(v=n.player.battlePositions)!=null?v:[],partyStorage:(A=n.player.partyStorage)!=null?A:[]},leaderboards:n==null?void 0:n.leaderboards,stores:Object.assign({},(C=n==null?void 0:n.stores)!=null?C:{})}})}catch(t){return console.error("Malformed Save List in LS",t),[]}},o5=e=>{try{localStorage.setItem(fi(1),JSON.stringify(e))}catch(t){throw console.error(t),new Error("Unable to saveSaveListToLS.")}},Mv=()=>{const e=R0();let t=e[0];for(let i=1;i<e.length;i++){const n=e[i];n.timestampSaved>(t==null?void 0:t.timestampSaved)&&(t=n)}return t},xn=e=>{var l,c,d,u,g,m,f;const t=$(),i=P(),n=Z4(),o={};for(const p in n)o[p]=n[p].leaderboard;const r={id:e.saveId,debug:!0,timestampSaved:new Date,timestampLoaded:e.lastTimestampLoaded,durationPlayed:e.durationPlayed+ +new Date-+e.lastTimestampLoaded,overworld:{name:g1().name},questsUpdated:_4(),scene:{storage:(l=t.storage)!=null?l:{},storageOnce:(c=t.storageOnce)!=null?c:{},storageOnceKeys:(d=t.storageOnceKeys)!=null?d:{},storageEncounters:(u=t.storageEncounters)!=null?u:{},storageTreasure:(g=t.storageTreasure)!=null?g:{}},player:{tokens:(m=i.tokens)!=null?m:0,tickets:(f=i.tickets)!=null?f:0,backpack:i.backpack.map(p=>{var y;return(y=p.name)!=null?y:""}),leader:i.partyStorage.indexOf(i.leader),partyStorage:i.partyStorage.map(p=>Bv(p,i.backpack)),party:i.party.map(p=>i.partyStorage.indexOf(p)),battlePositions:i.battlePositions.map(p=>i.partyStorage.indexOf(p))},leaderboards:o,stores:Pr()},s=+new Date-+e.lastTimestampLoaded;return r.durationPlayed+=s,r},Dv=e=>{const t=R0();e<0||e>=t.length||(t.splice(e,1),o5(t))},r5=(e=0)=>{const t=R0();e<0&&(e=0);let i=null;if(e>=t.length)i=xn({saveId:xo(),durationPlayed:N9(),lastTimestampLoaded:new Date(M9())}),console.log("CREATE SAVE",i),t.push(i);else{const n=t[e];console.log("CREATE SAVE2",n),i=xn({saveId:n.id,durationPlayed:N9(),lastTimestampLoaded:new Date(M9())}),t[e]=i}return o5(t),i};window.save=()=>xn({saveId:xo(),durationPlayed:N9(),lastTimestampLoaded:new Date(M9())});const Nv=e=>{var s,l;console.log("LOAD GAME",e);const t=$(),i=P();if(t.storage=S({},e.scene.storage),t.storageOnce=S({},e.scene.storageOnce),t.storageOnceKeys=S({},e.scene.storageOnceKeys),t.storageEncounters=S({},e.scene.storageEncounters),t.storageTreasure=S({},e.scene.storageTreasure),C4(e.questsUpdated),Cf((s=e.stores)!=null?s:{}),e.leaderboards)for(const c in e.leaderboards)Lv(c,e.leaderboards[c]);i.tokens=e.player.tokens,i.tickets=e.player.tickets,i.backpack=e.player.backpack.map(c=>{const d=Ft(c);return d||(console.error("Failed to load item from save: ",c,"item is not in db."),null)}).filter(c=>!!c),i.partyStorage=e.player.partyStorage.map(c=>$v(c,i.backpack)),i.party=e.player.party.map(c=>i.partyStorage[c]),i.battlePositions=e.player.battlePositions.map(c=>i.partyStorage[c]),i.leader=i.partyStorage[e.player.leader];const n=y1(i.leader),o=e.overworld.name,r=Wm(o);if(r)g2(i,r);else throw new Error(`Could not load save, overworld template not found in db: ${o}`);i.leader.x=n[0],i.leader.y=n[1],i.leader.z=n[2],D9(+new Date),wf(e.durationPlayed),Tf((l=e.debug)!=null?l:!0)},w2=async e=>{const t=V0("Ada"),i=$8(t);j2(i),Nv(e),an(),nn(),y0(null),document.getElementById("controls").style.display="none",t1(O.Debug,!0),D1()},Bv=(e,t)=>({stats:{POW:e.stats.POW,ACC:e.stats.ACC,FOR:e.stats.FOR,CON:e.stats.CON,RES:e.stats.RES,SPD:e.stats.SPD,EVA:e.stats.EVA,STAGGER:e.stats.STAGGER,HP:e.stats.HP,RESV:e.stats.RESV},hp:e.hp,resv:e.resv,x:e.x,y:e.y,z:e.z,name:e.name,facing:e.facing,experience:e.experience,experienceCurrency:e.experienceCurrency,equipment:{weapon:t.indexOf(e.equipment.weapon),accessory1:t.indexOf(e.equipment.accessory1),accessory2:t.indexOf(e.equipment.accessory2),armor:t.indexOf(e.equipment.armor)}}),$v=(e,t)=>{const i=V0(e.name);if(!i)throw new Error('Cannot transform saved character to character: "'+e.name+'" does not exist in db.');const n=o0(i);if(n.stats=e.stats,n.hp=e.hp,n.resv=e.resv,n.x=e.x,n.y=e.y,n.z=e.z,n.experience=e.experience,n.experienceCurrency=e.experienceCurrency,e.equipment.weapon>=0){const o=e.equipment.weapon,r=t[o];r?Ue(n,r):console.error(`Failed to equip weapon for ${n.name} weaponInd=${o}, index out of bounds`)}if(e.equipment.accessory1>=0){const o=e.equipment.accessory1,r=t[o];r?Ue(n,r,0):console.error(`Failed to equip accessory1 for ${n.name} accessory1=${o}, index out of bounds`)}if(e.equipment.accessory2>=0){const o=e.equipment.accessory2,r=t[o];r?Ue(n,r,1):console.error(`Failed to equip accessory2 for ${n.name} accessory2=${o}, index out of bounds`)}if(e.equipment.armor>=0){const o=e.equipment.armor,r=t[o];r?Ue(n,r):console.error(`Failed to equip armor for ${n.name} armor=${o}, index out of bounds`)}return U1(n,e.facing),n},a5=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M275.5 96l-96 96h-96v128h96l96 96V96zm51.46 27.668l-4.66 17.387c52.066 13.95 88.2 61.04 88.2 114.945 0 53.904-36.134 100.994-88.2 114.945l4.66 17.387C386.81 372.295 428.5 317.962 428.5 256c0-61.963-41.69-116.295-101.54-132.332zm-12.425 46.365l-4.658 17.387C340.96 195.748 362.5 223.822 362.5 256s-21.54 60.252-52.623 68.58l4.658 17.387C353.402 331.552 380.5 296.237 380.5 256c0-40.238-27.098-75.552-65.965-85.967zm-12.424 46.363l-4.657 17.387C307.55 236.49 314.5 245.547 314.5 256s-6.95 19.51-17.047 22.217l4.658 17.387c17.884-4.792 30.39-21.09 30.39-39.604 0-18.513-12.506-34.812-30.39-39.604z",fill:e.color,"fill-opacity":"1"}))),Wv=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M275.5 96l-96 96h-96v128h96l96 96V96zm50.863 89.637l-12.726 12.726L371.273 256l-57.636 57.637 12.726 12.726L384 268.727l57.637 57.636 12.726-12.726L396.727 256l57.636-57.637-12.726-12.726L384 243.273l-57.637-57.636z",fill:e.color,"fill-opacity":"1"}))),s5=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M64 64v128l48-48 48 48 32-32-48-48 48-48H64zm256 0l48 48-48 48 32 32 48-48 48 48V64H320zM64 320v128h128l-48-48 48-48-32-32-48 48-48-48zm288 0l-32 32 48 48-48 48h128V320l-48 48-48-48z",fill:e.color,"fill-opacity":"1"}))),l5=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M96 64L64 96l48 48-48 48h128V64l-48 48-48-48zm224 0v128h128l-48-48 48-48-32-32-48 48-48-48zM64 320l48 48-48 48 32 32 48-48 48 48V320H64zm256 0v128l48-48 48 48 32-32-48-48 48-48H320z",fill:e.color,"fill-opacity":"1"}))),Gv=b("div",()=>({background:"rgba(0, 0, 0, 0.5)",position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",pointerEvents:"all"})),Fv=b("div",()=>({margin:"4px",padding:"4px",minWidth:"50%",maxWidth:"90%",border:`2px solid ${h.BLUE}`,background:h.BGGREY,color:h.WHITE})),Hv=b("div",()=>({margin:"8px",padding:"8px",fontSize:"32px",textTransform:"uppercase",borderBottom:`2px solid ${h.BLACK}`})),Uv=b("div",()=>({margin:"8px",padding:"8px",fontSize:"16px"})),Kv=b("div",()=>({display:"flex",justifyContent:"flex-end",padding:"8px",margin:"8px"})),c5=e=>a(Gv,null,a(Fv,null,a(Hv,null,e.title),a(Uv,null,e.children),a(Kv,null,a(k1,{type:f1.PRIMARY,style:{marginRight:"1rem"},onClick:()=>{e.setOpen(!1)}},"Close")))),yi=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M256 16C123.45 16 16 123.45 16 256s107.45 240 240 240 240-107.45 240-240S388.55 16 256 16zm0 60c99.41 0 180 80.59 180 180s-80.59 180-180 180S76 355.41 76 256 156.59 76 256 76zm0 30c-66.274 0-120 40.294-120 90 0 30 60 30 60 0 0-16.57 26.862-30 60-30 33.138 0 60 13.43 60 30s-30 15-60 30c-1.875.938-3.478 2.126-4.688 3.28C226.53 244.986 226 271.926 226 286v15c0 16.62 13.38 30 30 30 16.62 0 30-13.38 30-30v-15c0-45 90-40.294 90-90s-53.726-90-120-90zm0 240a30 30 0 0 0-30 30 30 30 0 0 0 30 30 30 30 0 0 0 30-30 30 30 0 0 0-30-30z",fill:e.color,"fill-opacity":"1"})));Z0(qe.TIC_TAC_TOE,{title:"Tic Tac Toe",tokensRequired:1,controls:e=>a(n1,null,a(q1,{width:"48px",height:"48px",type:"text",onClick:()=>{e.setHelpDialogOpen(!0)}},a(yi,{color:h.YELLOW}))),help:e=>a(c5,{setOpen:e.setHelpDialogOpen,title:"Tic Tac Toe Help"},a("p",null,"On this machine you can play Tic Tac Toe."),a("p",null,"Insert a Token to start: 1 token = 3 games"),a("p",null,"You are the 'X' player for each game."),a("p",null,"Place an 'X' by tapping/clicking the grid area where you wish to play."),a("p",null,"Place three 'X' in a row to win the game. You lose if there are three 'O' in a row."),a("p",null,"Tickets are awarded based off of the number of times you beat the AI.")),onGameCompleted:async e=>{const t=e,i=$(),n=de("TicTacToe");if(!n){console.error("No TicTacToe quest exists.");return}if(console.log("GAME HAS BEEN COMPLETED",e),t===-1&&!xe(i,n)){const o=$();vi(),F0(),g1().triggersEnabled=!1,await y2(o,"floor1-atrium-TicTacToeGirl-complete"),g1().triggersEnabled=!0,G0()}else t>-1&&(F0(),g1().triggersEnabled=!1,D1(),await hi(i,`
        +setConversation('Ada');
        +modifyTickets(${t});
        +endConversation();`),ve(),g1().triggersEnabled=!0,G0(),j1(O.Cutscene))}});Z0(qe.PRESIDENT,{title:"President",tokensRequired:1,controls:e=>a(n1,null,a(q1,{width:"48px",height:"48px",type:"text",onClick:()=>{e.setHelpDialogOpen(!0)}},a(yi,{color:h.YELLOW}))),help:e=>a(c5,{setOpen:e.setHelpDialogOpen,title:"President Help"},a("p",null,"This is the game President"))});const Te=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:e.direction==="left"?"transform: rotate(180deg)":""},a("g",{transform:"translate(0,0)"},a("path",{d:"M106.854 106.002a26.003 26.003 0 0 0-25.64 29.326c16 124 16 117.344 0 241.344a26.003 26.003 0 0 0 35.776 27.332l298-124a26.003 26.003 0 0 0 0-48.008l-298-124a26.003 26.003 0 0 0-10.136-1.994z",fill:e.color,"fill-opacity":"1"})));Z0(qe.INVADERZ,{title:"INVADERZ",tokensRequired:1,controls:()=>a(n1,null,a(q1,S({width:"48px",height:"48px"},le(X1.Left)),a(Te,{color:h.GREEN,direction:"left"})),a(q1,S({width:"48px",height:"48px"},le(X1.Right)),a(Te,{color:h.GREEN,direction:"right"})),a(q1,S({width:"48px",height:"48px",type:"text"},le(X1.Space)),"FIRE"),a(q1,S({width:"48px",height:"48px",type:"text"},le(X1.Enter)),"START"))});Z0(qe.ELASTICITY,{title:"ELASTICITY",tokensRequired:2,controls:()=>a(n1,null,a(q1,S({width:"48px",height:"48px"},le(X1.Left)),a(Te,{color:h.GREEN,direction:"left"})),a(q1,S({width:"48px",height:"48px"},le(X1.Right)),a(Te,{color:h.GREEN,direction:"right"})),a(q1,S({width:"48px",height:"48px",type:"text"},le(X1.Enter)),"START"))});Z0(qe.ZAG,{title:"ZAG",tokensRequired:1,controls:()=>a(n1,null,a(q1,S({width:"48px",height:"48px"},le(X1.Left)),a(Te,{color:h.GREEN,direction:"left"})),a(q1,S({width:"48px",height:"48px"},le(X1.Right)),a(Te,{color:h.GREEN,direction:"right"})),a(q1,S({width:"48px",height:"48px",type:"text"},le(X1.Space)),"SHOOT"))});Z0(qe.VORTEX,{title:"VORTEX",tokensRequired:1,controls:()=>a(n1,null,a(q1,S({width:"48px",height:"48px"},le(X1.Left)),a(Te,{color:h.GREEN,direction:"left"})),a(q1,S({width:"48px",height:"48px"},le(X1.Right)),a(Te,{color:h.GREEN,direction:"right"})),a(q1,S({width:"48px",height:"48px",type:"text"},le(X1.Space)),"SHOOT"),a(q1,S({width:"48px",height:"48px",type:"text"},le(X1.Shift)),"SHIELD"),a(q1,S({width:"48px",height:"48px",type:"text"},le(X1.Up)),"BOOST"))});Z0(qe.BOWLING,{title:"Regem Ludos Bowling",tokensRequired:0,cabinet:{music:!0,disabled:!0,backgroundColor:"radial-gradient(circle, rgba(17,17,17,0) 81%, rgba(17,17,17,0.8239670868347339) 93%);"},onGameCompleted:async e=>{let t="Good effort!";e>=100?t="Nice work!":e>=150?t="Great technique!":e>=200?t="Very impressive!":e>=250?t="Wow, you're really good at this!":e===300&&(t="<scale=1.5 color=ORANGE shake>A perfect game!!!!!!!</>"),await q4(`
      +fadeOut(1000);
      +setAtMarker(Ada, MarkerPreventBowling);
      +setAnimationState(Ada, idle);
      +lookAtEachOther(Ada, Floor1BowlingEmployee);
      +fadeIn(500);
      +setConversation(Ada);
      Floor1BowlingEmployee: "Looks like you bowled a ${e}.  ${t}"
      ${e>200?"+:happy(Ada)":""}
      ${e>250?"+:jump(Ada)":""}
      ${e>=300?`+:jump(Ada)
+:jump(Ada)`:""}
      +resetAi(Floor1BowlingEmployee);
      +endConversation();
      `)},onGameCancelled:async()=>{await q4(`
      +fadeOut(1000);
      +setAtMarker(Ada, MarkerPreventBowling);
      +setAnimationState(Ada, idle);
      +lookAtEachOther(Ada, Floor1BowlingEmployee);
      +fadeIn(500);
      +setConversation(Ada);
      Floor1BowlingEmployee: "Calling it quits early?"
      +resetAi(Floor1BowlingEmployee);
      +endConversation();
      `)}});var X1;(function(e){e[e.Enter=13]="Enter",e[e.Space=32]="Space",e[e.Left=1073741904]="Left",e[e.Right=1073741903]="Right",e[e.Up=1073741906]="Up",e[e.Down=1073741905]="Down",e[e.Shift=1073742049]="Shift"})(X1||(X1={}));const le=e=>({onMouseDown:()=>{D().appState.arcadeGame.isGameRunning&&K4(e)},onMouseUp:()=>{D().appState.arcadeGame.isGameRunning&&z4(e)},onTouchStart:()=>{D().appState.arcadeGame.isGameRunning&&K4(e)},onTouchEnd:()=>{D().appState.arcadeGame.isGameRunning&&z4(e)}}),zv=b("div",e=>({background:e.background,position:e.fixed?"fixed":"absolute",left:"0px",top:"0px",width:"100%",height:"100%"})),jv=b("div",e=>({position:e.fixed?"fixed":"absolute",left:"0px",top:"0px",padding:"1rem",width:"100%",background:h.BLACK,display:"flex",justifyContent:"flex-start",alignItems:"center",[Zr]:{padding:"2rem"}})),Yv=b("div",()=>({display:"flex",justifyContent:"space-between"})),Vv=b("div",()=>({display:"flex"})),qv=b("div",()=>({display:"flex",justifyContent:"space-between",alignItems:"center"})),b2=b("div",()=>({padding:"0px 8px"})),d5=b("div",()=>({position:"relative",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",pointerEvents:"none"})),Xv=b("div",e=>({border:`20px solid ${h.BLACK}`,background:h.DARKBLUE,color:h.WHITE,fontSize:"4rem",width:"646px",boxSizing:"border-box",textAlign:"center"})),Qv=b("div",()=>({backgroundImage:`url(${fe()}/img/arcade-cabinet.png)`,width:"646px",height:"712px",position:"absolute",left:"0px",top:"0px",zIndex:"-1"})),Zv=b("div",e=>({height:"96px",width:"548px",background:h.GREY,textAlign:"center",zIndex:"1",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"all",transform:"perspective(512px) rotateX(15deg) translateY(22px)",border:`2px solid ${h.WHITE}`}));b("div",e=>{var t,i;return{tapHighlightColor:"rgba(0, 0, 0, 0)",webkitTapHighlightColor:"rgba(0, 0, 0, 0)",padding:"16px",fontSize:"16px",minWidth:e.width?"unset":"48px",width:e.width,height:e.height,margin:"16px 4px",background:(t=e.backgroundColor)!=null?t:h.DARKBLUE,color:(i=e.color)!=null?i:h.WHITE,cursor:"pointer",borderRadius:"8px",border:`2px solid ${h.GREY}`,textAlign:"center",fontFamily:"monospace",userSelect:"none",display:e.type==="text"?"flex":"",justifyContent:"center",touchAction:"manipulate",alignItems:"center","&:hover":{filter:"brightness(120%)"},"&:active":{filter:"brightness(80%)"}}});const u5=e=>{const t=e.lastIndexOf("/");return`${e.slice(0,t)+e.slice(t)}`},h5=e=>{const t=P().tokens,i=P().tickets,n=e.meta.tokensRequired,[o,r]=G(0),s=D().appState.arcadeGame.isGameRunning,l=D().appState.arcadeGame.isGameReady,c=o===n,d=e.expanded,[u,g]=G(!1),[m,f]=G(0),p=()=>{g(!0),setTimeout(()=>{g(!1),c?(to(P(),-o),r(0),xv(),d&&U4()):(r(o+1),x("insert_token"),o+1===n&&setTimeout(()=>{x("ready_arcade_game")},250))},100)},y=()=>{g(!0),setTimeout(()=>{g(!1),r(0),x("eject_tokens")},100)};return Ge(w=>{s||(be(w.key)&&vi(),w.key==="ArrowLeft"?(x("menu_move"),f(0)):w.key==="ArrowRight"?(x("menu_move"),f(1)):z0(w.key)&&(m===0?p():m===1&&y()))}),a("div",null,a(qv,null,a(b2,null,"TOKENS: ",t-o),a(b2,null,"TICKETS: ",i),a(b2,null,a(k1,{active:u&&m===0,disabled:!l||s||t<=0,style:{width:"140px"},showCursor:m===0,type:c?f1.PRIMARY:f1.TOKEN,onClick:p},c?"PLAY":"Insert Token")),a(b2,null,a(k1,{active:u&&m===1,disabled:o===0,type:f1.CANCEL,showCursor:m===1,onClick:y},"Eject")),a(b2,null,"TOKENS INSERTED: ",o,"/",n)))},Jv=e=>{var d,u;const t=e.expanded,i=e.meta,n=e.iframeRef,o=e.isGameReady,r=e.isGameRunning,s=e.setHelpDialogOpen,l=e.helpDialogOpen,c=e.muted;return a(d5,null,t?null:a(Xv,null,i.title),a("div",{style:{transition:"height 0.25s",height:t?"0px":"32px",width:"646px",position:"relative"}},t?null:a(Qv,null)),e.game?a(Y4,{id:"arcade-iframe",ref:n,src:(Tp()?u5(e.game):e.game)+`?cabinet=true&mute=${c}`,width:t?"100%":512+"px",height:t?"100%":512+"px",expanded:t,loading:!o,borderImageUrl:(u=(d=i==null?void 0:i.cabinet)==null?void 0:d.cabinetBorderImagePath)!=null?u:`${fe()}/img/arcade-border-1.png`}):a("div",null,"No game was specified."),t&&!r?a("div",{style:{pointerEvents:"all",margin:"8px"}},a(h5,{meta:i,expanded:t})):null,t?null:a(Zv,{id:"controls-arcade"},r?i.controls?a(i.controls,{setHelpDialogOpen:s}):a("div",null):a(h5,{meta:i,expanded:t})),(i==null?void 0:i.help)&&l?a(i.help,{setHelpDialogOpen:s}):null)},ex=e=>{e.meta;const t=e.iframeRef,i=e.isGameReady;e.isGameRunning;const n=e.muted;return a(d5,null,e.game?a(Y4,{id:"arcade-iframe",ref:t,src:(Tp()?u5(e.game):e.game)+`?cabinet=true&mute=${n}`,width:"100%",height:"100%",expanded:!0,loading:!i,borderImageUrl:void 0}):a("div",null,"No game was specified."))},tx=e=>{var A,C,k,N,R,L,F,E;const[t,i]=G(!1),[n,o]=G(ur());G(lr());const[r,s]=G(!1),[l]=G(0),c=(A=mi[e.game])!=null?A:mi.default,d=c.tokensRequired,u=D().appState.arcadeGame.isGameRunning,g=D().appState.arcadeGame.isGameReady,m=l===d,f=Ye();c1(()=>{u||vn()});const p=async()=>{c.onGameCancelled?await c.onGameCancelled():(vi(),D1())},y=()=>{const I=!t;i(I),I?(m||u?U4():vn(),vv()):(vn(),bv())},w=()=>{const I=!n;o(I),I?yv():wv(),dr(I),i5(e5())};Ge(I=>{ky(I.key)?p():Ly(I.key)?y():Sy(I.key)&&w()});let v=h.BGGREY;return((C=c==null?void 0:c.cabinet)==null?void 0:C.backgroundColor)?v=(k=c==null?void 0:c.cabinet)==null?void 0:k.backgroundColor:((N=c==null?void 0:c.cabinet)==null?void 0:N.disabled)&&(v="unset"),a(zv,{background:v,fixed:!((R=c==null?void 0:c.cabinet)==null?void 0:R.disabled)},a(jv,{fixed:!((L=c==null?void 0:c.cabinet)==null?void 0:L.disabled)},a(Yv,null,a(Vv,null,a(k1,{type:f1.CANCEL,onClick:()=>{p()},style:{marginRight:"1rem"}},"Back ",Ry()),((F=c.cabinet)==null?void 0:F.disabled)?null:a(k1,{type:f1.PRIMARY,style:{marginRight:"1rem"},onClick:y},t?a(k0,null,a(l5,{color:h.WHITE}),"Contract ",l4()):a(k0,null,a(s5,{color:h.WHITE}),"Expand ",l4())),a(k1,{type:f1.PRIMARY,style:{marginRight:"1rem"},onClick:w},n?a(k0,null,a(Wv,{color:h.WHITE}),"Unmute ",c4()):a(k0,null,a(a5,{color:h.WHITE}),"Mute ",c4()))))),((E=c==null?void 0:c.cabinet)==null?void 0:E.disabled)?a(ex,{expanded:t,meta:c,iframeRef:f,isGameReady:g,isGameRunning:u,setHelpDialogOpen:s,helpDialogOpen:r,muted:n,game:e.game}):a(Jv,{expanded:t,meta:c,iframeRef:f,isGameReady:g,isGameRunning:u,setHelpDialogOpen:s,helpDialogOpen:r,muted:n,game:e.game}))},ix={hideSections:e=>{e.sections=[]},showSection:(e,t)=>{var n;e.sections.includes(t.section)||e.sections.push(t.section);const i=(n=t.hideSections)!=null?n:[];e.sections=e.sections.filter(o=>!i.includes(o))},hideSection:(e,t)=>{const i=e.sections.filter(n=>n!==t.section);e.sections=i},setCutsceneState:(e,t)=>{Object.assign(e.cutscene,t)},setArcadeGameState:(e,t)=>{Object.assign(e.arcadeGame,t)},setBattleState:(e,t)=>{Object.assign(e.battle,t)},setChoicesState:(e,t)=>{Object.assign(e.choices,t)},setOverworldState:(e,t)=>{t.characterText!==void 0&&t.characterText!==e.overworld.characterText&&(t.prevCharacterText=e.overworld.characterText),Object.assign(e.overworld,t)},setModalState:(e,t)=>{Object.assign(e.modal,t)},setMenuState:(e,t)=>{Object.assign(e.menu,t)},setSettingsState:(e,t)=>{Object.assign(e.settings,t)},setSaveState:(e,t)=>{Object.assign(e.save,t)},setLevelUpState:(e,t)=>{Object.assign(e.levelUp,t)},setQuestState:(e,t)=>{Object.assign(e.quest,t)},setStoreState:(e,t)=>{Object.assign(e.store,t)},setInfoStatsState:(e,t)=>{Object.assign(e.infoStats,t)},addRoomUiParticle:(e,t)=>{e.room.particles=[...e.room.particles,t]},removeRoomUiParticle:(e,t)=>{const i=e.room.particles.indexOf(t);i>-1&&e.room.particles.splice(i,1)},showNotification:(e,t)=>{e.notifications.push(t)},hideNotification:(e,t)=>{const i=e.notifications.indexOf(t);i>-1&&e.notifications.splice(i)}},nx=function(e,t){const i=S({},e),n=ix[t.action];return n?(n(i,t.payload,e),console.log("MUTATE STATE",t)):console.error(`Action without a reducer mutation: "${t.action}"`,t),i},h0=()=>{D().dispatch({action:"hideSections"})},t1=(e,t,i)=>{const n=D().appState.sections;if(t&&n.length===1&&n[0]===e){console.log("Show section skipped because it would result in a redundant render.");return}t&&h0(),D().dispatch({action:"showSection",payload:{section:e,hideSections:i}})},j1=e=>{const t={section:e};D().dispatch({action:"hideSection",payload:t})},ox=()=>{a2(!1),D().dispatch({action:"setCutsceneState",payload:{visible:!1,portraitLeft:"",portraitLeft2:"",portraitRight:"",portraitRight2:"",portraitCenter:"",portraitLeftEmotion:"",portraitLeft2Emotion:"",portraitRightEmotion:"",portraitRight2Emotion:"",portraitCenterEmotion:"",actorName:"",actors:[],portraitActors:[]}})},rx=()=>{D().dispatch({action:"setCutsceneState",payload:{visible:!0}})},wi=(e,t)=>{a2(!0),t1(O.Cutscene,!1,[O.Debug,O.Menu]),D().dispatch({action:"setCutsceneState",payload:{showBars:t,portraitCenter:e,portraitLeft:"",portraitRight:"",portraitLeft2:"",portraitRight2:"",portraitLeftEmotion:"",portraitLeft2Emotion:"",portraitRightEmotion:"",portraitRight2Emotion:"",portraitCenterEmotion:"",speaker:p1.None,visible:!0,actors:[],portraitActors:[]}})},ax=(e,t)=>{a2(!0),t1(O.Cutscene,!1,[O.Debug,O.Menu]),D().dispatch({action:"setCutsceneState",payload:{showBars:!0,portraitLeft:e,portraitRight:t,portraitLeft2:"",portraitRight2:"",portraitCenter:"",portraitLeftEmotion:"",portraitLeft2Emotion:"",portraitRightEmotion:"",portraitRight2Emotion:"",portraitCenterEmotion:"",speaker:p1.None,speakerName:"",visible:!0,actors:[],portraitActors:[]}})},bi=(e,t,i,n)=>{if(e){const r=document.getElementById("cutscene-textbox-content");r&&(r.innerHTML="")}const o={text:e,visible:!0,speakerName:"",id:String(+new Date)};t&&(o.speaker=t,o.actorName=n!=null?n:"",o.speakerName=i),D().dispatch({action:"setCutsceneState",payload:o})},sx=e=>{var n,o;const t={path:e,isGameRunning:!1,isGameReady:!1};D().dispatch({action:"setArcadeGameState",payload:t});const i=V4(e);a2(!0),((n=i==null?void 0:i.cabinet)==null?void 0:n.music)||pe(250),((o=i==null?void 0:i.cabinet)==null?void 0:o.disabled)?(xi(!0),t1(O.ArcadeCabinet,!1)):(h2(g1()),ve(),t1(O.ArcadeCabinet,!0))},Tn=e=>{const t={isGameRunning:e};D().dispatch({action:"setArcadeGameState",payload:t})},lx=e=>{const t={isGameReady:e};D().dispatch({action:"setArcadeGameState",payload:t})},vi=()=>{D1();const e={path:"",isGameRunning:!1,isGameReady:!1};D().dispatch({action:"setArcadeGameState",payload:e}),t1(O.Debug,!0),xi(!1),a2(!1);const t=g1();tn(t),t.music&&Tt(t.music,!0,250)},g5=e=>{t1(O.Choices,!1);const t={choiceTexts:e,keyHandlerInternal:K0()};D().dispatch({action:"setChoicesState",payload:t}),x("menu_choice_open")},cx=()=>{ee(D().appState.choices.keyHandlerInternal),j1(O.Choices)},En=e=>{const t={characterIndexSelected:e};D().dispatch({action:"setBattleState",payload:t})},dx=(e,t)=>{e.ch.skillIndex=t,W1()},m5=e=>{const t=D();if(t.appState.overworld.characterText===e)return;const i={characterText:e};t.dispatch({action:"setOverworldState",payload:i})},$e=(e,t)=>{var n,o,r;const i={section:e,onClose:t.onClose,onConfirm:t.onConfirm,body:t.body,danger:(n=t.danger)!=null?n:!1,filter:(o=t.filter)!=null?o:()=>!0,meta:(r=t.meta)!=null?r:{}};D().dispatch({action:"setModalState",payload:i}),t1(O.Modal,!1)},Pt=()=>{j1(O.Modal)},ux=e=>{$e(E1.SELECT_PARTY_MEMBER,{onClose:e.onClose,onConfirm:e.onCharacterSelected,filter:e.filter,body:e.body,meta:{showDelayInfo:e.showDelayInfo,itemNameForDescription:e.itemNameForDescription}})},hx=e=>{$e(E1.SELECT_CHARACTER_FOLLOWER,{onClose:e.onClose,onConfirm:e.onCharacterSelected,filter:e.filter,body:e.body,meta:{characters:e.characters,isAll:e.isAll}})},p5=e=>{x("menu_choice_open");const t={onClose:e};D().dispatch({action:"setMenuState",payload:t}),t1(O.Menu,!1)},_n=e=>{x("menu_choice_open");const t={onClose:e};D().dispatch({action:"setSettingsState",payload:t}),t1(O.Settings,!1)},gx=e=>{x("menu_choice_open");const t={onClose:e};D().dispatch({action:"setSaveState",payload:t}),t1(O.Save,!1)},mx=e=>{x("blip");const t={onClose:e};D().dispatch({action:"setLevelUpState",payload:t}),t1(O.LevelUp,!1)},f5=(e,t)=>{const i={onClose:t,questName:e};D().dispatch({action:"setQuestState",payload:i}),t1(O.Quest,!1)},y5=()=>{j1(O.Quest)},w5=(e,t)=>{const i={effect:{bChList:e,effectAnimName:t,active:!0}};D().dispatch({action:"setBattleState",payload:i})},b5=()=>{const e={effect:{active:!1,effectAnimName:"",bChList:[]}};D().dispatch({action:"setBattleState",payload:e})},px=e=>{D().dispatch({action:"addRoomUiParticle",payload:e})},fx=e=>{const t=D();t.appState.room.particles.indexOf(e)>-1&&t.dispatch({action:"removeRoomUiParticle",payload:e})},v5=e=>{e.timeoutId=setTimeout(()=>{D().dispatch({action:"hideNotification",payload:e})},3e3),D().dispatch({action:"showNotification",payload:e})},xi=e=>{D().dispatch({action:"setOverworldState",payload:{interfaceDisabled:e}})},yx=(e,t)=>{const i={onClose:t,storeName:e},n=hn(e);n.openSound?x(n.openSound):x("menu_choice_open"),D().dispatch({action:"setStoreState",payload:i}),t1(O.Store,!1)},x5=()=>{const e=D().appState.store.storeName;if(e){const t=hn(e);t.closeSound?x(t.closeSound):x("menu_choice_close")}j1(O.Store)},wx=e=>{const t={onClose:e};D().dispatch({action:"setInfoStatsState",payload:t}),t1(O.InfoStats,!1),x("menu_choice_open")},bx=()=>{j1(O.InfoStats),x("menu_choice_close")},T5=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M87 32v71h18V32H87zm160 0v345h18V32h-18zm160 0v167h18V32h-18zM50 121c-5.14 0-9 3.9-9 9v28c0 5.1 3.86 9 9 9h92c5.1 0 9-3.9 9-9v-28c0-5.1-3.9-9-9-9H50zm37 64v295h18V185H87zm283 32c-5.1 0-9 3.9-9 9v28c0 5.1 3.9 9 9 9h92c5.1 0 9-3.9 9-9v-28c0-5.1-3.9-9-9-9h-92zm37 64v199h18V281h-18zM210 395c-5.1 0-9 3.9-9 9v28c0 5.1 3.9 9 9 9h92c5.1 0 9-3.9 9-9v-28c0-5.1-3.9-9-9-9h-92zm37 64v21h18v-21h-18z",fill:e.color,"fill-opacity":"1"}))),Cn=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z",fill:e.color,"fill-opacity":"1"})))),Ti=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:e.color,stroke:e.color},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M488 348.78h-70.24l-15.1 87.44-48.78-87.44H169v-50h190v-157h129zm-145-273v207H158.13l-48.79 87.47-15.11-87.47H24v-207zM136.724 215.324c0-10.139-12.257-15.214-19.425-8.046-7.168 7.168-2.093 19.426 8.046 19.426 6.285 0 11.38-5.095 11.38-11.38zm60.945 0c-.068-10.12-12.32-15.122-19.452-7.943-7.131 7.18-2.047 19.399 8.073 19.399 6.314 0 11.422-5.141 11.38-11.456zm60.945 0c0-10.139-12.257-15.214-19.425-8.046-7.169 7.168-2.093 19.426 8.046 19.426 6.284 0 11.38-5.095 11.38-11.38z",fill:e.color,"fill-opacity":"1"}))),vx=b("div",{position:"absolute",top:"4px",left:"4px",width:"100%",display:"flex",pointerEvents:"none",zIndex:1,"& > div":{marginRight:"4px"}});var Q1;(function(e){e.SETTINGS="settings",e.DEBUG="debug",e.MENU="menu",e.BATTLE_MENU="battle-menu",e.ON_SCREEN_CONTROLS="on-screen-controls",e.SKIP_CUTSCENE="skip"})(Q1||(Q1={}));const An=e=>{const t=l=>{l.stopPropagation(),x("menu_select"),e.onMenuClose&&e.onMenuClick&&(p5(e.onMenuClose),e.onMenuClick())},i=l=>{l.stopPropagation(),x("menu_select"),e.onSettingsClose&&e.onSettingsClick&&(_n(e.onSettingsClose),e.onSettingsClick())},n=()=>{e.onSkipClick&&e.onSkipClick()},o=l=>{l.stopPropagation(),x("menu_select"),V2()?(S9(),L9()):(A9(),R9())},r=l=>{l.stopPropagation(),x("menu_select"),Cr()?Ar(!1):Ar(!0),tt==null||tt.render()},s={};return e.disabled||(s.pointerEvents="all"),a(n1,null,a(vx,null,e.buttons.includes(Q1.MENU)?a(k1,{id:"top-bar-menu",disabled:e.disabled,style:s,type:f1.PRIMARY,onClick:t},a(k0,null,a(Cn,{color:h.WHITE}),"Menu ",te())):null,e.buttons.includes(Q1.BATTLE_MENU)?a(k1,{id:"top-bar-menu",disabled:e.disabled,style:s,type:f1.PRIMARY,onClick:e.onMenuClick},a(k0,null,a(Cn,{color:h.WHITE}),"Menu ",n4())):null,e.buttons.includes(Q1.SETTINGS)?a(k1,{disabled:e.disabled,style:s,type:f1.PRIMARY,onClick:i},a(k0,null,a(T5,{color:h.WHITE}),"Settings ",en())):null,e.buttons.includes(Q1.SKIP_CUTSCENE)?a(k1,{disabled:e.disabled||!e.onSkipClick,style:s,type:f1.SECONDARY,onClick:n},a(k0,null,a(Ti,{color:h.WHITE}),"Skip (Backspace)")):null,e.buttons.includes(Q1.DEBUG)?a(k1,{disabled:e.disabled,style:s,type:f1.SECONDARY,onClick:o},"Toggle Debug (d)"):null,e.buttons.includes(Q1.ON_SCREEN_CONTROLS)?a(k1,{disabled:e.disabled,style:s,type:f1.SECONDARY,onClick:r},"Toggle Controls"):null))},Sn=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M129.656 21.188L37.936 79.78c3.54 26.805 8.915 53.547 16.127 80.126L240.72 39.594l-19.282-12.5c-31.28-.885-62.204-2.842-91.782-5.907zm253.47.625c-40.51 3.975-83.496 5.938-126.47 5.843l204.625 132.72c7.108-25.89 12.487-51.92 16.095-78.032l-94.25-60.53zM257.937 50.75L59.468 178.656c8.025 26.32 17.865 52.456 29.532 78.313l243.25-158-74.313-48.22zm91.468 59.344l-74.562 48.437 151.28 98.782c11.714-25.803 21.592-51.91 29.688-78.187l-106.406-69.03zm-91.687 59.562L97 274.062c12.202 25.17 26.14 50.064 41.844 74.563l196.094-128.53-77.22-50.44zM352 231.22l-77.53 50.843 101.405 67.187c15.822-24.6 29.895-49.584 42.22-74.875L352 231.22zm-94.53 61.968l-108.345 71.03c13.564 20.062 28.326 39.847 44.28 59.313l132.032-85.28-67.968-45.063zm84.967 56.312L274.5 393.406l47.03 30.375c15.845-19.342 30.513-38.993 44.033-58.936L342.438 349.5zm-84.968 54.875L205.5 437.97c16.233 18.933 33.614 37.54 52.156 55.78 18.385-18.152 35.637-36.678 51.78-55.53l-52.092-33.626.125-.22z",fill:e.color,"fill-opacity":"1"}))),xx=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:e.direction==="left"?"transform: rotate(180deg)":""},a("g",{transform:"translate(0,0)"},a("path",{d:"M262.406 17.188c-27.22 8.822-54.017 28.012-72.375 55.53 17.544 47.898 17.544 57.26 0 105.157 19.92 15.463 40.304 24.76 60.782 27.47-2.063-25.563-3.63-51.13 1.125-76.69-13.625-1.483-23.374-5.995-37-13.874V82.563c35.866 19.096 61.84 18.777 98.813 0v32.22c-13.364 6.497-21.886 11.16-35.25 13.218 3.614 25.568 3.48 51.15 1.375 76.72 18.644-3.265 37.236-12.113 55.5-26.845-14.353-47.897-14.355-57.26 0-105.156-16.982-28.008-47.453-46.633-72.97-55.532zm-129.594 8.218c-25.906 110.414-27.35 215.33-27.4 330.922-18.84-1.537-37.582-5.12-56.027-11.12v28.554h69.066c8.715 35.025 6.472 70.052-1.036 105.078h28.13c-7.195-35.026-8.237-70.053-.872-105.078h68.904v-28.555c-18.49 4.942-37.256 8.552-56.097 10.46.082-114.94 2.496-223.068-24.667-330.26zm89.47 202.375c0 117.27 25.517 233.342 120.155 257.97C446.62 464.716 462.72 345.374 462.72 227.78H222.28z",fill:e.color,"fill-opacity":"1"}))),Tx=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:e.direction==="left"?"transform: rotate(180deg)":""},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M60.344 17.594l4.75 45.718-45.063-2.874 41.157 49.812-11.406 243.156c-.03.02-.06.043-.093.063-.03.02-.06.04-.093.06-37.928 26.657-38.036 71.926-19.844 103.44 24.263 42.024 72.83 42.51 87.25 4.75-24.33 12.43-43.486 1.97-55-17.97-11.764-20.378-8.908-43.704 26.438-56.063C134.162 371.7 225.256 440.334 311.75 428l-11.875-55.344c-83.384 34.902-166.713-51.397-223.063-32.53l-.468.155c-2.46.97-4.918 1.967-7.344 3.033L79.063 127.47l32.687-5.907 196.563 207.906 1.218 1.28 26.75 124.438 1.283 5.906 5.875 1.25 136.375 29.344 14.156 3.03-3.064-14.156-29.312-136.343-1.28-5.908-5.908-1.28-124.5-26.75-1.53-1.5-205.563-195.688L129 78.814l213.47-9.626c-.25.52-.51 1.036-.75 1.562-.04.085-.087.165-.126.25-.885 2.202-1.71 4.482-2.5 6.844-18.86 56.333 68.363 138.695 33 222.594l56.03 12c11.78-85.565-57.487-177.073-41.437-222.97 12.36-35.345 35.654-38.203 56.032-26.437 19.94 11.513 30.4 30.674 17.967 55 33.042-12.617 37.266-51.432 9.532-77.186-3.96-3.682-9.025-7.03-14.283-10.063-12.983-7.495-28.3-11.89-43.687-11.81-19.84.1-39.804 7.626-55.03 25.53-1.293 1.813-2.548 3.646-3.783 5.5L113.5 60.813l-53.156-43.22zM328.28 329.03l97.126 20.876-47.25 25.063-2.53 1.342-1.345 2.532-25.124 47.344-20.875-97.157zm117.626 31.158l23.72 110.187-110.22-23.688 30.03-56.53 56.47-29.97z",fill:e.color,"fill-opacity":"1"}))),Ex=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",style:e.direction==="left"?"transform: rotate(180deg)":""},a("g",{transform:"translate(0,0)"},a("path",{d:"M247.1 23.09c-57.5 2.19-109.7 25.26-149.2 61.83l20.6 20.58-12.8 12.8-20.58-20.6C46.64 139.3 23.1 194.8 23.1 255.9c0 22.6 3.24 44.4 9.25 65.1-3.97 7.1-6.25 15.2-6.25 23.9 0 27 22.04 49 49 49 27 0 49-22 49-49 0-25-18.8-45.7-43.06-48.6-1.92-10.2-2.94-20.7-2.94-31.4 0-93.2 75.8-169 169-169s169 75.8 169 169-75.8 169-169 169c-10.7 0-21.2-1-31.4-2.9-2.9-24.2-23.6-43.1-48.6-43.1-27 0-49 22-49 49s22 49 49 49c8.7 0 16.8-2.3 23.9-6.3 20.6 6 42.5 9.3 65.1 9.3 61 0 116.6-23.5 158.2-62l-20.6-20.6 12.8-12.8 20.6 20.6c36.6-39.5 59.6-91.7 61.8-149.2h-40.8v-18h40.8c-.9-23.4-5.2-45.9-12.5-67L436.1 200l-8-16.2 41.7-20.8c-10.6-24.2-25.1-46.2-42.7-65.3l-36.6 36.6-12.8-12.8 36.6-36.57c-19.1-17.67-41.1-32.17-65.2-42.7l-20.9 41.7-16.2-8.06 20.1-40.25c-21.1-7.3-43.6-11.64-67-12.53V63.9h-18z",fill:e.color,"fill-opacity":"1"}))),_x=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M412.6 27.246c-62.483 12.864-108.973 44.93-148.62 82.2-8.492 8.785-16.66 17.994-24.543 27.56 4.898 1.954 9.432 4.115 13.304 7.09.313-.395.7-.9 1.005-1.286 6.282-7.98 10.457-13.283 13.182-16.123l12.988 12.46c-.528.552-5.826 6.92-12.025 14.796-6.2 7.875-13.92 17.864-21.528 27.89-7.608 10.023-15.113 20.094-20.86 28.094-2.872 4-5.31 7.49-7.062 10.13-1.75 2.64-2.987 5.184-2.582 4.134l-16.793-6.48c1.2-3.11 2.415-4.648 4.375-7.603 1.082-1.63 2.37-3.5 3.774-5.506-3.99-2.19-8.23-4.21-12.563-5.67-11.845 18.36-23.12 37.345-34.032 56.61 4.74.9 9.385 2.15 13.65 4.094.547.25 1.095.51 1.64.785 2.275-3.822 4.35-7.24 6.07-9.948 1.923-3.023 3.048-4.9 4.93-6.988l13.374 12.047c.304-.336-1.358 1.838-3.113 4.598-1.756 2.76-4.004 6.458-6.542 10.745-3.152 5.323-6.773 11.605-10.516 18.203-.92 1.636-1.87 3.322-2.918 5.16-1.333 2.37-2.672 4.758-4.006 7.156-6.112 10.993-12.096 22.043-16.634 30.797-2.27 4.376-4.18 8.187-5.537 11.06-1.358 2.872-2.233 5.552-1.993 4.53l-17.52-4.128c.747-3.167 1.722-4.885 3.237-8.092 1.01-2.133 2.29-4.694 3.677-7.428-.176-.093-.336-.185-.563-.29-1.398-.654-3.906-1.24-7.11-1.456-2.58-.174-5.55-.114-8.714.024-6.96 13.054-13.88 26.046-20.812 38.855 24.224-3.728 49.8.884 72.717 11.266 25.21 11.42 47.412 29.837 61.177 52.778 9.69-11.386 19.125-22.82 28.346-34.295-6.03-7.047-12.925-13.504-20.574-19.506-3.778 5.388-12.217 17.41-12.217 17.41l-14.744-10.328s15.805-22.57 31.834-45.36c8.014-11.396 16.084-22.845 22.27-31.57 3.092-4.363 5.712-8.043 7.632-10.71.96-1.336 1.74-2.415 2.34-3.228.3-.406.554-.742.788-1.047.234-.304.034-.217 1.11-1.293l12.726 12.73c.31-.31.315-.324.395-.41-.113.145-.295.383-.54.714-.517.702-1.273 1.743-2.21 3.044-1.872 2.603-4.478 6.263-7.558 10.608-.47.662-1.203 1.71-1.693 2.402 8.655 6.093 16.436 13.453 22.96 21.498 14.668-19.693 28.886-39.478 42.85-59.322-6.27-7.52-13.506-14.377-21.59-20.72-3.778 5.388-12.22 17.408-12.22 17.408l-14.742-10.327s15.806-22.568 31.834-45.36c8.015-11.395 16.084-22.846 22.27-31.57 3.093-4.364 5.713-8.044 7.633-10.712.96-1.335 1.74-2.412 2.34-3.225.302-.406.552-.742.787-1.047.234-.304.033-.217 1.11-1.293l12.727 12.73c.305-.307.31-.32.39-.407-.112.146-.292.382-.535.71-.52.703-1.275 1.744-2.21 3.045-1.874 2.603-4.48 6.263-7.56 10.608-.47.662-1.203 1.708-1.693 2.4 8.053 5.668 15.35 12.433 21.58 19.826 14.802-21.625 29.52-43.287 44.39-64.95-8.163-14.727-13.61-35.985-17.267-59.9-3.51-22.94-4.823-47.863-3.476-70.616zm-24.935 23.988l.033 12.432c.068 26.335.24 57.675 8.26 81.712l4.045 12.127-12.78-.28c-21.215-.467-41.945-6.482-58.818-14.827-16.872-8.345-30.143-18.334-35.918-30.986l-2.78-6.09 5.032-4.412c21.065-18.48 51.315-35.886 81.126-45.766zm-17.883 25.353c-20.675 8.326-41.308 20.34-56.947 32.725 4.763 5.217 13.01 11.738 23.55 16.95 11.334 5.607 25.01 9.99 38.96 11.904-4.7-20.446-5.428-42.064-5.563-61.58zm-155.35 72.47l-19.294 31.21c8.46 2.03 15.834 5.644 22.017 9.223 2.87-4.034 5.655-7.918 11.22-15.912 3.968-5.703 7.908-11.442 10.737-15.727.11-.165.144-.23.25-.39-2.897-1.764-6.678-3.825-10.644-5.292-5.795-2.144-11.265-2.857-14.287-3.112zm143.58 69.394L338.99 246.3c14.875 11.8 27.542 25.663 36.984 42.082l15.574-23.535c-4.002-15.06-17.05-34.1-33.535-46.394zm-214.28 53.458c-2.03-.036-2.87.123-4.33.203l-17.692 36.36c3.37-.127 6.782-.277 10.246-.043 4.495.304 9.07 1.028 13.52 3.108.237.11.463.28.7.4 2.856-4.895 4.654-7.948 9.272-15.957 3.72-6.452 7.428-12.932 10.15-17.8.505-.906.755-1.39 1.186-2.17-2.534-1.152-6.38-2.25-10.494-2.98-4.125-.734-8.703-1.053-12.56-1.12zm129.925 62.125l-19.023 27.847c14.875 11.8 27.542 25.663 36.984 42.082l15.576-23.537c-4.002-15.06-17.052-34.097-33.537-46.392zM96.634 384.427c-3.352.813-6.633 1.826-9.82 3.06l-8.155 3.153c1.374 45.12 28.474 76.875 60.952 88.8 30.687 11.27 66.89 4.883 89.315-21.724l-3.803-8.79c-1.42-3.28-3.08-6.498-4.943-9.645-16.81 27.018-47.216 33.235-74.363 23.266-27.302-10.025-50.384-36.346-49.183-78.12z",fill:e.color,"fill-opacity":"1"}))),Ei=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("path",{d:"M0 0h512v512H0z",fill:"rgba(0, 0, 0, 0.0)","fill-opacity":"1"}),a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M256 23.05C127.5 23.05 23.05 127.5 23.05 256S127.5 488.9 256 488.9 488.9 384.5 488.9 256 384.5 23.05 256 23.05z",fill:e.color,"fill-opacity":"1"}))),Cx=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M256 23.316c-27.177 0-58.578 5.75-79.525 17.967-20.688 13.774-43.22 60.756-43.22 60.756-3.112 5.22-6.173 10.658-9.16 16.376-36.372 69.627-61.496 175.763-62.4 317.686 46.593 26.853 97.436 44.53 142.05 52.582-21.736-14.917-40.667-38.325-55.18-67.618 36.913-4.56 78.545-9.817 107.314-9.818 29.802 0 73.456 5.63 111.32 10.29-14.484 29.072-33.326 52.308-54.946 67.144 44.615-8.052 91.458-25.727 138.05-52.58-.903-141.923-26.027-248.06-62.4-317.686-2.986-5.718-6.047-11.156-9.16-16.375v-.003s-22.53-46.98-43.22-60.754c-23.52-11.95-52.347-17.967-79.524-17.967zm-.045 16.22c30.187 3.09 57.525 4.198 76.307 24.67-18.46 21.81-45.975 49.5-76.29 49.503-30.302.002-66.432-30.935-76.27-49.468 17.72-19.566 53.18-24.537 76.253-24.707zM170.57 80c5.43 12.588 52.522 49.167 85.375 49.25C289.09 129.333 336 91.16 342.32 80c0 0 12.28 18.68 18.594 31.057l4.55 10.906c20.518 45.148 32.614 92.753 32.614 158.1 0 45.65-8.408 88.144-22.873 123.724-32.45-4.387-73.958-7.39-119.205-7.39-43.513 0-83.54 2.78-115.408 6.896-14.34-35.48-22.67-77.792-22.67-123.23 0-65.347 8.096-112.952 28.613-158.1l4.55-10.906C157.378 98.725 170.57 80 170.57 80z",fill:e.color,"fill-opacity":"1"}))),_i=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",id:"svg2",viewBox:"0 0 84.853 84.853",version:"1.0"},a("g",{id:"layer1",transform:"translate(-153.29 -132.79)"},a("g",{id:"g2762",transform:"matrix(.70711 -.70711 .70711 .70711 -66.575 189.71)",fill:e.color},a("rect",{id:"rect1872",y:"165.22",width:"100",x:"145.71",height:"20"}),a("rect",{id:"rect1874",transform:"rotate(90)",height:"20",width:"100",y:"-205.71",x:"125.22"})))),Ax=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M365.47 18.727c-11.353-.18-21.053 7.365-24.786 20.058h-.002c-24.423-7.6-57.52-4.092-68.328 19.856-15.69-20.86-47.866-13.98-55.194 9.85-7.328 23.828 13.462 49.474 44.68 48.55-3.078 33.98 44.304 54.69 81.764 39.132-.473 19.307 8.312 41.853 30.37 44.97-6.395 18.11 3.104 42.047 28.614 42.047 31.47 0 38.024-36.316 21.025-53.145 9.474-10.39 12.832-25.167 11.096-39.13 17.282 12.104 34.59-6.52 33.767-20.08-1.516-24.97-20.366-35.97-33.768-24.3-8.8-27.616-37.243-32.007-52.562-16.353 1.35-7.425.2-13.105-5.255-19.274 22.605-5.702 18.913-37.698 4.68-46.904-5.44-3.517-10.942-5.195-16.102-5.277zm68.37 5.13c-22.7 0-22.882 34.655 0 34.655s22.7-34.655 0-34.655zM177.672 74.842c-22.7 0-22.882 34.654 0 34.654s22.7-34.654 0-34.654zm64.695 59.38c-1.695.06-3.792.895-5.877 2.887-4.765 4.554-8.11 13.804-1.814 24.216 1.365 2.257 2.837 4.486 4.408 6.672l-14.21 26.414-34.43 59.637-153.62 87.682-.008.006c-11.038 6.375-16.508 14.786-17.537 24.037-1.03 9.254 2.46 20.22 13.083 31.508 45.295 48.134 101.19 77.71 164.907 95.106 15.645 4.267 26.47 2.614 33.156-2.1 6.686-4.712 11.047-13.382 11.047-28.413v-.006l.214-177.61 38.008-65.832c-14.036-3.907-26.16-10.638-36.332-18.932l8.967-16.67c13.568 12.152 31.753 20.64 55.14 20.645 11.536-.03 18.363-7.457 20.046-13.542.84-3.044.414-5.247-.604-6.73-1.018-1.48-3.004-3.204-8.754-3.66-31.006-2.452-53.782-15.764-68.293-39.714-2.816-4.65-5-5.413-6.797-5.584-.224-.02-.46-.028-.7-.02zm234.053 39.305c-22.7 0-22.882 34.655 0 34.655s22.7-34.655 0-34.655zm-44.668 86.022c-35.27 0-35.553 53.837 0 53.837s35.27-53.838 0-53.838zm-235.256 8.337l9.367 16.172-136.506 79.06-.005.003c-4 2.31-4.756 3.894-5.043 5.127-.29 1.233-.127 3.423 1.852 7.027.543.988 1.228 2.044 2.024 3.15l-.416-.193c18.068 27.077 54.2 61.967 89.34 80.934-23.56-10.45-50.91-25.15-72.737-40.756C69.11 407.5 56.51 396.524 49.78 384.272c-3.363-6.124-5.332-13.14-3.673-20.262 1.66-7.123 6.93-13.046 13.9-17.07l136.49-79.053zm-88.068 88.87c18.55 6.4 52.894 25.26 80.154 46.013 13.63 10.375 25.305 20.885 32.086 31.998 3.022 4.952 5.264 10.303 5.2 16.203l-20.626-9.488c-9.495-11.61-23.806-22.776-35.75-29.517-24.435-17.28-54.436-33.15-67.16-37.54l6.096-17.667z",fill:e.color,"fill-opacity":"1"}))),Mt=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M256 24c-11.8 0-24.5 10.15-34.6 30.32-7.1 14.37-12.6 33.19-15.1 54.48 4.6 4 9.2 8.2 13.7 12.7 11.4 11.3 21.2 23.3 29.3 35.3 2.2-.1 4.5-.2 6.7-.2 2.4 0 4.8.1 7.2.3 8.1-12.1 17.9-24 29.3-35.4 4.3-4.3 8.8-8.5 13.3-12.3-2.6-21.44-8-40.42-15.2-54.88C280.5 34.15 267.8 24 256 24zM113.2 84.12c-9.2.13-16.33 2.76-20.99 7.44-8.32 8.32-10.16 24.44-3 45.84 7.15 21.4 22.89 46.5 45.59 69.2 8.3 8.3 17 15.7 25.6 22.1 9.5-33.2 35.9-59.3 69.2-68.5-6.4-8.8-13.9-17.6-22.3-26-22.7-22.7-47.8-38.48-69.2-45.64-9.4-3.13-17.8-4.54-24.9-4.44zm286.1 0c-7.1-.1-15.5 1.33-24.8 4.48-21.4 7.14-46.5 22.9-69.2 45.6-8.5 8.5-16 17.3-22.4 26.1 33.2 9.3 59.4 35.5 68.8 68.7 8.8-6.5 17.6-14 26-22.4 22.7-22.7 38.4-47.8 45.6-69.2 7.2-21.4 5.3-37.49-3-45.83-4.7-4.69-11.8-7.33-21-7.45zM256 174.6c-45.1 0-81.4 36.3-81.4 81.4 0 45.1 36.3 81.4 81.4 81.4 45.1 0 81.4-36.3 81.4-81.4 0-45.1-36.3-81.4-81.4-81.4zm-146.2 31.6c-21.67 2.5-40.87 8-55.48 15.2C34.15 231.5 24 244.2 24 256s10.15 24.5 30.32 34.6c14.48 7.2 33.48 12.6 54.88 15.2 4.1-4.7 8.4-9.4 12.9-13.9 11.2-11.2 22.9-20.9 34.7-28.9-.1-2.3-.2-4.6-.2-7 0-2.6.1-5.2.3-7.7-11.9-8-23.6-17.7-34.8-28.9-4.3-4.3-8.4-8.8-12.3-13.2zm292.8 0c-3.9 4.4-7.9 8.8-12.2 13.1-11.4 11.4-23.3 21.2-35.3 29.3.2 2.4.3 4.9.3 7.4 0 2.2-.1 4.5-.2 6.7 11.9 8 23.8 17.8 35.1 29.1 4.6 4.6 8.9 9.2 12.9 13.9 21.3-2.5 40.1-8 54.5-15.1 20.2-10.1 30.3-22.8 30.3-34.6s-10.1-24.5-30.3-34.6c-14.5-7.2-33.6-12.7-55.1-15.2zm-50.8 76.1c-9.1 33.4-35.3 59.8-68.5 69.3 6.3 8.6 13.6 17.2 21.9 25.4 22.7 22.7 47.8 38.4 69.2 45.6 21.4 7.1 37.5 5.3 45.8-3 8.4-8.3 10.2-24.5 3-45.9-7.1-21.4-22.9-46.5-45.6-69.2-8.4-8.4-17-15.8-25.8-22.2zm-191.6.4c-8.6 6.4-17.1 13.7-25.4 21.9-22.7 22.7-38.43 47.8-45.57 69.2-7.21 21.4-5.37 37.5 2.97 45.9 8.3 8.3 24.5 10.2 45.8 2.9 21.4-7.1 46.5-22.9 69.2-45.6 8.2-8.2 15.5-16.7 21.9-25.3-33.3-9.4-59.5-35.7-68.9-69zm88.6 72.4c-8 11.8-17.6 23.5-28.8 34.7-4.5 4.5-9.1 8.8-13.8 12.8 2.5 21.5 8 40.6 15.2 55.1 10.1 20.2 22.8 30.3 34.6 30.3s24.5-10.1 34.6-30.3c7.2-14.6 12.7-33.8 15.2-55.5-4.5-3.9-9-8.1-13.4-12.5-11.2-11.2-20.8-22.8-28.7-34.6-2.6.2-5.1.3-7.7.3-2.4 0-4.8-.1-7.2-.3z","fill-opacity":"1"}))),E5=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:e.color,stroke:e.color},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M266.033 32.42l-85.238 85.238v19.799L285.832 32.42h-19.799zm41.528 3.728L184.523 159.186l168.291 168.29L475.852 204.44 307.56 36.15zm172.02 190.02L374.542 331.205h19.799l85.238-85.238v-19.799zm-239.903 13.627l-9.9 9.9 32.527 32.528 9.9-9.9-32.527-32.528zm-22.627 22.627l-23.528 23.527h47.055l-23.527-23.527zm-41.528 41.527l-27.255 27.256h65.054l27.256-27.256h-65.055zm-45.255 45.256l-27.254 27.254h65.054l27.254-27.254h-65.054zm-27.254 45.254l23.527 23.527 23.527-23.527h-47.054zm-21.729 3.728l-9.898 9.899 32.527 32.527 9.898-9.898-32.527-32.527zm-38.767 18.899l-7.504 22.512 37.388 37.388 22.512-7.504v-12.414L54.93 417.086H42.518z","fill-opacity":"1"}))),_5=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:e.color,stroke:e.color},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M254.97 34.75c-30.48-.167-59.02 22.12-79.532 62.156-.075.146-.176.26-.25.406L43.063 326.783l-.22.343C18.5 365.413 13.377 401.515 28.47 428.03c15.08 26.498 48.627 40.126 93.5 37.908H387.063c44.887 2.227 78.445-11.404 93.53-37.907 15.09-26.51 9.956-62.595-14.375-100.874l-.22-.375L335.28 98.064c-.06-.12-.124-.225-.186-.344-20.948-40.263-49.626-62.803-80.125-62.97zm.06 18.844c13.576.13 26.453 6.93 38.126 18.343 11.606 11.347 22.554 27.453 33.406 48.344.063.122.125.224.188.345l115.22 201.563c.033.053.058.102.092.156l.125.22c12.92 20.274 21.395 38.06 25.282 53.967 3.91 16.01 3.063 30.648-3.845 42.408-6.908 11.76-19.222 19.533-34.78 23.906-15.444 4.34-34.508 5.656-57.408 4.5H137.625c-24.845 1.258-44.73-.32-60.405-5.125-15.78-4.84-27.68-13.45-33.72-25.69-6.04-12.237-5.862-26.797-1.5-42.436 4.333-15.535 12.815-32.608 24.875-51.53l.22-.377L183.562 120c.08-.157.17-.28.25-.438C194.51 98.644 205.32 82.6 216.875 71.376c11.642-11.307 24.58-17.913 38.156-17.78zm47.657 62.093l-28.53 224.032h-41.844L204.438 120.5c-1.404 2.556-2.81 5.205-4.22 7.97l-.093.218-.125.218-116.938 202.97-.093.187-.126.187C71.28 350.346 63.598 366.226 60 379.125c-3.598 12.9-3.108 22.322.25 29.125 3.358 6.803 9.925 12.28 22.47 16.125 12.542 3.845 30.67 5.547 54.405 4.313l.25-.032h234.313l.25.03c21.85 1.138 39.308-.28 51.875-3.81 12.566-3.533 19.822-8.827 23.687-15.407 3.865-6.58 4.978-15.545 1.813-28.5-3.166-12.958-10.732-29.374-23.094-48.72l-.126-.188-.125-.218-115.658-202.28-.093-.158-.064-.187c-2.5-4.828-4.99-9.326-7.47-13.532zM231.28 361.875h43.907v43.906H231.28v-43.905z","fill-opacity":"1"}))),Sx=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M182.344 19.906L28.78 173.47 255.626 487.5 481.938 174 328.375 20.47l-72.75 72.75-73.28-73.314zm-.938 27.75L188 54.28l67.625 67.626L323.25 54.28l6.625-6.624 6.594 6.625L452.56 170.376l5.625 5.625-4.656 6.438-190.31 263.78-7.595 10.5-7.563-10.5L57.72 182.44 53.062 176l5.624-5.625L174.78 54.28l6.626-6.624zm0 26.438L77.53 177.97l178.095 246.81L433.72 177.97 329.874 74.093l-61 60.97 66 66 6.594 6.592-6.595 6.625-78.25 78.25-6.625 6.626-6.594-6.625-78.25-78.25 13.188-13.218L250 272.72l65.063-65.033-59.407-59.406-.03.032-6.595-6.593-67.624-67.626zm1.406 24.78l109.032 109.032-13.22 13.22-109.03-109.032 13.22-13.22zm147.97 0l81.437 81.407L399 193.5l-81.406-81.406 13.187-13.22z",fill:e.color,"fill-opacity":"1"}))),kx=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M236.854 43.83c-20.16 13.472-36.99 24.95-45.3 34.426-4.717 5.377-6.786 9.82-7.056 13.88-.27 4.057 1.052 8.634 5.95 14.97l1.128 1.458c18.455-3.476 39.757-5.143 62.834-4.593 31.04.74 60.438 5.363 85.147 12.778-1.497-2.823-2.983-5.458-4.604-7.744-5.866-8.274-11.98-13.49-30.498-12.436l-.514.03-.51-.037c-32.236-2.307-48.314-12.643-56.16-25.792-5.796-9.718-7.625-19.235-10.416-26.938zm14.03 76.106c-33.25-.134-62.172 4.695-82.003 12.46-10.576 4.142-18.52 9.15-23.18 14.196-4.658 5.047-5.933 9.63-5.083 13.92.713 3.6 3.05 7.485 7.738 11.78 25.135-9.197 55.557-16.22 89.254-20.02 48.777-5.503 95.2-3.222 131.65 5.238 7.676 1.78 14.91 3.834 21.654 6.174-1.476-3.516-4.52-7.305-9.797-11.487-6.712-5.317-16.727-10.752-29.053-15.44-24.65-9.373-58.415-15.87-94.474-16.728-2.254-.054-4.49-.086-6.705-.094zm43.085 44.937c-16.56-.05-33.91.863-51.58 2.856-47.114 5.313-87.534 17.302-114.218 31.905-13.342 7.3-23.203 15.28-28.82 22.926-4.695 6.39-6.384 12.186-5.698 17.534 3.86-1.397 7.875-2.74 12.057-4.028 39.064-12.02 91.923-19.22 150.29-19.22 58.367 0 111.226 7.2 150.29 19.22 1.26.388 2.505.782 3.737 1.18 4.37-3.597 7.91-7.223 10.522-10.777 5.616-7.647 6.945-14.448 5.03-20.64s-7.217-12.243-17.025-18.148c-9.808-5.906-23.772-11.197-40.578-15.098-21.008-4.876-46.41-7.63-74.008-7.71zM256 231.153c-56.508 0-107.65 7.127-143.867 18.27-18.11 5.573-32.444 12.176-41.77 18.96-9.325 6.784-13.42 13.294-13.42 19.617s4.095 12.833 13.42 19.617c.07.05.144.1.213.15l57.447-28.722 63.22 32.01 64.827-32.012 62.36 32.012 65.615-31.977 57.38 28.69c.068-.05.143-.1.212-.15 9.325-6.785 13.42-13.295 13.42-19.618 0-6.323-4.095-12.833-13.42-19.617-9.326-6.784-23.66-13.387-41.77-18.96-36.218-11.143-87.36-18.27-143.867-18.27zm127.955 65.77L327.51 324.43 311.938 449l-15.875-2 15.205-121.635-55.338-28.408-55.332 27.326L215.938 447l-15.875 2-15.42-123.352-56.666-28.693-54.022 27.012L133.605 488h244.79l59.65-164.033-54.09-27.045z",fill:e.color,"fill-opacity":"1"}))),Rx=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M29.018 18.875c-2.63 10.297.047 21.72 8.044 29.72 10.035 10.034 25.46 11.696 37.29 5 5.914 5.346 11.686 10.373 17.357 15.12-.338 1.818-.522 3.687-.522 5.597 0 17.024 14.008 31 31.03 31 4.917 0 9.576-1.17 13.72-3.24 5.755 3.91 11.562 7.715 17.482 11.48-.474 2.142-.732 4.36-.732 6.635 0 17.024 14.008 31 31.03 31 7.577 0 14.55-2.772 19.964-7.345l13.873 8.125c-.263 1.535-.414 3.113-.414 4.732v38.904L114.07 255.27v160.064l138.284 80.053 138.283-80.053V255.27l-104.047-60.233V156.7c0-.983-.067-1.946-.172-2.897 5.393-3.07 10.655-6.08 15.697-8.994 5.226 3.992 11.736 6.377 18.762 6.377 17.023 0 31-13.976 31-31 0-1.867-.176-3.695-.498-5.476 6.047-3.987 12.012-8.058 17.978-12.298 3.97 1.855 8.38 2.9 13.02 2.9 17.023 0 31.03-13.976 31.03-31 0-1.973-.194-3.903-.553-5.78 5.273-4.45 10.697-9.14 16.318-14.116 11.6 5.714 26.135 3.778 35.736-5.822 7.998-7.998 10.675-19.42 8.045-29.72h-20.413c4.018 4.888 3.736 11.916-.85 16.5-4.887 4.888-12.55 4.89-17.437 0-4.585-4.585-4.867-11.614-.85-16.5h-20.414c-1.915 7.5-1 15.592 2.72 22.528-4.12 3.636-8.123 7.105-12.034 10.434-5.575-5.288-13.083-8.555-21.297-8.555-17.024 0-31.03 14.01-31.03 31.032 0 5.45 1.438 10.583 3.948 15.05-4.245 2.958-8.5 5.84-12.797 8.673-5.6-5.48-13.24-8.88-21.62-8.88-17.025 0-31.032 14.01-31.032 31.032 0 3.166.484 6.225 1.383 9.11-4.23 2.445-8.744 5.028-13.247 7.605-1.028-.994-2.112-1.91-3.246-2.716-6.692-4.768-14.72-6.882-22.714-7.014-7.996-.132-16.15 1.718-22.97 6.504-.807.565-1.586 1.186-2.337 1.85-4.367-2.573-8.764-5.164-12.947-7.622.642-2.47.984-5.056.984-7.716 0-17.024-14.007-31.032-31.03-31.032-7.977 0-15.29 3.075-20.812 8.094-4.47-2.838-8.894-5.69-13.248-8.596 2.267-4.297 3.56-9.178 3.56-14.34 0-17.025-13.977-31.033-31-31.033-8.26 0-15.804 3.304-21.388 8.642-4.515-3.827-9.1-7.833-13.79-12.067 3.063-6.575 3.715-14.03 1.94-20.98H68.568c4.018 4.887 3.736 11.915-.85 16.5-4.887 4.887-12.55 4.888-17.437 0-4.584-4.586-4.865-11.615-.848-16.5H29.018zm93.2 43.094c6.924 0 12.313 5.42 12.313 12.343s-5.387 12.312-12.31 12.312c-6.926 0-12.345-5.39-12.345-12.313 0-6.923 5.42-12.343 12.344-12.343zm260.157 0c6.924 0 12.344 5.42 12.344 12.343s-5.42 12.312-12.345 12.312c-6.924 0-12.344-5.39-12.344-12.313 0-6.923 5.42-12.343 12.345-12.343zM183.72 107.843c6.922 0 12.343 5.42 12.343 12.344 0 6.923-5.42 12.312-12.344 12.312-6.926 0-12.345-5.39-12.345-12.313 0-6.923 5.42-12.343 12.344-12.343zm137.155 0c6.924 0 12.313 5.42 12.313 12.344 0 6.923-5.39 12.312-12.313 12.312-6.924 0-12.344-5.39-12.344-12.313 0-6.923 5.42-12.343 12.345-12.343zm-69.164 38.013c4.695.078 9.355 1.536 12.18 3.55 2.826 2.012 4.01 3.805 4.01 7.292v27.52l-15.546-9-16.526 9.565V156.7c0-4.09 1.258-5.835 3.953-7.725 2.696-1.89 7.237-3.195 11.93-3.118zm-8.122 56.03v32.728l-74.182 43.21-28.558-16.462 102.74-59.476zm18.687.67l102.16 59.138-28.624 16.502-73.533-42.83-.002-32.81zm-9.988 48.62l72.256 42.085-.002 84.316-72.253 42.086-72.256-42.086.003-84.314 72.254-42.088zm.465 18.33l-56.883 98.15v.724l56.566 32.977L309 368.38v-66.085l-56.248-32.79zm-119.994 8.764l28.586 16.48v84.027l-28.586 16.48V278.272zm239.19.668l-.003 115.648-28.715-16.553v-82.54l28.717-16.555zM333.493 393.99l28.414 16.38-99.63 57.677v-32.574l71.216-41.483zm-161.77.375l71.864 41.86v32.494l-100.21-58.013 28.345-16.342z",fill:e.color,"fill-opacity":"1"}))),C5=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M94.055 21.9L18.998 96.96l42.727 23.6-26.98 26.952L142.35 212.39c-40.443 70.148-30.72 161.07 29.2 220.958 71.605 71.606 187.737 71.587 259.356 0 71.62-71.587 71.642-187.654.037-259.22-59.915-59.878-150.896-69.57-221.084-29.177L144.95 37.415l-8.44 8.432-18.588 18.57L94.055 21.9zm47.224 45.598l62.337 103.275 8.098-5.248c44.21-28.663 99.014-34.044 147.166-16.078-1.16-.026-2.328-.04-3.503-.04-38.988 0-70.594 14.807-70.594 33.073 0 18.27 31.606 33.075 70.594 33.075 31.53 0 58.225-9.684 67.287-23.05 15.942 17.34 27.492 37.224 34.65 58.253-7.76-3.387-18.28-6.706-30.902-9.563-31.383-7.1-75.547-11.615-124.305-11.615-48.757 0-92.92 4.514-124.304 11.615-13.71 3.102-24.997 6.75-32.893 10.438 4.34-12.997 10.343-25.568 18.018-37.383l5.263-8.104-103.33-62.3 13.894-13.88 46.937 25.923 27.914-27.915-26.18-46.635 13.855-13.842zm-1.087 201.287c.482.28.982.56 1.506.84 7.89 4.22 20.41 8.487 36.103 12.037 31.383 7.1 75.547 11.615 124.304 11.615 48.758 0 92.922-4.514 124.305-11.615 15.687-3.55 28.203-7.813 36.094-12.033 1.236 5.837 2.153 11.727 2.746 17.643-9.432 4.277-21.204 7.893-35.074 11.032-33.205 7.513-78.27 12.037-128.07 12.037-49.802 0-94.866-4.524-128.07-12.037-14.67-3.32-27-7.17-36.69-11.776.625-5.952 1.57-11.876 2.845-17.745z",fill:e.color,"fill-opacity":"1"}))),A5=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M149.25 18.313L168.156 115c-.274.174-.54.356-.812.53L94 97.876l17.47 74.22c-.655 1.046-1.306 2.093-1.94 3.155l-91.28-8.875 73 51.156c-.808 2.82-1.546 5.658-2.22 8.532l-64.53 40 63.906 39.22c.28 1.282.57 2.57.875 3.843l-46.468 36.563 55.97-7.907c3.506 8.184 7.588 16.056 12.218 23.564l-17 72.344 64.344-15.47-9.094 75.563 52.188-58.06c7.553 2.82 15.352 5.14 23.343 6.936l37.407 61.094L299 443.656c5.876-1.156 11.655-2.6 17.313-4.312l29.406 31.03-5.47-40.187c7.902-3.694 15.49-7.96 22.72-12.718l67.405 16.217-15.906-67.656c5.62-8.506 10.555-17.504 14.686-26.936l47.563 6.594-39.095-30.438c1.175-4.23 2.192-8.526 3.063-12.875l59.187-36.313-59.75-37.03c-1.686-7.793-3.87-15.397-6.53-22.782l59.5-47.656-73.94 17.03c-1.645-2.777-3.367-5.507-5.155-8.186l16.375-69.563-70.344 16.938c-5.638-3.56-11.49-6.824-17.53-9.75l3.22-63.376-37.22 51c-2.527-.64-5.088-1.215-7.656-1.75l-38.656-63.156-39.282 64.19c-4.772 1.127-9.475 2.438-14.094 3.936L149.25 18.312zm115 88.874c88.423 0 159.875 71.484 159.875 159.907 0 88.423-71.452 159.875-159.875 159.875s-159.906-71.453-159.906-159.876 71.483-159.906 159.906-159.906zm49.03 44.157c-5.278.115-10.207 2.383-16.936 9.562l-6.563 7-6.81-6.72c-7.39-7.28-13.218-9.29-19.126-9.03-5.91.26-12.856 3.336-20.625 9.625l-6.22 5.032-5.906-5.343c-8.9-8.053-16.485-10.44-23.75-10.064-5.288.273-10.775 2.265-16.25 5.75l40.97 73.688c15.445 9.445 47.003 13.015 68.717 2.094l39.626-73.375c-7.51-3.063-14.258-6.202-20.094-7.407-2.112-.436-4.07-.755-5.968-.812-.356-.01-.71-.008-1.063 0zm-90 96.187c-18.017 12.748-32.488 34.71-38.093 66.876-5.436 31.197 3.127 52.266 18.282 66.625 15.154 14.36 37.9 21.77 61 21.47 23.098-.3 46.134-8.31 61.624-22.938 15.49-14.626 24.25-35.456 19.28-65.218-5.132-30.736-18.383-52.115-35.155-65.063-28.498 15.077-64.154 11.872-86.94-1.75z","fill-opacity":"1"}))),Lx=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0) rotateZ(-90deg)",style:""},a("path",{d:"M136.564 31.01l239.67 149.595c-12.418 21.234-20.756 28.302-45.027 46.936l156.3-26.33-85.603-125.474c4.936 24.85 8.85 38.5.75 60.49L136.568 31.01h-.004zM21.524 42.75l83.13 325.893c-21.017 5.232-30.98 3.262-58.875-3.96l124.046 113.45 13.426-166.844c-10.836 23.322-15.94 37.197-34.342 46.82L21.523 42.75zm64.353.215l252.2 353.16c-23.285 16.947-36.38 19.583-73.83 24.9l200.66 71.74L407.7 286.944c-2.477 33.743-2.313 53.14-20.37 74.09L85.877 42.965z",fill:e.color,"fill-opacity":"1"}))),kn=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M492.656 20.406l-118.594 56.22L413.875 86l-86.97 86.97-305.5 259.374.69.687 104.75-47.467-46.376 105.843.905.906 272.5-319.875 73.22-73.218 9.342 39.81 56.22-118.624zm-473.25.063c-1.347 23.43 5 39.947 16.563 52.218l24.093 302.28 17.562-14.874-21.72-272.438c57.975 31.954 169.096 25.165 216.907 106.72l66.625-56.564 1.22-1.218C292.74 38.666 86.01 99.716 19.406 20.47zm359.531 151.56l-1.156 1.157-57.25 67.188c82.006 47.945 75.587 159.267 107.283 218.03l-272.157-24.5-14.812 17.408 301.562 27.125c12.48 12.283 29.4 19.084 53.688 17.687-79.95-67.2-18.36-275.754-117.156-324.094z",fill:e.color,"fill-opacity":"1"}))),Ix=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M201.837 53.087L177.547 21h55.676zM278.766 21l30.82 31.465L333.065 21h-54.298zm12.428 38.12L256 23.18l-35.25 35.985h70.5zm82.091 0l-23.511-30.855-23.003 30.9h46.57zM161.096 28.683L138.5 59.188h45.746zm51.248 48.242L256 196.821l43.69-119.896h-87.38zm-73.166 0l90.384 99.017-36.153-99.017h-54.231zm233.712 0h-54.23l-36.076 99.017zm-19.455 48.142l-29.059 31.838a154.298 154.298 0 0 1 85.786 138.119C410.14 380.008 340.995 449.197 256 449.197s-154.14-69.144-154.14-154.14a154.298 154.298 0 0 1 85.787-138.119L158.588 125.1a196.044 196.044 0 0 0-98.53 169.924C60.057 403.056 147.955 491 256 491c108.044 0 195.943-87.899 195.943-195.943a196.044 196.044 0 0 0-98.542-169.99z",fill:e.color,"fill-opacity":"1"}))),Ox=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("path",{d:"M0 0h512v512H0z",fill:"rgba(0, 0, 0, 0)","fill-opacity":"0"}),a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M256 16c25 24 100 72 150 72v96c0 96-75 240-150 312-75-72-150-216-150-312V88c50 0 125-48 150-72z",fill:e.color,"fill-opacity":"1"}))),S5=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M138.188 38.875C67.478 79.483 19.624 155.295 19.624 242.688c0 87.858 48.383 163.966 119.72 204.406-47.45-46.694-78.25-120.545-78.25-204.406 0-83.27 30.218-157.06 77.093-203.813zm237.687 2.313c45.574 46.86 74.75 119.59 74.75 201.5 0 82.128-29.53 154.623-75.313 201.468C444 403.043 490.344 328.56 490.344 242.686c0-85.87-46.022-160.33-114.47-201.5zm-179.28 46.718c-61.425 24.617-105.126 84.56-105.126 154.78 0 70.413 43.995 130.262 105.686 154.75-41.348-30.252-69.47-88.174-69.47-154.748 0-66.367 27.774-124.45 68.908-154.782zm142.5 8.78c35.18 31.963 57.81 85.566 57.81 146 0 61.134-23.1 114.77-58.967 146.595 52.006-28.25 87.593-83.246 87.593-146.592 0-62.886-35.052-117.566-86.436-146zm-115.22 44.064c-42.65 14.34-73.125 54.454-73.125 101.938 0 47.91 30.968 88.504 74.22 102.5-27.047-18.556-45.97-57.28-45.97-102.5 0-44.573 18.457-83.072 44.875-101.938zm78.094 3.344c23.836 19.926 39.342 56.72 39.342 98.594 0 42.514-15.99 79.48-40.437 99.187 38.416-16.463 65.375-54.746 65.375-99.188 0-44-26.476-81.867-64.28-98.593zM262 211.344c-20.3 0-36.75 16.45-36.75 36.75 0 15.484 9.573 28.743 23.125 34.156v213.125h27.25V282.25c13.558-5.41 23.125-18.668 23.125-34.156 0-20.3-16.45-36.75-36.75-36.75z","fill-opacity":"1"}))),Px=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M132.684 31.388a1.443 1.443 0 0 0-.29.004c-.396.048-.768.25-1.398.609-1.26.719-3.215 2.597-5.039 5.484-3.648 5.776-6.593 15.148-7.516 22.34-2.004 15.623 3.42 23.692 13.293 31.436 5 3.92 11.236 7.328 17.914 10.515-3.23-13.668-3.189-27.344-3.732-38.859-.419-8.882-1.232-16.509-3.107-21.623-1.853-5.052-3.884-7.627-8.987-9.62-.472-.156-.833-.262-1.138-.286zm111.212 11.478c-27.446.122-54.797 1.187-81.492 2.78.891 5.354 1.23 10.856 1.492 16.423.048 1.01.092 2.025.137 3.037 21.693 20.288 34.01 21.811 44.826 20.485 5.516-.677 10.93-2.497 17.13-3.977.993-.237 2.029-.455 3.081-.658 8.481-8.258 19.868-14.662 33.342-20.033A61.785 61.785 0 0 1 287.7 56.56c8.175.303 15.944 2.17 22.854 5.03 6.499 2.69 12.318 6.169 17.218 10.23 2.24-.62 4.518-.928 6.819-.967 7.174-.12 14.565 2.29 21.66 5.385 11.352 4.952 22.62 12.632 31.791 20.908 2.124 1.917 4.14 3.82 6.033 5.737l16.018-3.11 2.63-1.925c13.21-9.668 22.782-20.853 30.01-31.409-56.662-17.009-121.396-23.16-186.43-23.564-4.136-.026-8.271-.028-12.406-.01zm-142.01 7.254a4102.267 4102.267 0 0 0-36.077 3.254c1.134 11.198 6.268 21.673 18.056 32.58l3.17 2.934 22.328 4.808c-6.756-9.505-10.64-21.648-8.777-36.162.309-2.406.74-4.894 1.3-7.414zm183.048 24.371c-5.166.056-10.503 1.019-15.856 3.153C255.233 83.162 245 89.696 239.15 96.478c-5.85 6.78-7.914 13.268-6.27 22.378.093.51.196 1.012.302 1.51l33.588 7.235 69.66-13.526c-4.783-5.828-9.006-12.019-12.248-18.79-2.489-5.199-10.313-12.84-20.512-17.061-5.1-2.111-10.69-3.475-16.533-3.702-.73-.028-1.465-.039-2.203-.03zm57.095 15.85c3.411 5.378 7.23 10.978 11.621 16.22a150.804 150.804 0 0 0 3.252 3.54l15.147-2.94c-7.09-5.78-15.437-11.126-22.996-14.424a45.357 45.357 0 0 0-7.024-2.396zm-174.496.594c.94 5.71 2.199 11.12 3.799 16.109l43.184 9.303a43.858 43.858 0 0 1 1.423-13.678 70.877 70.877 0 0 1-4.888.787c-11.8 1.447-26.322-.936-43.518-12.521zM91.93 108.356l-8.383 76.563 94.193 2.305c21.335-19.254 48.606-30.866 78.479-30.866 31.857 0 60.758 13.206 82.652 34.805l77.983 1.908-5.041-75.295-145.231 28.198zm164.289 66.002c-58.224 0-106.217 52.74-106.217 119.13 0 66.39 47.993 119.128 106.217 119.128 58.223 0 106.217-52.739 106.217-119.129 0-66.39-47.994-119.129-106.217-119.129zM75.785 202.733l-6.281 62.846C63.95 321.138 77.74 377.93 99.787 435.145l1.66 4.31-2.531 3.86c-7.597 11.588-19.783 21.862-33.562 31.42 14.767 1.264 29.76 2.284 44.917 3.102l22.924-29.006 14.121 11.16-14.927 18.89c14.169.58 28.459.997 42.832 1.278l1.113-25.775 17.984.777-1.093 25.283c16.038.191 32.158.21 48.296.127v-25.629h18v25.5c16.873-.173 33.736-.457 50.543-.818l-3.898-24.117 17.77-2.873 4.296 26.58c16.438-.401 32.687-.872 48.893-1.346l-13.9-23.219 15.445-9.246 19.074 31.867c16.498-.494 32.835-.987 48.902-1.44-12.73-11.767-25.39-24.23-32.433-39.46l-1.111-2.402.367-2.623s12.397-89.64 12.533-132.92c.073-23.34-2.226-55.719-5.145-87.25l-66.455-1.625c16.34 23.275 26.034 52.45 26.034 83.937 0 75.138-55.176 137.13-124.217 137.13-69.042 0-124.217-61.992-124.217-137.13 0-33.654 11.075-64.665 29.502-88.656zm237.53 41.409c6.184-.143 12.236 2.243 17.081 5.77 6.891 5.014 12.332 12.414 15.83 21.1 6.998 17.373 5.063 41.493-15.263 57.376-17.671 13.808-38.32 16.338-57.145 10.445a79.905 79.905 0 0 1-6.324-2.295c-12.764 3.93-27.601 9.065-42.97 9.707-16.562.692-34.526-5.338-46.34-23.398-5.325-8.14-10.014-18.55-11.545-29.149-.766-5.3-.78-10.759 1.148-16.115 1.929-5.356 6.402-10.43 12.367-12.79l.145-.056.146-.052a32.522 32.522 0 0 1 10.29-1.885c6.457-.127 12.625 1.658 17.83 4.586 7.93 4.46 14.327 11 20.703 17.789.692.737 1.384 1.481 2.076 2.222 29.671 1.337 40.027-5.507 47.39-13.54 3.755-4.098 6.69-8.995 10.442-14.147 3.752-5.152 8.697-10.777 16.314-13.93a21.561 21.561 0 0 1 7.824-1.638zm1.013 17.925a4.529 4.529 0 0 0-1.955.346c-3.299 1.365-5.61 3.723-8.648 7.895-3.039 4.171-6.427 9.934-11.721 15.71-8.033 8.765-20.623 16.386-41.225 18.745 7.154 6.034 14.434 10.94 21.575 14.23l13.15 4.242c11.839 2.249 22.923-.082 34.375-9.03 14.157-11.063 14.339-24.833 9.652-36.468-2.343-5.817-6.195-10.7-9.726-13.271-2.318-1.687-4.071-2.343-5.477-2.399zm-122.54 18.5c-1.556.022-3.21.362-5.126 1.028-1.288.523-1.468.776-1.94 2.086-.49 1.365-.757 4.062-.269 7.443.977 6.761 4.824 15.8 8.793 21.867 8.623 13.182 17.991 15.796 30.527 15.272 6.35-.266 13.304-1.726 20.454-3.641-11.335-8.295-20.188-18.721-28.08-27.125-6.088-6.482-11.659-11.753-16.407-14.424-2.374-1.335-4.366-2.162-6.426-2.422a10.956 10.956 0 0 0-1.527-.084z","fill-opacity":"1"}))),Mx=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M171 42l-20 48h210l-20-48H171zm-19.45 65.55v296.9h208.9v-296.9h-208.9zM151 422l20 48h170l20-48H151z",fill:e.color,"fill-opacity":"1"}))),k5=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("path",{d:"M0 0h512v512H0z",fill:"rgba(0, 0, 0, 0)","fill-opacity":"0"}),a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M20.563 20.844v44.593l73.124 72.907c4.878-7.945 10.962-15.65 18.126-22.813 7.152-7.15 14.825-13.194 22.75-18.06L58.156 20.843H20.563zm159.812 81.062c-.566-.005-1.138.014-1.72.03-3.097.097-6.42.522-9.905 1.283-13.942 3.043-29.973 11.753-43.75 25.53-13.777 13.777-22.487 29.808-25.53 43.75-2.905 13.296-.81 23.935 5.28 30.78 5.4-20.354 17.587-41.18 35.594-59.186 18.024-18.024 38.876-30.203 59.25-35.594-4.718-4.223-11.25-6.526-19.22-6.594zm40.47 22.156c-3.977.096-8.19.624-12.595 1.563-17.62 3.755-37.603 14.572-54.72 31.688C136.417 174.428 125.6 194.38 121.845 212c-3.755 17.62-.633 32.086 8.47 41.188.905.906 1.894 1.744 2.905 2.53 4.635-31.49 18.506-59.084 39.436-80 20.69-20.674 47.894-34.465 78.938-39.25-.678-.837-1.393-1.642-2.156-2.405-6.827-6.827-16.668-10.288-28.594-10zm55.343 28.657c-36.56.167-68.017 13.906-90.344 36.218-2.24 2.24-4.375 4.58-6.438 7 22.43 11.654 37.317 26.57 46.313 43.062 10.575 19.392 12.977 40.393 12.155 60.03l-18.688-.78c.736-17.565-1.448-34.863-9.875-50.313-7.466-13.688-19.874-26.317-41.03-36.687-18.155 29.68-24.497 68.66-12.657 111.844 36.472 3.146 72.888 24.29 86.375 66.25 45.025-6.375 119.336 26.557 127.22 64.25 39.96 18.477 84.588 33.368 125.717 45.094-11.33-35.873-24.38-81.097-40.718-116.97-34.53-21.506-49.702-62.82-46.626-106.343-40.336-30.105-70.18-69.518-74.78-112.625-19.782-6.95-38.806-10.113-56.627-10.03zm-9.532 45.5c10.293 52.54 58.667 86.17 100.625 93.718l-3.31 18.375c-11.09-1.996-22.478-5.503-33.595-10.438-6.93 19.615 1.34 41.252 19.75 60 19.638 19.998 50.412 34.906 81.094 35.97l-.658 18.686c-36.154-1.25-70.657-18.014-93.78-41.56-.98-1-1.936-2.004-2.876-3.033-15.47-12.362-27.615-16.12-38.47-15.5-10.918.624-21.598 6.012-33.03 15.063l-11.594-14.656c13.043-10.327 27.295-18.134 43.563-19.063 6.378-.363 12.9.373 19.563 2.283-5.637-15.188-6.428-31.344-.25-46.813-31.03-18.508-57.392-48.844-65.344-89.438l18.312-3.593z","fill-opacity":"1"}))),Dx=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M256 38.013c-22.458 0-66.472 110.3-84.64 123.502-18.17 13.2-136.674 20.975-143.614 42.334-6.94 21.358 84.362 97.303 91.302 118.662 6.94 21.36-22.286 136.465-4.116 149.665 18.17 13.2 118.61-50.164 141.068-50.164 22.458 0 122.9 63.365 141.068 50.164 18.17-13.2-11.056-128.306-4.116-149.665 6.94-21.36 98.242-97.304 91.302-118.663-6.94-21.36-125.444-29.134-143.613-42.335-18.168-13.2-62.182-123.502-84.64-123.502z",fill:e.color,"fill-opacity":"1"}))),R5=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M47.688 19.156c-.376-.003-.748.016-1.126.032-6.044.245-12.252 2.815-17.28 7.843-10.057 10.058-10.297 24.924-1.72 33.5 3.94 3.94 9.21 6.034 14.72 6.157l3.062-3.093L67.5 41.437l1.406-1.406c-.123-5.515-2.217-10.78-6.156-14.718-4.022-4.02-9.423-6.114-15.063-6.156zm28.28 40.25L63.063 72.313c13.653 33.245 37.167 56.274 67.438 73.718l18.75-18.75C130.385 97.324 105.988 74.1 75.97 59.407zm129.344 38.25L99.906 203.094l23.844 23.844c29.782-40.624 65.415-75.33 105.5-105.344l-23.938-23.938zm12.813 56.406c-22.467 18.703-43.183 39.077-61.875 61.438 34.053 43.905 76.278 82.775 122.406 112.375-20.858 1.702-40.402 1.278-58.562-1.28 34.15 24.845 71.227 45.65 110.25 61.155-28.237 2.647-54.58 2.25-78.97-1.188 72.535 52.773 155.472 91.19 243.064 107.47-20.59-94.733-58.107-178.44-109.844-249.094 3.565 24.952 4.537 52.326 2.47 82.312-16.075-41.127-36.744-78.823-61.564-112.72 2.653 18.574 3.49 38.852 2.22 60.94-29.64-47.287-66.485-88.237-109.595-121.408z",fill:e.color,"fill-opacity":"1"}))),L5=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M146.326 6.15l87.813 128.725-60.87-39.916 34.925 62.864L38.56 48.06h-.003c40.207 71.33 82.046 134.913 129.23 191.764L303.94 103.67c-45.164-37.052-96.674-69.324-157.614-97.52zm347.145 9.496L372.983 61.713l-214.59 214.09 13.213 13.215L383.367 77.75l78.078-29.85-29.402 78.56-211.746 211.25 13.213 13.214 214.61-214.106 45.35-121.172zM407.177 89.13l-259.95 259.95c-11.956-17.32-11.687-40.444.25-57.764l-31.26-31.255c-28.637 34.832-28.588 85.102.167 119.864L52.336 443.97c-2.528-.95-5.184-1.43-7.842-1.43-5.74 0-11.476 2.216-15.908 6.647-8.864 8.865-8.866 22.953 0 31.82 8.864 8.863 22.954 8.863 31.818 0 6.512-6.513 8.234-15.844 5.178-23.853l64.057-64.056c34.788 28.437 85.12 28.65 119.817.203l-31.262-31.26c-17.28 11.84-40.352 11.907-57.68.18l259.876-259.874-13.214-13.215zm-2.196 117.01L268.186 342.937c55.29 48.057 118.235 90.138 192.464 127.216L398.783 351.41l102.78 68.85-117.75-164.645 86.816 42.908c-20.895-33.04-42.523-63.772-65.65-92.382z",fill:e.color,"fill-opacity":"1"}))),I5=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M259.632 28.52c-15.21 29.776-26.798 59.26-36.147 88.652l-3.888 12.226-10.172-7.82c-23.276-17.89-44.87-38.798-63.885-63.892 1.717 33.39 6.423 64.716 13.022 94.843l2.746 12.533-12.72-1.686c-29.102-3.856-58.257-11.165-87.27-23.39 18.18 28.057 37.92 52.835 58.7 75.626l8.64 9.48-11.856 4.9c-27.133 11.213-56.04 19.458-87.28 23.376 29.775 15.208 59.26 26.797 88.65 36.146l12.227 3.888-7.82 10.172c-17.892 23.276-38.8 44.87-63.893 63.885 33.39-1.716 64.716-6.422 94.843-13.02l12.533-2.747-1.685 12.72c-3.856 29.102-11.165 58.257-23.39 87.27 28.057-18.18 52.835-37.92 75.626-58.7l9.48-8.64 4.9 11.856c11.213 27.132 19.458 56.038 23.376 87.28 15.21-29.776 26.798-59.26 36.147-88.652l3.888-12.226 10.172 7.82c23.276 17.89 44.87 38.798 63.885 63.892-1.717-33.39-6.423-64.716-13.022-94.843l-2.746-12.532 12.72 1.685c29.102 3.856 58.257 11.165 87.27 23.39-18.18-28.057-37.92-52.835-58.7-75.626l-8.64-9.48 11.856-4.9c27.133-11.213 56.038-19.458 87.28-23.376-29.775-15.208-59.26-26.797-88.65-36.146l-12.227-3.888 7.82-10.172c17.89-23.276 38.798-44.87 63.892-63.885-18.057.927-35.508 2.736-52.496 5.24L276.195 276.4c-6.194 6.236-14.033 9.328-21.386 9.077-7.354-.253-13.934-3.538-18.73-8.396-9.59-9.716-11.724-27.68.407-40.166l.045-.047 118.098-118.1c4.217-19.508 10.193-39.013 18.385-58.454-28.058 18.182-52.836 37.92-75.627 58.7l-9.48 8.642-4.9-11.857C271.794 88.67 263.55 59.763 259.63 28.52zm224.03.818l-86.112 54.8v31.313h31.314l54.8-86.112zM379.55 119.31l-8.37 8.372-121.783 121.78c-6.11 6.288-4.212 11.222-.505 14.977 1.853 1.877 4.235 2.972 6.533 3.05 2.297.08 4.797-.547 8.002-3.773l.01-.01L393.69 133.45h-14.14v-14.14zM144.64 374.507a662.042 662.042 0 0 1-24.73 4.443l-92.39 92.39 14.14 14.14 101.163-101.162a341.49 341.49 0 0 0 1.817-9.812z",fill:e.color,"fill-opacity":"1"}))),Ci=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M491.844 22.533l-83.42 14.865L196.572 249.25c3.262 4.815 5.37 10.72 5.37 16.932 0 5.863-1.71 11.35-4.643 15.996-5.065-1.606-10.448-2.477-16.027-2.477-15.724 0-29.904 6.89-39.69 17.796l-9.112-9.113 17.237-17.237c-4.515-5.772-8.907-11.645-13.19-17.6l-19.443 19.44-13.215-13.215 21.828-21.827c-4.403-6.59-8.67-13.278-12.792-20.068l-40.802 40.803 58.314 58.314c-1.613 5.075-2.49 10.47-2.49 16.063 0 7.666 1.65 14.96 4.592 21.564l-72.14 72.14-14.56-14.56L21.013 437l14.558 14.56-8.607 8.608 27.246 27.246 8.606-8.61 14.56 14.56 24.798-24.8-14.557-14.556 72.158-72.16c6.586 2.922 13.858 4.562 21.498 4.562 5.593 0 10.988-.877 16.063-2.49l58.363 58.363L296.5 401.48c-6.797-4.127-13.486-8.395-20.068-12.793l-21.83 21.83L241.39 397.3l19.442-19.44c-5.962-4.29-11.835-8.683-17.603-13.194l-17.238 17.238-9.16-9.16c10.905-9.785 17.795-23.965 17.795-39.69 0-5.346-.806-10.51-2.285-15.39 4.703-3.04 10.288-4.817 16.265-4.816 6.21 0 11.776 1.77 16.52 4.955L476.98 105.95l14.864-83.417zm-66.227 53.012l13.215 13.215-191.684 191.68-13.214-13.213L425.617 75.545zM181.273 298.39c19.257 0 34.665 15.41 34.665 34.665 0 19.256-15.408 34.666-34.665 34.666-19.256 0-34.666-15.41-34.666-34.665s15.41-34.666 34.666-34.666z",fill:"#fff","fill-opacity":"1"}))),Ai=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:e.color,stroke:e.color},a("path",{d:"M0 0h512v512H0z",fill:"rgba(0, 0, 0, 0)","fill-opacity":"1"}),a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M138.563 16.063C83.49 42.974 41.459 86.794 16.124 138.53l59.938 29.407c18.988-38.845 50.47-71.807 91.812-92l-29.313-59.874zm234.843.156L344 76.124c38.846 18.99 71.807 50.47 92 91.813l59.875-29.313c-26.913-55.073-70.732-97.073-122.47-122.406zm62.53 327.717c-18.982 38.865-50.53 71.673-91.873 91.875l29.437 60.125c55.116-26.925 97.085-70.76 122.375-122.562l-59.938-29.438zm-359.936.125l-60 29.375c26.928 55.097 70.776 97.082 122.563 122.375l29.406-59.937C129.122 416.885 96.192 385.4 76 344.062z",fill:e.color,"fill-opacity":"1"}))),Si=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M122.1 17.52L186.6 161l104.5-44.9-44.5-98.58h-51.1l35.8 80.75-16.4 7.23-39-87.98zm265.2 77.75L110.4 215.2l12 28.2 278.1-119.8zm-69.7 98.53l-23.9 11.5c12.8 5.4 26 13.7 38.3 15.6 18.1-13.1-4.9-30.5-14.4-27.1zm-60.7 11.1l-36.2 16.7c-11.9 18.4-14.8 46-18.2 69.7 20.6 30.1 30.5 62.4 39.5 94 17.9-3.7 32.2-6.8 48.7-11.5-24.4-38.7-42.2-78.4-53.6-118.9 0 0 5.6-10.5 8.4-15.8 11.9 7.3 24.9 12.4 36.6 9.9 10-4.1 21.5-7.9 27.7-16.6-17.6-6.9-37.1-17.5-52.9-27.5zm92.6 26.6c-10.8 5.8-23 11.2-31.9 18.9-5.3 4.7-12.1 8.8-20.5 12.3 1.1 7.3-.1 19.6 8.1 18.8 20.5-6.2 40.5-15 59.7-28.4-.1-9.2-8-24.1-15.4-21.6zm-90.2 34.2c11.3 34.8 27.6 69 49.3 102.6 4.7-1.6 9.3-3.3 13.5-5-7.3-6.2-11.7-15.9-12-25.3-16.6-4.1-20.8-29.4-17.2-41.6-9.5-7-13.6-18.1-14.2-28.7-7.2.7-13.6-.1-19.4-2zm103.3 10.4c-13.6 8.1-27.6 14.3-41.6 19.2l-9 4.4c-4.4 4.6-4.5 15.6 1 20.3 9.7 3.5 50.1-21.2 57.7-27.9 1.3-5.8-3.5-14.9-8.1-16zm-178.1 21.2L19.1 335.8V495c95.7-25.3 146.9-47.1 209.7-90.2-10.8-38-20.5-74.8-44.3-107.5zm187.8 16.9c-13.6 10.2-27.2 16.2-42.9 21.4-.4 6.7 2.5 18.1 12.1 16 19.9-4.3 36.3-17.5 36.6-24.6.2-3.7-2-10.5-5.8-12.8zm-7.5 48.6c-14.3 8.2-31.5 15.9-46.7 21.4l18.7 31.8 39.3-18.8zm22.2 49.1L342.9 433l3.1 21.9c15.1.5 46.6-11.3 55.4-26.1v-.1z",fill:e.color,"fill-opacity":"1"}))),Nx=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M169.344 35.844A9.5 9.5 0 0 0 160 45.47v117.343H45.5a9.5 9.5 0 1 0 0 19H160v151H45.5a9.5 9.5 0 1 0 0 19H160V466.5a9.5 9.5 0 1 0 19 0V351.812h151V466.5a9.5 9.5 0 1 0 19 0V351.812h117.406a9.5 9.5 0 1 0 0-19H349v-151h115.563a9.5 9.5 0 1 0 0-19H349V45.47a9.5 9.5 0 0 0-9.656-9.626A9.5 9.5 0 0 0 330 45.47v117.343H179V45.47a9.5 9.5 0 0 0-9.656-9.626zM86 35.97c-13.07 0-25.77 4.94-35.156 13.843C41.458 58.715 36 71.06 36 83.874c0 12.814 5.458 25.16 14.844 34.063C60.23 126.84 72.93 131.81 86 131.81c13.07 0 25.77-4.97 35.156-13.875C130.542 109.034 136 96.69 136 83.876c0-12.814-5.458-25.16-14.844-34.063C111.77 40.91 99.07 35.97 86 35.97zm170 0c-13.07 0-25.77 4.94-35.156 13.843C211.458 58.715 206 71.06 206 83.874c0 12.814 5.458 25.16 14.844 34.063C230.23 126.84 242.93 131.81 256 131.81c13.07 0 25.77-4.97 35.156-13.875C300.542 109.034 306 96.69 306 83.876c0-12.814-5.458-25.16-14.844-34.063C281.77 40.91 269.07 35.97 256 35.97zm138.844 9.218A9.5 9.5 0 0 0 388.25 61.5l22.375 22.375L389 105.5a9.502 9.502 0 1 0 13.438 13.438l21.625-21.626 22.375 22.407a9.502 9.502 0 1 0 13.437-13.44L437.5 83.876l21.625-21.625a9.5 9.5 0 0 0-6.906-16.313 9.5 9.5 0 0 0-6.533 2.876l-21.625 21.624-22.375-22.374a9.5 9.5 0 0 0-6.843-2.876zM86 54.968c8.137 0 16.485 3.337 22.094 8.657 5.608 5.32 8.937 12.95 8.937 20.25 0 7.3-3.328 14.96-8.936 20.28-5.61 5.32-13.957 8.626-22.094 8.626s-16.485-3.304-22.094-8.624c-5.608-5.32-8.937-12.98-8.937-20.28 0-7.302 3.328-14.93 8.936-20.25 5.61-5.32 13.957-8.657 22.094-8.657zm170 0c8.137 0 16.485 3.337 22.094 8.657 5.608 5.32 8.937 12.95 8.937 20.25 0 7.3-3.328 14.96-8.936 20.28-5.61 5.32-13.957 8.626-22.094 8.626s-16.485-3.304-22.094-8.624c-5.608-5.32-8.937-12.98-8.937-20.28 0-7.302 3.328-14.93 8.936-20.25 5.61-5.32 13.957-8.657 22.094-8.657zm-77 126.844h151v151H179v-151zm245.063 26.282c-13.07 0-25.77 4.94-35.157 13.844-9.386 8.903-14.844 21.248-14.844 34.062 0 12.814 5.458 25.16 14.844 34.063 9.386 8.903 22.087 13.875 35.156 13.875 13.07 0 25.77-4.972 35.157-13.875 9.385-8.904 14.842-21.25 14.842-34.063 0-12.814-5.457-25.16-14.843-34.063-9.387-8.903-22.088-13.843-35.158-13.843zm-197.25 9.22a9.5 9.5 0 0 0-6.625 16.31L242.563 256l-21.625 21.625a9.502 9.502 0 1 0 13.437 13.438L256 269.438l22.375 22.375a9.502 9.502 0 1 0 13.438-13.438L269.438 256l21.625-21.625a9.5 9.5 0 0 0-6.907-16.313 9.5 9.5 0 0 0-6.53 2.875L256 242.563l-22.375-22.375a9.5 9.5 0 0 0-6.813-2.875zm197.25 9.78c8.136 0 16.485 3.305 22.093 8.625 5.61 5.32 8.938 12.98 8.938 20.28 0 7.3-3.33 14.93-8.938 20.25-5.608 5.32-13.957 8.656-22.094 8.656-8.136 0-16.485-3.336-22.093-8.656-5.61-5.32-8.94-12.95-8.94-20.25 0-7.3 3.33-14.96 8.94-20.28 5.607-5.32 13.956-8.626 22.092-8.626zM256 380.156c-13.07 0-25.77 4.94-35.156 13.844-9.386 8.903-14.844 21.25-14.844 34.063 0 12.813 5.458 25.19 14.844 34.093C230.23 471.06 242.93 476.03 256 476.03c13.07 0 25.77-4.97 35.156-13.874 9.386-8.903 14.844-21.28 14.844-34.094 0-12.813-5.458-25.16-14.844-34.062-9.386-8.903-22.087-13.844-35.156-13.844zm-199.188 9.22a9.5 9.5 0 0 0-6.624 16.312l22.374 22.406L50.94 449.72a9.502 9.502 0 1 0 13.437 13.436L86 441.53l22.375 22.376a9.502 9.502 0 1 0 13.438-13.437l-22.376-22.376 21.626-21.625a9.5 9.5 0 0 0-6.907-16.314 9.5 9.5 0 0 0-6.53 2.875L86 414.657 63.625 392.25a9.5 9.5 0 0 0-6.813-2.875zM256 399.187c8.137 0 16.485 3.304 22.094 8.625 5.608 5.32 8.937 12.948 8.937 20.25 0 7.3-3.328 14.96-8.936 20.28-5.61 5.32-13.957 8.626-22.094 8.626s-16.485-3.306-22.094-8.626c-5.608-5.32-8.937-12.98-8.937-20.28 0-7.303 3.328-14.93 8.936-20.252 5.61-5.32 13.957-8.625 22.094-8.625z","fill-opacity":"1"}))),Bx=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M100 29v454h312V29zm18 18h210v338H118zm226 16h50v66h-50zm18 18v30h14V81zm-203 7v23h-16v18h160v-18h-64V80l-16 6-6 25h-26V88zm194 55h32v18h-32zm-90 10.8c-5.4 0-10.1 3-12.8 6.7-2.9 4.9-4.5 9.6-4.1 14.5H143v18h160v-18h-23.1c.3-5.1-1.6-11-4.1-14.5-2.7-3.7-7.4-6.7-12.8-6.7zm90 21.2h32v18h-32zm-194 41v23h-16v18h160v-18h-24v-23h-24v23h-32v-31h-16v31h-32v-15zm8 61.4c-6.1 0-10.8 3.9-13.3 8-3.2 6.1-4 11.5-3.5 17.6H143v18h160v-18h-64v-23h-32v23h-23.2c.6-6-.7-13-3.5-17.6-2.5-4.1-7.2-8-13.3-8zM353 351h32v18h-32zm-235 52h210v62H118zm18 18v26h174v-26z",fill:e.color,"fill-opacity":"1"}))),O5=e=>a("svg",{fill:e.color,stroke:e.color,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M339.72 55.875c-61.792 0-111.876 50.08-111.876 111.875 0 61.79 50.08 111.875 111.875 111.875 61.79 0 111.905-50.08 111.905-111.875 0-61.79-50.112-111.875-111.906-111.875zm0 18.875c51.36 0 93 41.642 93 93 0 51.362-41.643 93-93 93-51.363 0-92.97-41.642-92.97-93 0-33.034 17.208-62.033 43.156-78.53-4.767 5.728-7.656 13.088-7.656 21.124 0 18.257 14.806 33.062 33.063 33.062 18.256 0 33.062-14.805 33.062-33.062 0-17.464-13.562-31.73-30.72-32.938 7.073-1.72 14.46-2.656 22.064-2.656zm-62.533 65.03c-8.418 0-15.28 6.825-15.28 15.25 0 8.42 6.854 15.25 15.28 15.25 8.42 0 15.25-6.822 15.25-15.25 0-8.418-6.823-15.25-15.25-15.25zm-76.312 72.97c-.846 7.796-2.342 14.92-4.5 21.406l78.5 78.5c6.444-2.173 13.523-3.733 21.25-4.625l-95.25-95.28zm-13.125 39.22c-4.91 7.335-11.078 13.393-18.5 18.218l69.594 69.625c4.842-7.41 10.92-13.58 18.25-18.5L187.75 251.97zm-36.438 26.718c-6.406 2.136-13.398 3.716-20.968 4.687 32.544 31.712 62.545 62.546 95.187 95.188 1.003-7.534 2.595-14.498 4.75-20.875l-78.968-79zm-15.687 36.406L17.187 433.188v21.937l129.25-129.22-10.812-10.81zm24 24L17.187 481.53v13.595h53.72L193.28 372.75l-33.655-33.656z","fill-opacity":"1"}))),$x={armor:Sn,arrow:Te,battleGear:xx,bow:Tx,bracelet:Ex,bracer:_x,circle:Ei,cloakConsume:Cx,close:_i,contract:l5,cursor:gi,expand:s5,flask:Ax,flower:Mt,gear:T5,hammer:E5,hazard:_5,help:yi,menu:Cn,mineralHeart:Sx,muffin:kx,necklace:Rx,potion:C5,purse:A5,rangedMult:Lx,rangedNormal:kn,ring:Ix,shield:Ox,signal:S5,snack:Px,soda:Mx,speaker:a5,spear:k5,star:Dx,swingFinisher:R5,swingNormal:L5,swingPierce:I5,sword:Ci,talk:Ti,target:Ai,targetMelee:Si,ticTacToe:Nx,vending:Bx,wand:O5},Xe=e=>{var t;return(t=$x[e])!=null?t:yi},Wx=b("div",{position:"absolute",top:"0px",width:"100%",display:"flex","& > div":{marginRight:"4px"}}),Gx=b("div",{position:"absolute",top:"0px",right:"0px",display:"flex",flexDirection:"column","& > div":{marginBottom:"4px"}}),Fx=b("div",e=>({background:"rgba(0, 0, 0, 0.3)",padding:"4px",fontSize:"24px",color:h.WHITE,width:"100%",textAlign:"center",position:"absolute",top:"256px",left:"0px",opacity:e.visible?"1":"0",transform:e.visible?"scaleY(1)":"scaleY(0)",transition:"opacity 100ms, transform 100ms"})),Hx=b("div",()=>({position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",right:"0px",bottom:"0px",margin:"4px",pointerEvents:"all"})),Dt=b("div",e=>({userSelect:"none",color:h.WHITE,background:"rgba(0, 0, 0, 0.5)",fontSize:"24px",borderRadius:"100px",padding:"24px",border:"2px solid rgba(0, 0, 0, 0.25)",margin:`0px ${e.margin}`,cursor:"pointer",transform:e.rotated?"rotate(-45deg)":"unset","&:hover":{filter:"brightness(120%)",background:"rgba(0, 0, 0, 0.7)"},"&:active":{filter:"brightness(80%)",background:"rgba(0, 0, 0, 0.35)"}})),Ux=b("div",()=>({position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",flexWrap:"wrap",left:"24px",bottom:"24px",margin:"4px",pointerEvents:"all",transform:"rotate(45deg)",width:"166px"})),Kx=b("div",e=>({position:"absolute",right:"0px",top:"0px",fontSize:"24px",padding:"16px",background:Rk(h.DARKBLUE,.75),margin:"8px",maxWidth:"35%",display:"flex",justifyContent:"center",alignItems:"center",border:"2px solid "+h.WHITE,borderBottomColor:h.BLUE,transition:e.visible?"transform 100ms ease-out":"unset",transform:e.visible?"translateX(0px)":"translateX(500px)"})),zx=Qr({"0%":{opacity:"1"},"50%":{opacity:"0"},"100%":{opacity:"1"}}),jx=b("div",e=>({animation:e.blink?`${zx} 1000ms linear infinite`:"unset",width:"64px"})),Nt=e=>({onMouseDown:t=>{e(t,!0)},onMouseUp:t=>{e(t,!1)},onTouchStart:t=>{e(t,!0)},onTouchEnd:t=>{e(t,!1)}}),Yx=(e,t)=>{var r;const n=(r={[oe.CLOAKED]:{iconName:"cloakConsume",color:h.BLUE},[oe.STAT]:{iconName:"star",color:h.BLUE}}[e.status])!=null?r:{iconName:"help",color:h.WHITE},o=Xe(n.iconName);return console.log("RENDER ITEM STATUS",e.state,e.status),a(jx,{id:e.status+t+e.state,key:e.status+t+e.state,blink:e.state==="expiring"},a(o,{color:n.color}))},Vx=()=>{var o,r;const e=(o=D())==null?void 0:o.appState.overworld,t=(r=D())==null?void 0:r.appState.notifications;if(!e)return a("div",null);const i=s=>(l,c)=>{l.preventDefault(),l.stopImmediatePropagation(),c?x9(s):T9(s);const d=d2();d&&d({key:s})},n=P();return a(n1,null,a(Wx,null,e.interfaceDisabled?null:a(An,{buttons:[Q1.MENU,Q1.SETTINGS,Ef()?Q1.DEBUG:void 0,Q1.ON_SCREEN_CONTROLS],onMenuClick:()=>{ve()},onMenuClose:()=>{D1(),t1(O.Debug,!0)},onSettingsClick:()=>{ve()},onSettingsClose:()=>{D1(),t1(O.Debug,!0)}}),a(Fx,{visible:e.characterText!==""},e.characterText||e.prevCharacterText),a(Kx,{visible:t.length>0},t.map((s,l)=>a("p",{key:l},s.text)))),a(Gx,null,n==null?void 0:n.leader.itemStatuses.map(Yx)),Cr()&&!e.interfaceDisabled?a(n1,null,a(Hx,null,a(Dt,S({margin:"4px"},Nt(i(_y()))),"Menu"),a(Dt,S({margin:"4px"},Nt(i(i4()))),"Action")),a(Ux,null,a(Dt,S({margin:"1px",rotated:!0},Nt(i("ArrowUp"))),"Up"),a(Dt,S({margin:"1px",rotated:!0},Nt(i("ArrowRight"))),"Rt"),a(Dt,S({margin:"1px",rotated:!0},Nt(i("ArrowLeft"))),"Lf"),a(Dt,S({margin:"1px",rotated:!0},Nt(i("ArrowDown"))),"Dn"))):null)};b("div",()=>({position:"absolute",left:"0px",top:"0px"}));const qx=()=>a("div",{id:"debug"},a(Vx,null)),Xx=V1({"0%":{transform:"translateX(-5px)"},"20%":{transform:"translateX(0px)"},"100%":{transform:"translateX(-5px)"}}),Qx=b("div",e=>({pointerEvents:"none",color:h.WHITE,position:"absolute",top:-4+e.offsetY+"px",left:-32+e.offsetX+"px",animation:`${Xx} 500ms linear infinite`})),Rn=e=>{var t,i,n,o;return a(Qx,{offsetX:(t=e.offsetX)!=null?t:0,offsetY:(i=e.offsetY)!=null?i:0,style:{visibility:(n=e.visibility)!=null?n:"unset"}},a(gi,{color:h.BLUE,angle:(o=e.angle)!=null?o:75}))};var P5;(function(e){e[e.SMALL=0]="SMALL",e[e.MEDIUM=1]="MEDIUM",e[e.LARGE=2]="LARGE"})(P5||(P5={}));const Zx={backgroundColor:"linear-gradient(0deg, rgba(0,0,0,1) 0%, rgba(45,45,45,1) 100%);",borderColor:h.WHITE,lineHeight:1,startingIndex:0},Ln=e=>{switch(e){case 0:return{fontSize:"12px",padding:"0.25rem",minHeight:"12px"};case 1:return{fontSize:"16px",padding:"0.5rem",minHeight:"16px"};case 2:return{fontSize:"24px",padding:"1rem",minHeight:"24px"}}},Jx=b("div",e=>({background:e.transparentBg?"rgba(0, 0, 0, 0)":h.BLACK,position:"relative",width:e.width||"100%",height:e.height||"unset",border:`4px double ${e.borderColor}`,boxSizing:"border-box",transition:e.open?"transform 0.15s ease-out":"unset",transform:e.open?"scale(1.0)":"scale(0.0)"})),M5=b("div",e=>({position:"relative",borderBottom:`2px solid ${e.borderColor}`,borderLeft:e.useHover?`2px solid ${h.BLACK}`:"unset",borderRight:e.useHover?`2px solid ${h.BLACK}`:"unset","&:hover":e.isInactive?"unset":{borderColor:e.useHover?h.YELLOW:e.borderColor}})),eT=b("div",e=>J(S({textAlign:"center"},Ln(e.lineHeight)),{color:"white",background:e.backgroundColor,cursor:e.clickDisabled?"default":"pointer",filter:e.active?"brightness(80%)":"",transform:e.active?"translateY(2px)":""})),tT=b("div",e=>({textAlign:"center",position:"relative",background:h.DARKBLUE,alignItems:"baseline",textTransform:"uppercase",color:h.ORANGE,fontFamily:"DataLatin",fontSize:"16px",letterSpacing:"1px"})),iT=b("div",e=>J(S({},Ln(e.lineHeight)),{width:"1rem",cursor:"pointer",background:e.backgroundColor,borderRight:`2px solid ${h.WHITE}`,marginTop:"0.15rem",position:"absolute","&:hover":{filter:"brightness(120%)"},"&:active":{filter:"brightness(80%)"}})),nT=b("div",e=>J(S({},Ln(e.lineHeight)),{fontSize:"unset"})),oT=e=>{var i;const t=(i=e.lineHeight)!=null?i:1;return a(tT,{title:e.title},e.onClick&&!e.hideCloseBox?a(iT,{backgroundColor:e.backgroundColor,onClick:e.onClick,lineHeight:t},a(_i,{color:h.RED})):null,a(nT,{lineHeight:t},e.title||""))},C1=function(e){var l,c,d,u,g,m;const t=Ye(),i=(l=e.itemHeight)!=null?l:37,[{cursorIndex:n,active:o},r]=E0(({cursorIndex:f,active:p},y)=>{var A;let w=f,v=p;if(y.type==="Increment"){if(w=(w+1)%e.items.length,t.current&&e.maxHeight){const{height:C}=t.current.getBoundingClientRect();t.current.scrollTop=Math.max(0,-C+w*i+2*i)}(isNaN(w)||w<0)&&(w=0)}else if(y.type==="Decrement"){if(w=(w-1+e.items.length)%e.items.length,t.current&&e.maxHeight){const{height:C}=t.current.getBoundingClientRect();t.current.scrollTop=Math.max(0,-C+w*i+3*i)}(isNaN(w)||w<0)&&(w=0)}else if(y.type==="Set")p||(w=(A=y.payload)!=null?A:0);else if(y.type==="Select")p||(v=!0,setTimeout(()=>{r({type:"SelectInactive"})},100));else if(y.type==="SelectInactive"){const C=e.items[f];C&&(e.onItemClick(C.value,f),v=!1)}else if(y.type==="ResetCursor"){w=0,v=!1;const C=e.items[w];return C&&e.onItemHover&&e.onItemHover(C.value,w),{cursorIndex:w,active:v}}if(f!==w){const C=e.items[w];C&&e.onItemHover&&(e.onItemHover(C.value,w),e.onItemHoverSound&&f>-1&&x(e.onItemHoverSound))}return{cursorIndex:w,active:v}},{cursorIndex:(c=e.startingIndex)!=null?c:0,active:!1});c1(()=>{var p;const f=y=>{if(e.open&&!e.isInactive&&!e.isCursorSelectInactive){if(s4(y.code))x("menu_move"),r({type:"Increment"});else if(a4(y.code))x("menu_move"),r({type:"Decrement"});else if(!y.repeat&&z0(y.code)||e.useSpaceBarConfirm&&y.key===" "){if(y.repeat)return;r({type:"Select"}),e.onItemClickSound&&x(e.onItemClickSound)}else if(be(y.code)){if(y.repeat)return;e.onClose&&(e.onCloseSound&&x(e.onCloseSound),e.onClose())}else if(ri(y.code)){if(y.repeat)return;if(e.onAuxClick){e.onAuxClickSound&&x(e.onAuxClickSound);const w=e.items[n];e.onAuxClick(w.value)}}}};return window.addEventListener("keydown",f),n>=((p=e.items)==null?void 0:p.length)&&r({type:"Set",payload:0}),()=>{window.removeEventListener("keydown",f)}},[e.open,e.isInactive,e.isCursorSelectInactive,e.onAuxClick]),c1(()=>{r({type:"ResetCursor"})},[e.resetCursor]),c1(()=>{e.resetIfTooLong&&n>=e.items.length&&r({type:"ResetCursor"})},[e.resetIfTooLong,e.items,n]);const s=e.lineHeight||1;return a(Jx,{id:"vertical-menu-"+e.title,transparentBg:Boolean(e.transparentBg),backgroundColor:(d=e.backgroundColor)!=null?d:h.BLACK,borderColor:(u=e.borderColor)!=null?u:h.WHITE,width:e.width,height:e.height,open:e.open,style:e.style},a(M5,{key:"title",borderColor:e.hideTitle?"transparent":(g=e.borderColor)!=null?g:h.WHITE,useHover:!1,isInactive:!0},e.hideTitle?null:a(oT,{backgroundColor:e.backgroundColor||h.BLACK,onClick:e.onClose,hideCloseBox:e.hideCloseBox,lineHeight:e.lineHeight,title:e.title})),a("div",{ref:t,style:{width:"100%",height:(m=e.maxHeight)!=null?m:"unset",overflowY:e.maxHeight?"auto":"unset"}},e.items.map((f,p)=>{var y;return a(M5,{key:p,borderColor:(y=e.borderColor)!=null?y:h.WHITE,useHover:!0,isInactive:Boolean(e.isInactive)},a(eT,{key:p,backgroundColor:e.backgroundColor,highlighted:n===p,lineHeight:s,active:o&&n===p&&!e.isInactive&&!e.isCursorSelectInactive,clickDisabled:Boolean(e.isInactive),selectDisabled:Boolean(e.isInactive||e.isCursorSelectInactive),onClick:()=>{e.isInactive||(r({type:"Set",payload:p}),e.onItemClickSound&&x(e.onItemClickSound),setTimeout(()=>{r({type:"Select"})}))},onMouseOver:w=>{w.preventDefault(),!e.isInactive&&!e.isCursorSelectInactive&&r({type:"Set",payload:p})}},typeof f.label=="function"?f.label({cursorIndex:n,i:p}):f.label),n===p?a(Rn,{offsetX:e.maxHeight?40:0,offsetY:e.maxHeight?4:0,angle:e.maxHeight?62:75,visibility:e.isInactive||e.isCursorSelectInactive?"hidden":"unset"}):null)})))};C1.defaultProps=Zx;const We=e=>{const t=Ye(null),[i,n]=G(se(e.animName)),o=e.width,r=e.height,s=e.scale,l=e.animName;return c1(()=>{const c=t.current;if(i.name!==l)n(se(l));else if(c){const[d,u]=i.getSpriteSize(0),g=s!=null?s:1;c.width=(o!=null?o:d)*g,c.height=(r!=null?r:u)*g;const m=c.getContext("2d");m.imageSmoothingEnabled=!1,m.clearRect(0,0,c.width,c.height),Jt(i,0,0,g,m)}},[s,o,r,l,i]),a("div",null,a("canvas",{style:e.style,ref:t}))},Bt=b("div",()=>({fontSize:"18px",color:h.BLACK,background:h.WHITE,borderTopLeftRadius:"8px",borderTopRightRadius:"8px",textTransform:"uppercase",padding:"8px",marginBottom:"2px"})),rT=b("div",e=>({background:e.backgroundColor,position:"relative",height:e.height+"px",width:"100%"})),aT=b("div",e=>({background:e.backgroundColor,position:"absolute",left:"0",top:"0",width:"100%",height:"100%",transformOrigin:"top left"})),sT=b("div",{textAlign:"center",fontSize:"16px",position:"absolute",left:"0",top:"0",width:"100%",color:"white"}),v2=e=>{var t;return a(rT,{backgroundColor:e.backgroundColor,height:e.height},a(aT,{backgroundColor:e.color,style:{transform:`scaleX(${(t=e.pct)!=null?t:0})`,transition:e.transitionDuration?`transform ${e.transitionDuration}ms ease-out`:"unset"}}),a(sT,null,e.label))},L0=e=>(Kn(e.renderKey),a(v2,J(S({},e),{pct:e.renderFunc()}))),lT=b("div",e=>({position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",boxShadow:"0px 0px 12px 8px rgba(0, 0, 0, 0.75)",background:e.dark?"rgba(0, 0, 0, 0.5)":"unset"})),cT=b("div",e=>{var t;return{position:"relative",margin:"4px",padding:"4px",minWidth:"25%",maxWidth:(t=e.maxWidth)!=null?t:"90%",maxHeight:"1024px",width:e.maxWidth,border:`2px solid ${h.BLUE}`,background:h.BGGREY,color:h.WHITE,transform:"scale(0)",transition:"opacity 100ms, transform 100ms",pointerEvents:"all"}}),dT=b("div",()=>({position:"absolute",left:"0",top:"0",width:"100%",height:"100%",opacity:"0.04",backgroundImage:`url(${fe()}/bg/flowers_menu_bg.png)`,zIndex:0,pointerEvents:"none"})),uT=b("div",()=>({color:h.ORANGE,background:`linear-gradient(90deg, ${h.DARKBLUE} 0%, rgba(0,0,0,0) 100%)`,margin:"8px",marginBottom:"-8px",textTransform:"uppercase",borderBottom:`2px solid ${h.BLUE}`,zIndex:2,fontFamily:"DataLatin",padding:"8px",fontSize:"42px",letterSpacing:"3px"})),hT=b("div",()=>({margin:"8px",fontSize:"16px",display:"flex",justifyContent:"center",zIndex:2})),gT=b("div",()=>({borderTop:"2px solid "+h.BLUE,display:"flex",justifyContent:"flex-end",padding:"8px",margin:"8px",marginTop:"16px",zIndex:2,background:`linear-gradient(270deg, ${h.DARKBLUE} 0%, rgba(0,0,0,0) 100%)`})),ie=e=>{var r;const[t,i]=G(!1);Ge(s=>{if(be(s.key)&&!e.hideClose&&!e.disableKeyboardShortcut){if(!e.isModal&&D().appState.sections.includes(O.Modal))return;i(!0),setTimeout(()=>{e.disableCloseSound||x("menu_choice_close"),i(!1),e.onClose()},100)}},[]);const n="menu-wrapper-"+e.title,o="menu-container-"+e.title;return c1(()=>{const s=document.getElementById(o);s&&(s.style.transform="scale(1)")}),a(lT,{id:n,dark:e.dark},a(cT,{id:o,maxWidth:e.maxWidth},a(dT,null),e.hideTitle?null:a(uT,null,e.title),a(hT,null,e.children),e.hideClose?null:a(gT,null,a(k1,{type:f1.PRIMARY,style:{marginRight:"1rem"},active:t,onClick:()=>{e.disableCloseSound||x("menu_choice_close"),x("menu_select"),e.onClose()}},(r=e.closeButtonLabel)!=null?r:"Close"))))};var b1;(function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e.XLARGE="xlarge",e.ADAPTIVE="adaptive"})(b1||(b1={}));const ue={[b1.SMALL]:{width:"256px",height:"256px"},[b1.MEDIUM]:{width:"352px",height:"352px"},[b1.LARGE]:{width:"512px",height:"512px"},[b1.XLARGE]:{width:"864px"},[b1.ADAPTIVE]:{width:"100%"}},mT=b("div",e=>S({background:h.DARKGREY,border:"2px solid "+h.WHITE,borderBottom:"2px solid "+h.GREY},ue[e.size])),x2=e=>a(mT,{size:e.size,style:e.style,id:e.id},e.children),pT=b("div",e=>{var t,i;return{display:"flex",justifyContent:"space-between",alignItems:"center",height:"64px",background:(t=e.color)!=null?t:"unset",padding:(i=e.padding)!=null?i:"unset",boxSizing:"border-box",border:e.color?`2px solid ${h.DARKGREEN}`:"unset"}}),fT=b("div",()=>({display:"flex",justifyContent:"flex-start",position:"relative",alignItems:"center","& > div":{marginRight:"4px"}})),yT=b("div",()=>({background:h.DARKGREY,display:"flex",justifyContent:"center",alignItems:"center",borderRight:"2px solid "+h.BLACK,width:"64",height:"64",cursor:"pointer",overflow:"hidden"})),D5=e=>{const t=e.save;return a(pT,null,a(fT,null,a("div",{style:{display:"flex",width:"200px",marginRight:"18px"}},t.player.partyStorage.map(i=>{const n=St(i.name);return a(yT,null,a(We,{style:{width:"128"},animName:(n==null?void 0:n.spriteBase)+"_portrait"}))})),"Time: ",Lk(t.durationPlayed)),e.handleDeleteClick?a(k1,{style:{minWidth:"unset",fontSize:"12px"},type:f1.CANCEL,onClick:i=>{i.stopPropagation(),i.preventDefault(),e.handleDeleteClick&&e.handleDeleteClick(e.i)}},"Delete ",en()):null,e.handleDeleteClick?null:a("div",null,"Tokens: ",t.player.tokens," "))};b("div",{position:"absolute",top:"0px",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"rgba(0, 0, 0, 0.5)"});const wT=b("div",{display:"flex",justifyContent:"space-between",flexDirection:"column",alignItems:"center",height:"100%"});b("div",{display:"flex",justifyContent:"center",padding:"8px"});const In=e=>{const[t]=G(R0()),[i,n]=G(!1),o=s=>{e.onSaveClicked?e.onSaveClicked(t[s]):(j1(O.Menu),r(),x("menu_choice_open"),Lt(500,!0),setTimeout(()=>{w2(t[s]),It(500,!0)},500))},r=()=>{e.onClose()};return Ge(s=>{be(s.key)&&r()}),a("div",null,a("p",{style:{textAlign:"center"}},"Press ",u2()," to load a saved game."),a(x2,{size:b1.LARGE},a(wT,{id:"save-spacer"},a(C1,{title:"Saved Games",width:"100%",open:!0,isInactive:i,items:t.map((s,l)=>({label:a(D5,{save:s,i:l}),value:l})),onItemClickSound:"menu_select",onItemClick:o}))))},bT=b("div",()=>({display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",fontSize:"4rem",color:h.WHITE,transition:"background-color 2000ms",transform:"scale(1)",backgroundColor:"rgba(0, 0, 0, 0.0)"})),vT=b("div",()=>({fontSize:"16px",width:"288px",boxSizing:"border-box",padding:"8px",margin:"8px",border:`2px solid ${h.WHITE}`,background:"rgba(0, 0, 0, 0.5)"})),xT=b("div",()=>({width:"288px",boxSizing:"border-box",margin:"8px",border:`2px solid ${h.WHITE}`,background:"rgba(0, 0, 0, 0.5)"})),TT=b("div",()=>({display:"flex",alignItems:"center",justifyContent:"center",margin:"4px"})),ET=V1({"0%":{transform:"translateX(18px) translateY(-5px)"},"50%":{transform:"translateX(18px) translateY(5px)"},"100%":{transform:"translateX(18px) translateY(-5px)"}}),_T=V1({"0%":{transform:"translateX(20px) translateY(-4px)"},"50%":{transform:"translateX(20px) translateY(6px)"},"100%":{transform:"translateX(20px) translateY(-4px)"}}),N5=b("div",e=>({fontSize:"24px",width:"2px",whiteSpace:"pre",marginLeft:e.offset?"unset":"16px",animation:`3s ${e.offset?ET:_T} linear infinite`,color:e.offset?h.WHITE:h.BLACK})),B5=e=>{const[t,i]=G(!1),[n,o]=G(!1),[r,s]=G(!1),l=P(),c=l.party,d={ind:0,working:!1};c.forEach(y=>{d[y.name]={name:y.name,levelDiff:0,initialLevel:p0(y),exp:y.experience,pct:n9(y)}});const[u,g]=G(d),[m]=G(ik(M())),f=()=>{const y=M();i(!0),y&&v1(y,U.onCompletion,y)},p=async()=>{l.tokens+=m.tokens,m.items.forEach(y=>{y.name&&Ht(l,y.name)}),c.forEach(async y=>{const w=u[y.name];y.experience+=m.experience,w.exp=y.experience;const v=p0(y),A=w.initialLevel;if(v>A){w.pct=1;for(let C=A;C<=v;C++)y.experienceCurrency+=5}else w.pct=n9(y)}),g(J(S({},u),{ind:1,working:!0})),x("exp_gain"),await new Promise(y=>setTimeout(y,500)),c.forEach(async(y,w)=>{await new Promise(A=>setTimeout(A,w*250));const v=u[y.name];if(v.pct===1){const A=p0(y),C=v.initialLevel;x("level_up"),v.levelDiff=A-C,v.pct=0,g(J(S({},u),{ind:1,working:!0}))}}),g(J(S({},u),{ind:1,working:!0})),await new Promise(y=>setTimeout(y,300)),c.forEach(async y=>{const w=u[y.name];w.pct=n9(y)}),g(J(S({},u),{ind:1,working:!1}))};return c1(()=>{if(t){const y=document.getElementById("battle-conclusion-root");y&&(y.style.transform="scale(0)")}},[t]),c1(()=>{const y=document.getElementById("battle-conclusion-root");y&&!e.isVictory&&(y.style["background-color"]="rgba(0, 0, 0, 0.8)")},[e.isVictory]),a(bT,{id:"battle-conclusion-root"},e.isVictory?a(n1,null,a("span",{style:{fontFamily:"DataLatin"}},"VICTORY!"),a(vT,null,m.tokens?a("div",null,m.tokens," Token",m.tokens>1?"s":""):null,m.items.map((y,w)=>a("div",{key:w},y.label))),a(xT,null,c.map(y=>{const w=u[y.name];return a(TT,{key:y.name},a("div",{style:{overflow:"hidden",display:"flex",alignItems:"center",height:"64px"}},a(We,{style:{width:"128"},animName:`${y.name.toLowerCase()}_portrait_f`})),a("div",null,a(Bt,null,y.name),a("div",{style:{width:"128px"}},a(v2,{backgroundColor:h.BLACK,color:h.YELLOW,height:24,label:"Level "+p0(w.exp),transitionDuration:500,pct:w.pct}))),a(N5,null,w.levelDiff?`Level Up! +${w.levelDiff}`:""),a(N5,{offset:!0},w.levelDiff?`Level Up! +${w.levelDiff}`:""))}))):a(n1,null,a("span",{style:{fontFamily:"DataLatin"}},"DEFEAT!")),a(C1,{title:"",width:"50%",open:!n&&!r,hideTitle:!0,style:{transition:"transform 0.15s",transform:r?"scale(0)":"scaleX(1)",width:e.isVictory?"128px":"256px"},items:[e.isVictory?{label:a("div",null,u.ind===0?a("span",null,"Next"):null,u.ind===1?a("span",{style:{color:u.working?h.GREY:h.BLUE}},"Onward!"):null),value:0}:null,e.isVictory?null:{label:a("div",null,a("span",null,"Load Last Save")),value:1},e.isVictory?null:{label:a("div",null,a("span",null,"Load Another Save")),value:2},e.isVictory?null:{label:a("div",null,a("span",null,"Quit To Menu")),value:3}].filter(y=>Boolean(y)),onItemClickSound:"menu_select",onItemClick:y=>{if(y===0){if(u.working||t)return;u.ind===1?f():p()}if(y===1){const w=Mv();w?(s(!0),Lt(500,!0),setTimeout(()=>{w2(w),It(500,!0)},500)):x("terminal_cancel")}y===2&&o(!0),y===3&&(window.location="/menu.html")}}),n&&!r?a(ie,{title:"Load",onClose:()=>{},maxWidth:ue[b1.XLARGE].width,closeButtonLabel:"Back "+te(),disableKeyboardShortcut:!0},a(In,{onClose:()=>{o(!1),x("menu_choice_close")},onSaveClicked:y=>{s(!0),Lt(500,!0),setTimeout(()=>{w2(y),It(500,!0)},500)}})):null)},$5={},On=e=>{const t=$5[e];if(!t)throw new Error("Could not get battle action with name: "+e);return t},CT=()=>{$5.NoWeapon={name:"(No weapon)",description:"You don't have a weapon equipped!",cooldown:5e3,type:V.SWING,meta:{swings:[H.NORMAL],icon:"sword"},cb:async function(e,t){M1(e,t)&&(await I0(t),await Vn(e,t),U1(t.ch,T.DOWN),z(t.ch,_.IDLE),await e1(750),Ot("EFFECT_TEMPLATE_SHRUG",t.ch.name,"rise"),x("emotion"),await e1(750),U1(t.ch,n0(e)===s1.ALLY?T.RIGHT:T.LEFT),await O0(t))}}},AT=b("div",()=>({width:"100%",height:"100%"})),ST=b("div",()=>({position:"relative",margin:"10px 6px"})),kT=V1({"0%":{transform:"translateX(-10px)"},"20%":{transform:"translateX(-1px)"},"100%":{transform:"translateX(-10px)"}}),RT=b("div",()=>({color:h.WHITE,position:"absolute",top:"-8px",left:"-32px",animation:`${kT} 750ms linear infinite`})),LT=()=>a(RT,null,a(gi,{color:h.BLUE})),IT=e=>{var o;const t=r=>()=>{e.disabled||e.onActionClicked(r)},i=r=>()=>{e.disabled||e.setCursorIndex(r)},n=((o=e.bCh.ch.skills)==null?void 0:o.length)?e.bCh.ch.skills:[On("NoWeapon")];return a(AT,{id:"action-select-menu-"+e.bCh.ch.name},n.map((r,s)=>{const l=e.bCh.ch.skillIndex===s,c=e.cursorIndex===s;return r?a(ST,{id:"action-select-menu-button-row-"+s,key:"action-button-"+s},c?a(LT,null):null,a(k1,{type:l?f1.PRIMARY:f1.NEUTRAL,selected:c,onClick:t(s),onMouseOver:i(s),disabled:e.disabled},r.name)):(console.error("NULL ACTION",r,n,e.bCh.ch),a("div",null))}))},OT=b("div",e=>({color:h.WHITE,border:`2px solid ${h.WHITE}`,fontSize:"20px",position:"absolute",padding:"8px",margin:"32px",bottom:"192px",width:"424px",background:"rgba(0, 0, 0, 0.5)",pointerEvents:"none",[e.placement]:"0px"})),PT=e=>{const i=M().allies;return e>=i.length/2?"right":"left"},MT=e=>a(OT,{placement:PT(e.characterIndexSelected)},e.children),DT="100%",NT="65%",W5=24,G5=6,BT=h.GREEN,$T=h.BLUE,WT=h.YELLOW,GT=h.PURPLE,ki=b("div",()=>({display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:"4px",fontSize:"12px"})),Ri=b("div",e=>{var t;return{width:e.short?NT:DT,border:e.short?"unset":`2px solid ${(t=e.borderColor)!=null?t:h.WHITE}`,borderBottom:e.short?"unset":"0px"}}),FT=e=>{const t=Ze(),i=o=>`${e.bCh.ch.name}_${o}`;he(M(),e.bCh,U.onCharacterDamaged,()=>{t()}),he(M(),e.bCh,U.onCharacterStaggered,()=>{t()}),he(M(),e.bCh,U.onCharacterRecovered,()=>{t()});const n=M();return a(n1,null,a(ki,null,a(Ri,{short:!1,borderColor:I2(n,e.bCh)?h.YELLOW:void 0},a(L0,{id:"progress-action",renderFunc:()=>e.bCh.actionTimer.getPctComplete(),renderKey:i("action"),backgroundColor:h.BLACK,color:Y1(e.bCh)?h.GREY:$T,height:W5,label:""}))),a(ki,null,a(Ri,{short:!1},a(L0,{id:"progress-hp",renderFunc:()=>ut(e.bCh.ch),renderKey:i("hp"),backgroundColor:h.BLACK,color:BT,height:W5,label:`HP: ${e.bCh.ch.hp}`}))),a(ki,null,a("span",null," STAG "),a(Ri,{short:!0},a(L0,{id:"progress-stagger",renderFunc:()=>Y1(e.bCh)?1-e.bCh.staggerTimer.getPctComplete():e.bCh.staggerGauge.getPct(),renderKey:i("stagger"),backgroundColor:h.BLACK,color:Y1(e.bCh)?h.WHITE:WT,height:G5,label:""}))),a(ki,null,a("span",null," RESV "),a(Ri,{short:!0},a(L0,{id:"progress-reserve",renderFunc:()=>.25,renderKey:i("reserve"),backgroundColor:h.BLACK,color:GT,height:G5,label:""}))))},HT=b("div",()=>({pointerEvents:"none",width:"100%",height:"100%"})),UT=b("div",()=>({display:"flex",justifyContent:"center",alignItems:"center",height:"100%"})),F5=b("div",()=>({border:"2px solid "+h.WHITE,borderBottom:"2px solid "+h.GREEN,background:h.DARKGREY,display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:"column",width:"28px",padding:"8px","& > span":{width:"24px",marginTop:"8px"}})),KT=(e,t)=>({[H.NORMAL]:a(L5,{color:t}),[H.PIERCE]:a(I5,{color:t}),[H.FINISH]:a(R5,{color:t})})[e],zT=e=>{var s;const t=e.battleAction,i=e.bCh.actionStateIndex,n=Ye(null),o="acting-weapon-primary-"+e.bCh.ch.name,r=Ze();return c1(()=>{const l=document.getElementById(o);l&&(l.style.transition="unset",l.style.transform="scale(0.9)",l.style.transition="transform 150ms",setTimeout(()=>{l.style.transform="scale(1.0)"},100))},[i,n,o]),he(M(),e.bCh,U.onCharacterAction,()=>{console.log(e.bCh.ch.name,"Action!"),r()}),a(HT,{ref:n,id:o},a(UT,null,(s=t.meta.swings)==null?void 0:s.map((l,c)=>{const d=c<i||i===0;switch(l){case H.PIERCE:case H.NORMAL:return a(F5,{id:"swing-table-cell-"+e.bCh.ch.name+"-"+c},KT(l,h.BLUE),d?a("span",null,a(_i,{color:h.LIGHTGREEN})):a("span",null,a(Ei,{color:h.WHITE})));default:return a(F5,null)}})))},jT=b("div",()=>({pointerEvents:"none",width:"100%",height:"100%"})),YT=b("div",()=>({display:"flex",justifyContent:"center",alignItems:"center",height:"100%"})),H5=b("div",()=>({border:"2px solid "+h.WHITE,borderBottom:"2px solid "+h.GREEN,background:h.DARKGREY,display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:"column",width:"28px",padding:"8px","& > span":{width:"24px",marginTop:"8px"}})),VT=(e,t)=>({[Me.NORMAL]:a(kn,{color:t})})[e],qT=e=>{var s;const t=e.battleAction,i=e.bCh.actionStateIndex,n=Ye(null),o="acting-range-primary-"+e.bCh.ch.name,r=Ze();return c1(()=>{const l=document.getElementById(o);l&&(l.style.transition="unset",l.style.transform="scale(0.9)",l.style.transition="transform 150ms",setTimeout(()=>{l.style.transform="scale(1.0)"},100))},[i,n,o]),he(M(),e.bCh,U.onCharacterAction,()=>{console.log(e.bCh.ch.name,"Action!"),r()}),a(jT,{ref:n,id:o},a(YT,null,(s=t.meta.ranges)==null?void 0:s.map((l,c)=>{const d=c<i||i===0;switch(l){case Me.NORMAL:return a(H5,{id:"range-table-cell-"+e.bCh.ch.name+"-"+c},VT(l,h.BLUE),d?a("span",null,a(_i,{color:h.LIGHTGREEN})):a("span",null,a(Ei,{color:h.WHITE})));default:return a(H5,null)}})))},XT=b("div",()=>({pointerEvents:"none",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontSize:"20px"})),QT=b("div",()=>({border:"2px solid "+h.WHITE,borderBottom:"0px",width:"100%"})),ZT=e=>{const t=e.battleAction,i="casting-primary-"+e.bCh.ch.name,n=o=>`${e.bCh.ch.name}_${o}`;return a(XT,{id:i},a("div",null,t.name),a(QT,null,a(L0,{id:"progress-cast-"+e.bCh.ch.name,renderFunc:()=>e.bCh.castTimer.getPctComplete(),renderKey:n("cast"),backgroundColor:h.BLACK,color:h.PURPLE,height:32,label:""})))},U5="192px",Pn="96px",JT="152px",K5=146,Li="0px 0px 12px 8px rgba(0, 0, 0, 0.75)",eE=b("div",e=>({boxSizing:"border-box",transition:"height 250ms",height:e.expanded?180+K5+"px":"180px"})),tE=b("div",e=>({opacity:e.visible?"1.0":"0.0",transition:"opacity 100ms linear"})),iE=b("div",()=>({display:"flex",justifyContent:"space-between",alignItems:"baseline",marginLeft:"32px"})),nE=b("div",()=>({fontSize:"18px",color:h.BLACK,background:h.WHITE,boxShadow:Li,borderTopLeftRadius:"8px",borderTopRightRadius:"8px",textTransform:"uppercase",border:`2px solid ${h.BLACK}`,padding:"8px",marginBottom:"12px"})),oE=b("div",()=>({fontSize:"16px",color:h.WHITE,background:`linear-gradient(${h.BLUE}, ${h.DARKBLUE})`,boxShadow:Li,borderRadius:"8px",padding:"2px 8px",borderBottom:"0px",display:"flex",justifyContent:"center",alignItems:"center"})),rE=b("div",()=>({display:"flex"})),aE=b("div",()=>({background:h.DARKGREY,display:"flex",justifyContent:"center",alignItems:"center",borderRight:"2px solid "+h.BLACK,width:Pn,height:Pn,cursor:"pointer",overflow:"hidden"})),sE=V1({"0%":{filter:"brightness(100%)"},"50%":{filter:"brightness(115%)"},"100%":{filter:"brightness(100%)"}}),lE=b("div",e=>({border:"2px solid "+h.BLACK,background:h.DARKBLUE,display:"flex",justifyContent:"space-between",animation:e.ready?`${sE} 1000ms linear infinite`:"unset",boxShadow:Li,height:Pn,"&:hover":{border:"2px solid "+h.BLUE}})),cE=b("div",()=>({display:"flex",alignItems:"column",width:"32px"})),dE=b("div",()=>({display:"flex",flexDirection:"column",width:U5,padding:"0px 8px"})),uE=b("div",e=>({display:"flex",justifyContent:"space-between",position:"relative"})),hE=V1({"0%":{filter:"brightness(100%)",transform:"scale(1)"},"30%":{filter:"brightness(200%)",transform:"scale(1.2)"},"100%":{filter:"brightness(100%)",transform:"scale(1)"}}),gE=b("div",e=>({position:"relative",fontSize:"16px",textAlign:"center",width:"32px",height:"32px",padding:"0px 8px",color:h.BLACK,marginLeft:"57px",marginTop:"8px",animation:e.active?`${hE} 750ms linear infinite`:"unset"})),mE=b("div",()=>({position:"absolute",top:"0px",padding:"6px 12px"})),pE=b("div",()=>({fontSize:"16px",textAlign:"center",width:U5,padding:"2px 8px",background:h.BGGREY,height:"22px",borderRadius:"8px",boxShadow:Li,marginTop:"8px",marginRight:"2px"})),fE=b("div",e=>({transition:"transform 250ms, border 250ms, opacity 250ms",transformOrigin:"top left",opacity:e.expanded?"1":"0",transform:e.expanded?"scaleY(1)":"scaleY(0)",maxHeight:K5,width:"208px",background:h.DARKGREY,border:(e.expanded,"2px solid "+h.BLACK),position:e.expanded?"unset":"absolute",top:"0px",right:"0px"})),Mn=b("div",()=>({background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",color:h.YELLOW,fontSize:12,position:"absolute",left:"0",top:"0",width:"100%",height:"100%"})),yE=e=>{var k;const t=Ze(),i=N=>{v||(dx(e.bCh,N),x("menu_select2"))},n=()=>{if(ze()){const N=M();x("menu_select"),En(N.allies.indexOf(e.bCh))}};he(M(),e.bCh,U.onCharacterReady,()=>{x("battle_ready"),t()}),he(M(),e.bCh,U.onCharacterActionStarted,()=>{console.log(e.bCh.ch.name,"Action started"),t()}),he(M(),e.bCh,U.onCharacterActionEnded,()=>{console.log(e.bCh.ch.name,"Action ended"),t()}),he(M(),e.bCh,U.onCharacterCasting,()=>{console.log(e.bCh.ch.name,"Casting started"),t()}),he(M(),e.bCh,U.onCharacterStaggered,()=>{console.log(e.bCh.ch.name,"Staggered"),t()}),he(M(),e.bCh,U.onCharacterKnockedDown,()=>{console.log(e.bCh.ch.name,"Knocked Down"),t()}),he(M(),e.bCh,U.onCharacterRecovered,()=>{console.log(e.bCh.ch.name,"Recovered"),t()}),he(M(),e.bCh,U.onCharacterDefeated,()=>{console.log(e.bCh.ch.name,"Defeated"),t()});const[o,r]=HA(e.isSelected,e.bCh.ch.skillIndex,e.bCh.ch.skills.map((N,R)=>R),i),s=M(),l=e.bCh.ch.name,c=Q8(e.bCh),d=`${e.bCh.ch.spriteBase}_portrait_f`,u=at(e.bCh);e.bCh.actionState;const g=u.type===V.CAST&&ot(e.bCh),m=ot(e.bCh)&&!g&&u.type===V.SWING,f=ot(e.bCh)&&!g&&u.type===V.RANGED,p=P0(e.bCh)||g,y=!ot(e.bCh)&&!P0(e.bCh),w=e.isSelected,v=P0(e.bCh)||ot(e.bCh),A=(k=e.bCh.ch.skills[o])!=null?k:On("NoWeapon");let C=null;return e.bCh.isDefeated?C=a(Mn,null,a("div",{style:{width:"80px"}},"Defeated")):rt(e.bCh)?C=a(Mn,null,a("div",{style:{width:"80px"}},"Knocked Down!")):Y1(e.bCh)&&(C=a(Mn,null,"Staggered!")),a(n1,null,a(tE,{visible:w},a(MT,{characterIndexSelected:e.characterIndex},A==null?void 0:A.description)),a(eE,{expanded:w},a(iE,{id:"top-row-ctr"},a(nE,{id:"name-label-"+l},l),a(oE,null,"EVA: ",c,"%")),a(rE,{id:"primary-row-ctr"},a(cE,null),a(lE,{id:"primary-root",onClick:n,ready:I2(s,e.bCh)},a(aE,{id:`portrait-${d}`},a("div",{style:{position:"relative"}},a(We,{style:{width:JT},animName:d}),C)),a(dE,{id:"primary-"+e.bCh.ch.name},m?a(zT,{bCh:e.bCh,battleAction:u}):null,f?a(qT,{bCh:e.bCh,battleAction:u}):null,p?a(ZT,{bCh:e.bCh,battleAction:u}):null,y?a(FT,{bCh:e.bCh}):null))),a(uE,{actionsEnabled:w,id:"bottom-row-ctr-"+e.bCh.ch.name},a(gE,{active:(I2(s,e.bCh)||so(e.bCh))&&!ze()},a(Ei,{color:h.GREY}),a(mE,null,io(s.alliesStorage.indexOf(e.bCh)))),a(fE,{expanded:w},a(IT,{bCh:e.bCh,cursorIndex:o,setCursorIndex:r,onActionClicked:i,disabled:v})),w?null:a(pE,null,u.name))))},wE="192px",bE="100%",vE="65%",xE=24,z5=6,TE=h.GREEN,EE=h.BLUE,_E=h.YELLOW,CE="0px 0px 12px 8px rgba(0, 0, 0, 0.75)",AE=b("div",()=>({boxSizing:"border-box",transition:"height 250ms",height:"180px"})),SE=b("div",()=>({display:"flex",justifyContent:"center",alignItems:"baseline",marginLeft:"32px",marginBottom:"12px",pointerEvents:"none"})),kE=b("div",()=>({fontSize:"18px",color:h.WHITE,textAlign:"center",padding:"8px"})),RE=b("div",()=>({display:"flex"})),LE=b("div",()=>({border:"2px solid "+h.BLACK,borderBottom:"2px solid "+h.RED,background:h.DARKRED,display:"flex",justifyContent:"space-between",boxShadow:CE,"&:hover":{border:"2px solid "+h.RED}})),IE=b("div",()=>({display:"flex",alignItems:"column",width:"32px","& > div":{width:"28px",marginBottom:"8px",zIndex:"1"}})),OE=b("div",()=>({display:"flex",flexDirection:"column",width:wE,padding:"0px 8px"})),Dn=b("div",()=>({display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:"4px"})),Nn=b("div",e=>({width:e.short?vE:bE,border:e.short?"unset":`2px solid ${h.WHITE}`,borderBottom:e.short?"unset":"0px"})),PE=e=>{const t=Ze(),i=c=>`${e.bCh.ch.name}_${c}`,n=()=>{const c=M();n0(c)===null&&(uo(c,e.characterIndex),W1())},o=()=>{e.bCh.ch.highlighted=!0},r=()=>{e.bCh.ch.highlighted=!1};he(M(),e.bCh,U.onCharacterDamaged,()=>{t()});const s=e.bCh.ch.name.slice(0,e.bCh.ch.name.indexOf("+")),l=[];for(let c=0;c<e.bCh.armor;c++)l.push(a("div",null,a(Sn,{key:c,color:h.LIGHTGREY})));return a(n1,null,a(AE,null,a(SE,{id:"top-row-ctr"}),a(RE,{id:"primary-row-ctr",onMouseOver:o,onMouseOut:r},a(IE,null,l),a(LE,{id:"primary-root",onClick:n},a(OE,{id:"primary"},a(kE,{id:"name-label-"+s},s),a(Dn,null,a(Nn,{short:!1},a(L0,{id:"progress-action",renderFunc:()=>e.bCh.actionTimer.getPctComplete(),renderKey:i("action"),backgroundColor:h.BLACK,color:EE,height:z5,label:""}))),a(Dn,null,a(Nn,{short:!1},a(L0,{id:"progress-hp",renderFunc:()=>ut(e.bCh.ch),renderKey:i("hp"),backgroundColor:h.BLACK,color:TE,height:xE,label:`HP: ${e.bCh.ch.hp}`}))),a(Dn,null,a("span",null," STAG "),a(Nn,{short:!0},a(L0,{id:"progress-stagger",renderFunc:()=>Y1(e.bCh)?1-e.bCh.staggerTimer.getPctComplete():e.bCh.staggerGauge.getPct(),renderKey:i("stagger"),backgroundColor:h.BLACK,color:Y1(e.bCh)?h.WHITE:_E,height:z5,label:""}))))))))},Ii=e=>{const t=Ye(null),[i,n]=G(se(e.animName)),o=e.width,r=e.height,s=e.scale,l=e.animName,c=Ym(()=>{const d=t.current;if(d){const[u,g]=i.getSpriteSize(0),m=s!=null?s:1;d.width=(o!=null?o:u)*m,d.height=(r!=null?r:g)*m;const f=d.getContext("2d");f.imageSmoothingEnabled=!1,f.clearRect(0,0,d.width,d.height),Jt(i,0,0,m,f)}},[s,o,r,i]);return c1(()=>{const d=t.current;i.name!==l?n(se(l)):d&&c()},[s,o,r,l,i,c]),Kn(e.renderLoopId,c),a("div",{id:e.id,style:e.rootStyle},a("canvas",{style:e.style,ref:t}))},ME=V1({"0%":{transform:"rotateZ(0deg)"},"50%":{transform:"rotateZ(180deg)"},"100%":{transform:"rotateZ(360deg)"}}),DE=V1({"0%":{transform:"translateY(-2px)"},"30%":{transform:"translateY(2px)"},"100%":{transform:"translateY(-2px)"}}),j5=b("div",()=>({position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",flexDirection:"column",top:"-42px","& > span":{marginLeft:"3px",fontSize:"20px",textTransform:"uppercase",marginBottom:"8px"}})),NE=b("div",()=>({animation:`${DE} 750ms linear infinite`,width:"48px",height:"48px"})),BE=b("div",()=>({animation:`${ME} 3000ms linear infinite`,width:"48px",height:"48px"})),$E=b("div",e=>({position:"absolute",top:"0px",right:e.align==="right"?"0px":"unset",left:e.align==="left"?"14px":"unset",width:"32px",height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end","& > div":{width:"28px",marginTop:"4px"}})),Y5=e=>{const t=e.bCh,i=M(),n=Ze(),[o,r]=G(null);it(M(),U.onTurnStarted,f=>{r(f)}),it(M(),U.onTurnEnded,()=>{r(null)}),it(M(),U.onCharacterDamaged,f=>{f===e.bCh&&n()});const s=zt(i,V.SWING)===t,l=zt(i,V.RANGED)===t,c=()=>{e.isEnemy&&n0(i)===null&&(s?Qi(i,e.battleIndex):uo(i,e.battleIndex)||Qi(i,e.battleIndex),W1())},d=[];e.bCh.armor>0&&d.push(a("div",null,a(Sn,{key:0,color:h.GREY})));const u=o===null,g=ze(),m=!e.hideTargets&&!t.isDefeated&&(g||u);return a($i,{ch:t.ch,renderKey:e.id,onClick:c,onMouseOver:()=>{t.ch.highlighted=!0},onMouseOut:()=>{t.ch.highlighted=!1}},e.animName?a(Ii,{id:t.ch.name+"_anim-div",animName:e.animName,renderLoopId:t.ch.name+"_"+e.animName,scale:4,rootStyle:{display:"flex",justifyContent:"center",alignItems:"center",width:"128px",height:"128px"}}):null,s&&m?a(j5,null,a(NE,null,a(Si,{color:h.YELLOW}))):null,l&&m?a(j5,null,a(BE,null,a(Ai,{color:h.RED}))):null,a($E,{align:e.isEnemy?"right":"left"},d,d.length>0?a("div",{style:{position:"absolute",bottom:"-4px",right:e.isEnemy?"-3px":"unset",left:e.isEnemy?"unset":"-4px",fontSize:"20px"}},e.bCh.armor):null))},WE=b("div",e=>({color:h.WHITE,fontSize:"14px",position:"absolute",padding:"4px",margin:"4px",top:"25%",width:"164px",background:"rgba(0, 0, 0, 0.25)",display:"flex",flexDirection:"column",alignItems:"space-between",justifyContent:e.placement==="left"?"flex-start":"flex-end",[e.placement]:"0px",opacity:e.visible?"1":"0",transition:"opacity 500ms"})),GE=b("div",e=>({display:"flex",justifyContent:e.placement==="right"?"flex-end":"unset",alignItems:"center",flexDirection:e.placement==="right"?"row-reverse":"unset"})),FE=b("div",e=>({fontSize:"20px",border:`2px solid ${h.BLACK}`,borderBottom:`2px solid ${e.placement==="right"?h.RED:h.BLUE}`,textAlign:"center",padding:"4px",background:e.placement==="right"?h.DARKRED:h.DARKBLUE})),HE=e=>a(GE,{placement:e.placement},a("span",null,e.params.name),a(Ii,{animName:e.params.icon,renderLoopId:`persistent-icon-${e.params.source.ch.name}`,scale:2})),Bn=e=>e===s1.ENEMY?"right":"left",V5=e=>{const t=Ze(),i=M(),n=JS(i,e.allegiance),o=Ym(s=>{const l=M();Z1(l,s.ch)===e.allegiance&&t()},[e.allegiance,n]);it(M(),U.onCharacterDamaged,o),it(M(),U.onCharacterChannelling,o);const r=n.length>0;return a(WE,{placement:Bn(e.allegiance),visible:r},a(FE,{placement:Bn(e.allegiance)},e.allegiance," Effects"),n.map((s,l)=>a(HE,{key:l,params:s,placement:Bn(e.allegiance)})))},$n=e=>{if(!e)return!1;let t=Boolean(e==null?void 0:e.onUse);return M()&&e.type===K.USABLE_OVERWORLD&&(t=!1),!M()&&e.type===K.USABLE_BATTLE&&(t=!1),t},UE=b("div",()=>({height:"100%",width:"100%",display:"flex",flexFlow:"column"})),KE=b("div",()=>({textAlign:"center",fontSize:"16px",padding:"0.5rem",minHeight:"16px",border:"1px solid"+h.WHITE,background:h.DARKRED,fontFamily:"DataLatin",letterSpacing:"1px",margin:"2px"})),zE=b("div",()=>({padding:"8px",fontSize:"24px",fontFamily:"DataLatin",letterSpacing:"1px"})),Oi=b("div",()=>({padding:"8px"})),Pi=e=>{var l,c,d,u,g,m,f,p,y,w;const t=((l=e.item)==null?void 0:l.modifiers)||{},i=[];for(const v in t){const A=t[v];i.push(`${v.toUpperCase()}: ${A>0?"+":""}${A}`)}const n=((c=e.item)==null?void 0:c.skills)||[],o=[];for(const v in n){const A=n[v];let C=A.name;const k=A.meta.swings,N=A.meta.ranges;k?C+=" (MELEE) ["+k.map(R=>R.toUpperCase()).join(",")+"]":N&&(C+=" (RANGE) ["+N.map(R=>R.toUpperCase()).join(",")+"]"),o.push(C)}const r=$n(e.item),s=((d=e==null?void 0:e.item)==null?void 0:d.icon)?Xe((u=e==null?void 0:e.item)==null?void 0:u.icon):()=>a("div",null);return a(UE,null,a("div",{style:{zIndex:1}},e.disableTitle?null:a(KE,null,"DESCRIPTION"),e.showName?a(zE,{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},a("b",null,(g=e.item)==null?void 0:g.label),a("div",{style:((m=e.item)==null?void 0:m.label)?{width:"48px",padding:"8px",border:"1px solid "+h.LIGHTGREY,background:h.BLACK}:{}},a(s,{color:h.WHITE}))):null,r&&!e.disableUse?a(k1,{type:f1.SECONDARY,style:{width:"100px",marginLeft:"8px",marginBottom:"16px"},onClick:async()=>{var v;((v=e==null?void 0:e.item)==null?void 0:v.onUse)&&e.onUse&&e.onUse(e.item)}},"Use ",u2()):null),a("div",{id:"item-description-container",style:{overflowY:"auto",borderTop:"1px solid "+h.WHITE,flex:"1",background:h.DARKGREY}},((f=e.item)==null?void 0:f.effectDescription)?a(Oi,{style:{color:h.LIGHTGREY}},(p=e.item)==null?void 0:p.effectDescription):null,i.length>0?a(Oi,{style:{color:h.BLUE}},i.join(", ")):null,o.length>0?a(Oi,null,o.map(v=>a("div",{style:{color:h.ORANGE},key:v},"Skill: "+v))):null,a(Oi,{dangerouslySetInnerHTML:{__html:(y=e.item)==null?void 0:y.description}},((w=e.item)==null?void 0:w.description)?"":a("div",{style:{color:h.LIGHTGREY,textAlign:"center"}},"Hover over an item to see a description."))))},jE=b("div",{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"800px"}),YE=b("div",{width:"50%"}),VE=b("div",{width:"50%"}),qE=b("div",{width:"100%",height:"508px",border:"1px solid "+h.WHITE,background:h.DARKGREY_ALT}),XE=e=>{const[t,i]=G(!0),o=e.player.backpack.sort().filter(p=>p.type===K.USABLE||p.type===K.USABLE_BATTLE).sort(xp),r=[];for(let p=0;p<o.length;p++){const y=o[p];r.find(w=>w.name===y.name)||r.push(y)}const[s,l]=G(0),c=r[s],d=async()=>{(c==null?void 0:c.onUse)&&(i(!1),await c.onUse(c,!0)?(tk(M()),e.onClose()):i(!0))},u=(c==null?void 0:c.modifiers)||{},g=[];for(const p in u){const y=u[p];g.push(`${p.toUpperCase()}: ${y>0?"+":""}${y}`)}const m=(c==null?void 0:c.skills)||[],f=[];for(const p in m){const y=m[p];f.push(y.name)}return a(ie,{title:"Items",onClose:()=>{e.onClose()},maxWidth:ue[b1.XLARGE].width,closeButtonLabel:"Back "+te(),dark:!0,disableKeyboardShortcut:!t},a(jE,null,a(YE,null,a(C1,{width:"100%",maxHeight:"465px",open:!0,isInactive:!t,title:"Usable Items",startingIndex:0,items:r.map((p,y)=>({label:a("div",{style:{background:y===s?h.DARKGREEN:"unset"}},p.label," (",S2(e.player,p.name),")"),value:y})),onItemClickSound:"menu_select",onItemClick:()=>{d()},onItemHover:p=>{l(p)},onAuxClick:d})),a(VE,null,a(qE,null,a(Pi,{item:c,showName:!0,onUse:()=>{x("menu_select"),d()}})))))},QE=b("div",()=>({position:"absolute",left:"calc(50% - 90px)",top:"178px",width:"180px",display:"flex",flexDirection:"column",alignItems:"center",whiteSpace:"pre",background:"rgba(0, 0, 0, 0.25)",boxShadow:"0px 0px 12px 8px rgb(0 0 0 / 25%)",borderRadius:"16px"})),ZE=e=>{const{Icon:t,color:i,text:n}={[s1.ENEMY]:{Icon:_5,color:h.RED,text:"Enemy Acting..."},[s1.ALLY]:{Icon:Mt,color:h.BLUE,text:"Player Acting..."},[s1.NONE]:{Icon:S5,color:h.YELLOW,text:"Awaiting Action"}}[e.allegiance];return a(QE,{id:"battle-turn-indicator"},a("div",{style:{width:"32px"}},a(t,{color:i})),a("div",null,e.isEffectActive?"Using item":n))},JE="0px 0px 12px 8px rgba(0, 0, 0, 0.75)",e_=b("div",()=>({position:"absolute",top:"0px",left:"0px",overflow:"hidden",width:"100%",height:"100%",pointerEvents:"none"})),t_=b("div",()=>({position:"absolute",left:"0",top:"168px",fontSize:"18px",width:"100%",textAlign:"right"})),i_=b("div",()=>({position:"absolute",bottom:"0px",left:"0px",width:"calc(100% - 64px)",margin:"32px",display:"flex",justifyContent:"center",alignItems:"flex-end",flexDirection:"row-reverse",pointerEvents:"all"})),n_=b("div",()=>({position:"absolute",top:"0px",right:"0px",width:"calc(100% - 64px)",margin:"8px 32px",display:"flex",justifyContent:"flex-end",alignItems:"flex-end",pointerEvents:"all"})),o_=b("div",e=>{const t=250;return{position:"absolute",pointerEvents:"all",margin:"32px",left:"0",top:"64px",width:t+"px",transform:e.visible?"translateX(0)":`translateX(-${t+32+12}px)`,transition:"transform 200ms ease-out",boxShadow:JE}}),Mi=b("div",e=>({padding:"8px",pointerEvents:e.disabled?"none":"inherit",background:e.disabled?h.BGGREY:"unset",borderRadius:"4px",color:e.disabled?h.GREY:"unset"})),q5=b("div",()=>({width:"32px",height:"32px",display:"inline-block",transform:"translateY(10px)",marginLeft:"8px"})),r_=e=>{var f;const t=M(),i=D().appState.battle,[n,o]=G(""),r=ze(),s=i.effect.active,l=D().appState.sections.includes(O.Cutscene)||U0($()),[c,d]=G(null);it(M(),U.onTurnStarted,p=>{console.log("turn started"),d(p)}),it(M(),U.onTurnEnded,()=>{console.log("turn ended"),d(null)}),Ge(p=>{if(!(s||l)){if(r&&n==="")be(p.key)||Cy(p.key)?(x("woosh_reverse"),D1()):p.key==="ArrowLeft"?(lp(t)?x("menu_select"):x("menu_cancel"),W1()):p.key==="ArrowRight"&&(cp(t)?x("menu_select"):x("menu_cancel"),W1());else if(r&&n==="actions")if(p.key==="Tab"||p.key==="ArrowLeft"){const y=D().appState.battle,w=M();let v=(y.characterIndexSelected+1)%w.allies.length;v===-1&&(v=w.allies.length-1),x("menu_select"),En(v),p.preventDefault()}else if(p.key==="ArrowRight"){let w=D().appState.battle.characterIndexSelected-1;w===-1&&(w=0),x("menu_select"),En(w),p.preventDefault()}else be(p.key)&&(x("menu_select2"),o(""))}},[r,n,s]);const u=n==="actions",g=n0(M())!==null,m={background:h.DARKGREEN};return a(e_,{id:"battle-section-root"},a(i_,{id:"ch-info-cards-ctr"},t.allies.map((p,y)=>p.shouldRemove?a("div",null):a(yE,{bCh:p,isSelected:u&&i.characterIndexSelected===y&&r,characterIndex:y,key:p.ch.name,id:"ch-info-card-"+p.ch.name}))),a(n_,{id:"enemy-info-cards-ctr"},t.enemies.map((p,y)=>a(PE,{bCh:p,isSelected:!1,characterIndex:y,key:p.ch.name,id:"ch-info-card-"+p.ch.name}))),a(V5,{allegiance:s1.ENEMY}),a(V5,{allegiance:s1.ALLY}),t.alliesStorage.map(p=>a(Y5,{key:p.ch.name,id:p.ch.name,bCh:p,battleIndex:t.alliesStorage.indexOf(p),isEnemy:!1,animName:s&&i.effect.bChList.includes(p)?i.effect.effectAnimName:void 0})),t.enemies.map(p=>a(Y5,{key:p.ch.nameLabel+"_"+t.enemiesStorage.indexOf(p),id:p.ch.nameLabel+"_"+t.enemiesStorage.indexOf(p),bCh:p,battleIndex:t.enemies.indexOf(p),isEnemy:!0,hideTargets:s,animName:s&&i.effect.bChList.includes(p)?i.effect.effectAnimName:void 0})),a(t_,null,r&&!s?a(n1,null,a("p",{style:{marginRight:"8px"}},"Press Left Arrow to cycle Melee Target.",a(q5,null,a(Si,{color:h.YELLOW}))),a("p",{style:{marginRight:"8px"}},"Press Right Arrow to cycle Range Target.",a(q5,null,a(Ai,{color:h.RED})))):null),s?null:a(n1,null,a(An,{disabled:l,buttons:[Q1.BATTLE_MENU,Q1.SETTINGS,Q1.DEBUG],onSettingsClick:()=>{ve()},onSettingsClose:()=>{t1(O.BattleUI,!0)},onMenuClick:()=>{r?(x("woosh_reverse"),D1()):(x("woosh"),ve())}}),a(o_,{visible:r},a(C1,{width:"100%",open:!0,isCursorSelectInactive:!r||n!=="",hideCloseBox:!0,title:"Battle Menu",items:[{label:a(Mi,{style:n==="resume"?m:{color:h.BLUE}},"Resume"),value:"resume"},{label:a(Mi,{style:n==="actions"?m:void 0,disabled:g},"Actions"),value:"actions"},{label:a(Mi,{style:n==="items"?m:void 0,disabled:g||t.itemTimer.getPctComplete()<1},"Items"," ",t.itemTimer.getPctComplete()>=1?"":((t.itemTimer.duration-t.itemTimer.getDiff()[0])/1e3).toFixed(2)+"s"),value:"items"},{label:a(Mi,{disabled:g||((f=t.template)==null?void 0:f.disableFlee)},"Flee"),value:"flee"}],onItemClickSound:"menu_select",onItemClick:p=>{var y;p==="resume"?(x("woosh_reverse"),D1(),o("")):g||p==="items"&&t.itemTimer.getPctComplete()<1?x("menu_cancel"):p==="flee"?((y=t.template)==null?void 0:y.disableFlee)?x("menu_cancel"):(D1(),WS(t)):o(p)},onClose:()=>{x("woosh_reverse"),o(""),D1()}}))),n==="items"&&!s?a(XE,{player:P(),onClose:()=>{o("")}}):null,a(ZE,{isEffectActive:s,allegiance:c!=null?c:s1.NONE}))};var Pe;(function(e){e.Active="active",e.Inactive="inactive",e.Passive="passive",e.Invisible="invisible"})(Pe||(Pe={}));const Wn=(e,t,i)=>{let n="";return t?n=`${e}_portrait_${t}`:n=`${e}_portrait`,i==="right"&&(n+="_f"),n},a_=b("div",e=>({position:e.fixed?"fixed":"absolute",top:"0px",left:"0px",overflow:"hidden",width:"100%",height:"100%"})),s_=b("div",e=>({position:"absolute",top:"0px",width:"100%",height:e.visible?"12.5%":"0%",transition:"height 0.25s",background:h.DARKGREY})),l_=b("div",e=>({position:"absolute",bottom:"0px",width:"100%",height:e.visible?"17%":"0%",transition:"height 0.25s",background:h.DARKGREY})),X5=b("div",()=>({position:"absolute",left:"0",top:"0",width:"100%",height:"100%",opacity:"0.04",backgroundImage:`url(${fe()}/bg/flowers_menu_bg.png)`,zIndex:0})),Gn=b("div",e=>{let t="1",i="0%",n="0%",o="left 0.2s, right 0.2s, bottom 0.2s";e.activeState===Pe.Active?i="3.125%":e.activeState===Pe.Inactive?(i="-3.125%",n="-3.125%",t="0.5"):e.activeState===Pe.Passive?n="-3.125%":e.activeState===Pe.Invisible&&(t="0",i="-50%",o="");const r=e.align==="left"?i:"",s=e.align==="right"?i:"";return{position:"absolute",minWidth:"50%",minHeight:"50%",transition:o,left:r,right:s,bottom:n,opacity:t}}),c_=b("div",e=>{const t="29%";let i="40%",n=e.align==="left"?t:`calc(100% - ${t} - ${i})`,o="25%",r="height 0.1s, left 0.1s, transform 0.1s ease-in";return e.align==="center"?(n="25%",i="50%",o="50%",r="height 0.1s, left 0.25s, transform 0.1s ease-in"):e.align==="center-low"?(o="40%",n="25%",i="50%"):e.visible?e.align==="center-high"&&(n="25%",i="50%",o="80%",r="height 0.1s, left 0.25s, transform 0.1s ease-in"):r="",{position:"absolute",width:i,height:o,left:n,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",transition:r,bottom:"0px",transform:e.visible?"scale(1)":"scale(0)"}}),d_=b("div",e=>{let t="unset",i="unset",n="solid",o="solid",r="2.5%",s="2.5%",l=h.WHITE,c=h.WHITE;return e.align==="right"?(r="5%",t="48px",n="16px solid",c=h.BLUE):e.align==="left"&&(s="5%",i="48px",o="16px solid",l=h.BLUE),{border:"2px solid "+h.WHITE,background:e.isNarration?h.DARKBLUE:"linear-gradient(0deg, rgba(0,0,0,1) 0%, rgba(45,45,45,1) 100%)",boxShadow:"0px 0px 24px 16px rgba(0, 0, 0, 0.75)",boxSizing:"border-box",width:"100%",padding:"2.5%",color:h.WHITE,fontSize:"24px",textAlign:"left",transition:"height 0.1s, width 0.1s",borderBottomLeftRadius:t,borderBottomRightRadius:i,borderLeft:n,borderRight:o,paddingLeft:r,paddingRight:s,borderRightColor:l,borderLeftColor:c,borderTopColor:h.BLUE,position:"relative"}}),u_=b("div",e=>({position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",transform:e.visible?"translateY(0%)":"translateY(55%)",transition:"transform 0.15s"})),h_=b("div",e=>({width:e.visible?"calc(100% + 2px)":"0px",display:"flex",marginBottom:"16px",opacity:e.visible?"100%":"0%",justifyContent:e.align==="right"?"flex-end":"flex-start"})),g_=b("div",e=>({color:h.BLACK,padding:"8px",fontSize:"18px",fontWeight:"bold",boxShadow:"0px 0px 24px 16px rgba(0, 0, 0, 0.75)",background:h.WHITE,border:"2px solid black",borderTopRightRadius:"8px",borderTopLeftRadius:"8px",minWidth:"64px",textAlign:"center",textTransform:"uppercase"})),Q5=V1({"0%":{transform:"translateY(-2px)"},"30%":{transform:"translateY(2px)"},"100%":{transform:"translateY(-2px)"}}),m_=b("div",e=>({position:"absolute",animation:`${Q5} 750ms linear infinite`,bottom:"calc(50% - 22px)",right:e.flipped?"unset":"-61px",left:e.flipped?"-61px":"unset",width:"39px"}));var Qe;(function(e){e.DELAY="delay",e.COLOR="color",e.SHAKE="shake",e.SCALE="scale",e.CASCADE="cascade",e.CASCADE_SHORTHAND="/",e.ITALIC="italic",e.CASCADE_LETTERS="cascade-letters"})(Qe||(Qe={}));const Z5=e=>({innerHTML:e,delay:0,color:"",scale:1,italic:!1,shake:!1,animation:"",commands:[]}),p_=window.parseDialogTextToPhrases=e=>{let t=e.match(/<.+?>/g);t?e[0]!=="<"&&(t=["<cascade=20>",...t],e="<cascade=20>"+e):(t=["<cascade=20>"],e="<cascade=20>"+e);const i=[];let n=[];for(let s=0;s<t.length;s++){const l=e.indexOf(t[s]),c=e.slice(0,l),d=t[s].slice(1,-1),u=Z5(c);u.commands=n,n=d.split(" ").map(g=>{var m,f;return{name:((m=g.split("=")[0])!=null?m:"").toLowerCase(),arg:(f=g.split("=")[1])!=null?f:""}}),e=e.slice(l+t[s].length),!!c&&i.push(u)}const o=Z5(e);o.commands=n,i.push(o);let r=0;for(let s=0;s<i.length;s++){const l=i[s];l.commands.forEach(c=>{switch(c.name){case Qe.DELAY:{r+=parseInt(c.arg)||0;break}case Qe.COLOR:{l.color=h[c.arg]||"";break}case Qe.SHAKE:{l.shake=!0;break}case Qe.SCALE:{l.scale=parseFloat(c.arg)||1;break}case Qe.ITALIC:{l.italic=!0;break}}}),l.delay=r,l.commands.forEach(c=>{switch(c.name){case Qe.CASCADE_SHORTHAND:case Qe.CASCADE:{const d=parseInt(c.arg)||20,u=l.innerHTML.split(/\s+/),g=[];for(let m=0;m<u.length;m++){const f=u[m]||" ",p=J(S({},l),{delay:l.delay+m*d,innerHTML:f+(m<u.length-1?l.scale!==1?"&nbsp;":" ":"")});g.push(p)}i.splice(s,1,...g),r+=u.length*d,s+=g.length-1;break}case Qe.CASCADE_LETTERS:{const d=parseInt(c.arg)||50,u=l.innerHTML.split(""),g=[];for(let m=0;m<u.length;m++){const f=u[m]||"&nbsp",p=J(S({},l),{delay:l.delay+m*d,innerHTML:f===" "?"&nbsp":f});g.push(p)}i.splice(s,1,...g),r+=u.length*d,s+=g.length-1;break}}})}return i};let J5="";const f_=async(e,t)=>{if(e.innerHTML="",t.text==="")return;const i=document.getElementById("talk-icon");i&&(i.style.display="none"),$().inputDisabled=!0;const n=[],o=(m,f)=>{let p=-1;const y=new Promise(w=>{p=setTimeout(()=>{m(),w()},f*(1/w0()))}).catch(()=>{clearTimeout(p)});return n.push(y),y},r=m=>`color: ${m.color||h.WHITE};`,s=m=>m.italic?"font-style: italic;":"",l=m=>`animation: ${m.shake?"shake 0.5s infinite":"unset"}; display: ${m.shake?"inline-block":"inline"};`,c=m=>`font-size: ${m.scale?Math.floor(24*m.scale)+"px":"inherit"};`,d=m=>{let f=`<span style="line-height:40px; vertical-align:middle; ${r(m)}${l(m)}${s(m)}">${m.innerHTML}</span>`;return m.scale!==1&&(f=`<span style="display: inline-block;${c(m)}">${f}</span>`),f},u=async()=>{let m="";g.forEach(p=>{m+=d(p)}),e.style.transition="",e.style.opacity="0",e.style.height="unset",e.innerHTML=m,await o(()=>{},250);const f=e.getBoundingClientRect();e.style.height=Math.max(40,f.height)+"px",e.innerHTML=""},g=p_(t.text);if(t.id===J5){let m="";g.forEach(f=>{m+=d(f)}),e.innerHTML=m}else{await u(),e.style.transition="",e.style.opacity="0";let m="";g.forEach(f=>{f.delay?o(()=>{m+=d(f),e.innerHTML=m},f.delay):m+=d(f)}),e.innerHTML=m,J5=t.id,o(()=>{e.style.transition="opacity 0.15s linear, height 0.15s linear",e.style.opacity="1"},25)}if(await Promise.all(n),i&&(await o(()=>{},150),i.style.display="block"),$().inputDisabled=!1,o2(i4())){const m=d2();m&&m({key:"x"})}},y_=e=>{var C,k,N,R;const[t,i]=G(!1),[n,o]=G(!1),r=Ye(null),s=D().appState.cutscene,[l,c]=UA({onConfirm:()=>{g()},onClose:()=>{D1()},body:"Are you sure you want to skip this cutscene?"}),d=()=>{ve(),c()};c1(()=>{t||i(!0)},[t]),c1(()=>{const L=r==null?void 0:r.current;L&&f_(L,s)});const u=!n&&!l&&!M()&&s.showBars!==!1&&!((C=D())==null?void 0:C.appState.sections.includes(O.Quest))&&_f(),g=async()=>{const L=K0(),F=document.getElementById("ui");F&&(F.style.transition="opacity 500ms linear",F.style.opacity="0");const E=document.getElementById("canv-outer");E&&(E.style.transition="opacity 500ms linear",E.style.opacity="0");const I=document.createElement("div");Object.assign(I.style,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%",display:"flex","font-size":"24px","justify-content":"center","align-items":"center"}),I.innerHTML="Skipping...",document.body.appendChild(I),o(!0);const W=document.getElementById("fade2");W&&(W.style.transition=`background-color ${300}ms`,W.style["background-color"]="rgba(0, 0, 0, 255)"),await new Promise(j=>setTimeout(j,1e3)),o(!1),D1(),gv($()),ee(L),setTimeout(()=>{const j=d2();j&&j({key:"x"}),$().isWaitingForInput=!1},1),I.remove(),P4(50,!0),setTimeout(()=>{const j=document.getElementById("fade2");j1(O.Cutscene),j&&(j.style.transition=`background-color ${300}ms`,j.style["background-color"]="rgba(0, 0, 0, 0)"),F&&(F.style.transition="opacity 300ms linear",F.style.opacity="1"),E&&(E.style.transition="opacity 300ms linear",E.style.opacity="1")},500)};Ge(L=>{ri(L.key)&&!D().appState.sections.includes(O.Settings)&&!l&&_n(m),Ay(L.key)&&u&&d()},[n,l,u]);const m=()=>{j1(O.Settings)};let f="center";[p1.Left].includes(s.speaker)||[p1.Center].includes(s.speaker)?f="right":[p1.Right].includes(s.speaker)?f="left":s.portraitCenter&&(f="center-low");const p=n||[p1.None].includes(s.speaker),y=!s.speakerName&&!p||((k=s.actorName)==null?void 0:k.toLowerCase())==="narrator";(s.showBars===!1||y)&&(f="center-high");const w=()=>{const L=d2();L&&t&&s.visible&&L({key:"x"})},v=(R=(N=B())==null?void 0:N.characters)!=null?R:[];console.log("RENDER CUTSCENE",D().appState.cutscene,l);const A=[];return M()||(A.push(Q1.SETTINGS),A.push(Q1.SKIP_CUTSCENE)),a(a_,{id:"cutscene-root",fixed:!!D().appState.arcadeGame.path,onClick:w},a(s_,{visible:s.visible&&s.showBars&&t},a(X5,null)),a(l_,{visible:s.visible&&s.showBars&&t},a(X5,null)),a("div",{style:{position:"absolute",left:"0",top:"0",zIndex:2,width:"100%"}},a(An,{buttons:A,onSettingsClick:()=>{},onSettingsClose:m,onSkipClick:u?()=>{d()}:void 0})),a(u_,{visible:s.visible&&t},s.portraitLeft!==""?a(Gn,{align:"left",activeState:s.speaker===p1.Left?Pe.Active:Pe.Inactive},a(We,{animName:Wn(s.portraitLeft,s.portraitLeftEmotion,"right")})):null,s.portraitCenter!==""?a(Gn,{align:"left",activeState:s.speaker===p1.Center?Pe.Active:Pe.Invisible},a(We,{animName:Wn(s.portraitCenter,s.portraitCenterEmotion,"right")})):null,s.portraitRight!==""?a(Gn,{align:"right",activeState:s.speaker===p1.Right?Pe.Active:Pe.Inactive},a(We,{animName:Wn(s.portraitRight,s.portraitRightEmotion,"left")})):null),a(c_,{visible:t&&s.text.length>0,align:f},a(h_,{visible:!!s.speakerName,align:s.speaker===p1.Right?"right":"left"},a(g_,null,s.speakerName)),a(d_,{id:"cutscene-textbox",align:f,isNarration:y},a("div",{id:"cutscene-textbox-content",style:{opacity:"0",transition:"unset"},ref:r},e.renderImmediate?s.text:void 0),a(m_,{id:"talk-icon",style:"display: none",flipped:s.speaker===p1.Right},a(Ti,{color:h.WHITE})))),v.map(L=>a($i,{ch:L,renderKey:"cutscene-follower-"+L.name,key:"cutscene-follower-"+L.name},L.name===s.actorName?a("div",{style:{display:"flex",justifyContent:"center",position:"relative",top:"-32px"}},a("div",{style:{width:"32px",background:"radial-gradient(circle, rgba(0,0,0,0.55) 0%, rgba(0,0,0,0) 85%)",animation:`${Q5} 750ms linear infinite`}},a(Ti,{color:h.WHITE}))):a("div",null))))},w_=b("div",{position:"absolute",top:"0px",overflow:"hidden",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"rgba(0, 0, 0, 0.5)"}),b_=()=>{const e=D().appState.choices,[t,i]=G(!1);return c1(()=>{t||i(!0)},[t]),a(w_,null,a(C1,{title:"Choose",width:"50%",open:!0,style:{transition:"transform 0.15s",transform:t?"scaleX(1)":"scaleX(0)"},items:e.choiceTexts.map((n,o)=>({label:a("div",null,a("span",null,n)),value:o})),useSpaceBarConfirm:!0,onItemClickSound:"menu_select",onItemClick:n=>{const o=$();o.storage.lastChoiceIndex=n,_0(o),cx()}}))},e8=b("div",()=>({color:h.WHITE,fontSize:"16px",margin:"8px",width:"100%","& > h2":{fontSize:"24px",textDecoration:"underline",margin:"0px",textAlign:"center",width:"100%"},"& > div":{margin:"8px",display:"flex",flexDirection:"column",alignItems:"flex-start",width:"calc(100% - 32px)"}})),v_=()=>{const e=Ze(),t=(l,c)=>{I9(c,l),e()},i=l=>{setTimeout(()=>x("aggro_alert",je(l)),25)},n=l=>{console.log("set cutscene speed",l),Lr(l),e()},o=je(l1.NORMAL),r=je(l1.MUSIC),s=w0();return a("div",null,a("p",null,"Changes to these settings are automatically saved."),a(x2,{size:b1.ADAPTIVE},a(e8,null,a("h2",null,"Volume Settings"),a("div",null,a("label",{name:"generic-volume"},"Effects Volume - ",Math.floor(o*100),"%"),a("input",{style:{width:"100%"},value:o,type:"range",step:.05,min:0,max:1,onChange:l=>{var c,d;return t((d=(c=l==null?void 0:l.target)==null?void 0:c.value)!=null?d:1,l1.NORMAL)},onMouseUp:()=>i(l1.NORMAL)})),a("div",null,a("label",{name:"music-volume"},"Music Volume - ",Math.floor(r*100),"%"),a("input",{style:{width:"100%"},value:r,type:"range",step:.05,min:0,max:1,onChange:l=>{var c,d;return t((d=(c=l==null?void 0:l.target)==null?void 0:c.value)!=null?d:1,l1.MUSIC)},onMouseUp:()=>i(l1.MUSIC)}))),a(e8,null,a("h2",null,"Game Settings"),a("div",null,a("label",{name:"cutscene-speed"},"Cutscene Speed - ",Math.floor(s*100),"%"),a("input",{style:{width:"100%"},value:s,type:"range",step:.05,min:.5,max:2,onChange:l=>{var c,d;return n((d=(c=l==null?void 0:l.target)==null?void 0:c.value)!=null?d:1)}})))))},t8=e=>{c1(()=>()=>{const i=e5();i5(i)},[]);const t=()=>{var n;const i=(n=e.onClose)!=null?n:D().appState.settings.onClose;e.onClose||x("menu_choice_close"),i()};return a(n1,null,a(ie,{title:"Settings",onClose:()=>{t()},disableCloseSound:Boolean(e.onClose),dark:!0,closeButtonLabel:"Back "+te()},a(v_,null)))},x_=b("div",e=>({opacity:"0",transition:"opacity 100ms",background:e.disableBackground?"unset":"rgba(0, 0, 0, 0.5)",position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2",pointerEvents:"all"})),T_=b("div",e=>{var t,i;return{margin:"4px",padding:"4px",minWidth:(t=e.maxWidth)!=null?t:"unset",maxWidth:(i=e.maxWidth)!=null?i:"90%",border:`2px solid ${e.danger?h.RED:h.BLUE}`,background:h.BGGREY,color:h.WHITE,transform:`scale(0) translate(${e.offsetX}px, ${e.offsetY})`,transition:"transform 100ms"}}),E_=b("div",e=>({margin:"8px",padding:"8px",fontSize:"32px",textTransform:"uppercase",borderBottom:`2px solid ${e.danger?h.RED:h.BLUE}`,fontFamily:"DataLatin",letterSpacing:"2px"})),__=b("div",()=>({margin:"8px",padding:"8px",fontSize:"16px"})),C_=b("div",()=>({display:"flex",justifyContent:"flex-end",padding:"8px",margin:"8px"})),g0=e=>{var f,p,y,w,v,A,C;const[t,i]=G(!1),[n,o]=G(-1),[r,s]=G(0),[l,c]=G(!1),[d,u]=G(!1),g=!!e.onConfirm,m=k=>{if(t||l||d)return;if(e.remainOpen){x("menu_select"),k();return}i(!0);const N=document.getElementById("dialog-container");N&&(N.style.transform="scale(0)");const R=document.getElementById("dialog-wrapper");R&&(R.style.opacity="0"),setTimeout(()=>{k()},100)};return Ge(k=>{if(!(t||l||d)){if(e.remainOpen){x("menu_select"),e.onClose();return}g?(be(k.key)&&(o(1),x("menu_select"),u(!0),setTimeout(()=>{m(()=>{e.onClose()})},100)),z0(k.key)&&(o(r),r===0?(x("menu_select"),c(!0),setTimeout(()=>{m(()=>{e.onConfirm&&e.onConfirm()})},100)):(x("menu_select"),u(!0),setTimeout(()=>{m(()=>{e.onClose()})},100))),k.key==="ArrowLeft"?(x("menu_move"),s(0)):k.key==="ArrowRight"&&(x("menu_move"),s(1))):(be(k.key)&&(o(0),x("menu_choice_close"),m(()=>{e.onClose()})),z0(k.key)&&(o(0),x("menu_select"),m(()=>{e.onClose()})))}},[r,t,l,d,e.onClose]),c1(()=>{var R,L,F,E;const k=document.getElementById("dialog-container");k&&(k.style.transform=`scale(1) translate(${(L=(R=e.offset)==null?void 0:R[0])!=null?L:0}px, ${(E=(F=e.offset)==null?void 0:F[1])!=null?E:0}px)`);const N=document.getElementById("dialog-wrapper");N&&(N.style.opacity="1")},[e.offset]),a(x_,{id:"dialog-wrapper",disableBackground:e.disableBackground},a(T_,{id:"dialog-container",maxWidth:e.maxWidth,danger:e.danger,offsetX:(p=(f=e.offset)==null?void 0:f[0])!=null?p:0,offsetY:(w=(y=e.offset)==null?void 0:y[1])!=null?w:0},a(E_,{danger:e.danger},e.title),a(__,null,e.children),a(C_,null,g?a(n1,null,a(k1,{type:f1.PRIMARY,style:{marginRight:"1rem",filter:l?"brightness(80%)":"",transform:l?"translateY(2px)":""},onClick:k=>{k.stopPropagation(),k.preventDefault(),m(()=>{e.onConfirm&&e.onConfirm()})},showCursor:r===0,active:n===0},(v=e.confirmButtonLabel)!=null?v:"OK"),a(k1,{type:f1.CANCEL,style:{marginRight:"1rem",filter:d?"brightness(80%)":"",transform:d?"translateY(2px)":""},onClick:k=>{k.stopPropagation(),k.preventDefault(),x("menu_select"),m(()=>{e.onClose()})},showCursor:r===1,active:n===1},(A=e.closeButtonLabel)!=null?A:"Cancel")):a(k1,{type:f1.PRIMARY,style:{marginRight:"1rem",filter:l?"brightness(80%)":"",transform:l?"translateY(2px)":""},onClick:()=>{m(()=>{e.onClose()})},showCursor:!0,active:n===0},(C=e.closeButtonLabel)!=null?C:"Close"))))},A_=e=>a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:e.color,stroke:e.color},a("g",{class:"",transform:"translate(0,0)",style:""},a("path",{d:"M375.563 15.344c-3.744-.036-7.46.797-10.875 2.906-6.406 3.954-9.283 10.876-10.188 17.875v.03c-58.905 99.84-141.287 150.724-234.53 208.19-17.742 7.012-29.062 20.612-34.19 35.155-15.89-5.312-23.478-17.805-22.968-25.313l-18.656-1.28c-1.278 18.792 13.092 36.91 35.688 44.312l-1.656.5c-36.15 26.775-70.78 89.097-39.688 163.31 6.443 15.38 17.065 24.21 29.625 28.908 12.56 4.697 27.19 4.848 40 1.468 12.81-3.38 23.52-10.32 28.813-18.094 5.29-7.773 6.53-15.74.062-27.03-13.84-24.154-28.63-50.166-24.5-77.282 28.037 16.267 58.335 11.598 77.156-5.563 19.28-17.577 26.135-48.276 10.125-77.593 79.474-47.578 156.44-86.004 256.064-92.094 3.965.776 8.044.766 11.906-.53.022-.01.04-.025.063-.032.688-.024 1.37-.042 2.062-.063l-.375-.594c.75-.336 1.494-.707 2.22-1.155 6.83-4.218 9.65-11.82 10.342-19.28.693-7.463-.39-15.725-2.687-24.907-4.592-18.366-14.277-40.386-28.125-62.782-13.848-22.396-29.212-40.93-43.594-53.25-7.19-6.16-14.108-10.812-21.094-13.53-3.492-1.36-7.256-2.246-11-2.282zM375.188 34c.148-.01.326-.01.53 0 .82.043 2.094.296 4.063 1.063 3.94 1.532 9.573 5.047 15.72 10.312 12.293 10.53 26.843 27.85 39.844 48.875 13 21.026 21.982 41.773 25.906 57.47 1.962 7.846 2.61 14.454 2.22 18.655-.39 4.2-1.468 5.066-1.564 5.125-.095.06-1.343.595-5.28-.938-3.94-1.532-9.542-5.047-15.688-10.312-12.294-10.53-26.874-27.85-39.875-48.875-13.002-21.026-21.983-41.773-25.907-57.47-1.962-7.846-2.577-14.454-2.187-18.655.39-4.2 1.435-5.035 1.53-5.094.036-.022.24-.125.688-.156zM187.155 302.875c7.386 19.413 1.56 36.125-10.094 46.75-13.57 12.373-35.423 16.472-58.468 1.156 4.427-8.25 11.1-16.105 20.22-23.217 11.695-9.123 27.59-17.28 48.342-24.688z",fill:"#fff","fill-opacity":"1"}))),S_=b("div",()=>({width:"528px"})),k_=b("div",()=>({display:"flex",justifyContent:"flex-start","& > div":{marginRight:"8px"}})),R_=b("div",()=>({background:h.DARKGREY,display:"flex",justifyContent:"center",alignItems:"center",border:`2px solid ${h.WHITE}`,width:"93",height:"93",cursor:"pointer",overflow:"hidden"})),L_=b("div",()=>({width:"24px",height:"95px",display:"flex",flexDirection:"column",justifyContent:"flex-end"})),I_=b("div",()=>({width:"40%",display:"flex",justifyContent:"flex-end",flexDirection:"column",alignItems:"flex-start"})),O_=b("div",()=>({display:"flex",justifyContent:"flex-start","& > div":{marginRight:"8px"}})),Fn=b("div",e=>{var t;return{marginTop:e.short?"2px":"unset",width:"100%",border:e.short?"unset":`2px solid ${(t=e.borderColor)!=null?t:h.WHITE}`,borderBottom:e.short?"unset":"0px"}}),i8=b("div",()=>({})),n8=b("div",()=>({display:"flex",justifyContent:"flex-start",fontSize:"16px",pointerEvents:"none","& > label":{width:"50px"}}));b("div",()=>({marginBottom:"2px"}));const P_=b("div",()=>({display:"flex",justifyContent:"flex-start",fontSize:"12px",pointerEvents:"none",color:h.YELLOW,"& > label":{marginRight:"12px",textAlign:"left"}})),M_=e=>{var i;return(i={[G1.SWORD]:Ci,[G1.BOW]:kn,[G1.SPEAR]:k5,[G1.HAMMER]:E5,[G1.GUN]:A_,[G1.WAND]:O5}[e])!=null?i:Ci},Hn=e=>{var o;const t=e.ch;if(!t)return a("div",null);const i=[{label:"POW",value:"POW"},{label:"ACC",value:"ACC"},{label:"FOR",value:"FOR"},{label:"CON",value:"CON"},{label:"RES",value:"RES"}],n=[{label:"SPD",value:"SPD"},{label:"EVA",value:"EVA"},{label:"",value:""},{label:"MHP",value:"HP"},{label:"RESV",value:"RESV"}];return a(S_,{style:e.style,id:"ch-status-"+((o=e.ch)==null?void 0:o.name)},a(k_,null,a(R_,null,e.usePortrait?a(We,{style:{width:"128"},animName:`${t.name.toLowerCase()}_portrait_f`}):a(We,{style:{width:"64"},animName:`${t.spriteBase.toLowerCase()}_idle_down`})),e.hideWeapons?null:a(L_,null,t.weaponEquipTypes.map((r,s)=>{const l=M_(r);return a(l,{color:"white",key:s})})),a(I_,null,a(O_,null,a(Bt,{id:"name-label-"+t.name},t.name),a("div",{style:{whiteSpace:"pre"}},"Level ",p0(t),a(P_,null,a("label",null,"LVL Pts"),t==null?void 0:t.experienceCurrency))),e.hideHp?null:a(n1,null,a(Fn,{short:!1,borderColor:h.WHITE},a(v2,{pct:ak(t),backgroundColor:h.BLACK,color:h.PURPLE,height:8,label:""})),a(Fn,{short:!1},a(v2,{pct:ut(t),backgroundColor:h.BLACK,color:h.GREEN,height:20,label:`HP: ${t.hp}`})))),e.hideStats?null:a(n1,null,a(i8,null,i.map(({label:r,value:s})=>a(n8,{key:r},a("label",null,r)," ",s?m0(t,s):""))),a(i8,null,n.map(({label:r,value:s})=>a(n8,{key:r},a("label",null,r)," ",s?m0(t,s):""))))),e.hideExp?null:a(Fn,{short:!0,borderColor:h.DARKBLUE},a(v2,{pct:n9(t),backgroundColor:h.BROWN,color:h.YELLOW,height:6,label:""})))},o8=e=>{var r,s;const t=P(),i=S2(t,(r=e.itemName)!=null?r:""),n=Ft(e.itemName),o=Xe((s=n==null?void 0:n.icon)!=null?s:"");return a("div",{style:{marginBottom:"16px",padding:"16px",fontSize:"18px"}},(n==null?void 0:n.icon)?a("div",{style:{display:"flex",justifyContent:"center",marginBottom:"8px"}},a("div",{style:{width:"48px"}},a(o,{color:h.WHITE}))):null,a("div",{style:{color:h.ORANGE,textAlign:"center",marginBottom:"8px"}},n==null?void 0:n.label),a("div",{style:{color:h.WHITE,textAlign:"center",marginBottom:"8px"}},n==null?void 0:n.effectDescription),a("div",{style:{textAlign:"center"}},"You have"," ",a("span",{style:{color:i>0?h.BLUE:h.RED,transform:"scale(1.25)"}},i)," ","remaining."))},D_=b("div",()=>({position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%"})),N_=e=>{var o;const[{cursorIndex:t,isSelecting:i},n]=E0((r,s)=>{var c;const l=S({},r);switch(s.type){case"CursorNext":{x("menu_move"),l.cursorIndex=(l.cursorIndex+1)%e.characters.length;break}case"CursorPrev":{x("menu_move"),l.cursorIndex=(l.cursorIndex+1+e.characters.length)%e.characters.length;break}case"SetCursor":{l.cursorIndex=(c=s.payload)!=null?c:0;break}case"Confirm":{const d=e.characters[l.cursorIndex];n({type:"SetSelecting",payload:!0}),x("menu_select"),setTimeout(()=>{n({type:"SetSelecting",payload:!1}),e.onCharacterClick(d,l.cursorIndex)},100);break}case"Cancel":{e.onClose&&e.onClose();break}}return l},{cursorIndex:(o=e.startingCursorIndex)!=null?o:0,isSelecting:!1});return Ge(r=>{e.isInactive||i||(z0(r.key)?n({type:"Confirm"}):be(r.key)?n({type:"Cancel"}):o4(r.code)||a4(r.code)?n({type:"CursorPrev"}):(r4(r.code)||s4(r.code))&&n({type:"CursorNext"}))},[e.isInactive,i]),a(D_,null,a("div",{style:{position:"absolute",left:"12px",width:"100%",display:"flex",justifyContent:"center",alignItems:"flex-end",bottom:"311px",fontSize:"24px"}},e.body),e.characters.map((r,s)=>a($i,{ch:r,renderKey:"menu-follower-"+r.name,key:"menu-follower-"+r.name,onMouseOver:()=>{n({type:"SetCursor",payload:s})},onClick:()=>{n({type:"SetCursor",payload:s}),n({type:"Confirm"})},style:{border:"1px dashed rgba(255, 255, 255, 0.5)",borderRadius:"8px",cursor:"pointer"}},a(Rn,{visibility:t===s||e.isAll?"unset":"hidden"}))))},J0="500px",r8="500px",Un=b("div",()=>({width:"100%",display:"flex",justifyContent:"center"})),a8=b("div",()=>({width:"42px",height:"42px",display:"inline-block",padding:"8px",border:"1px solid "+h.WHITE,marginBottom:"16px",background:h.BLACK})),B_=e=>{const t="line-dialog-box",i="line-dialog-box-div1";_2({svgId:t,div1Id:i,div2Id:"primary-Ada",offset1:[0,0],offset2:[0,-40]});const o=M(),r=io(o.alliesStorage.indexOf(o.allies[0]));return a(n1,null,a(g0,{title:"Tutorial",onClose:e.onClose,maxWidth:J0,disableBackground:!0,offset:[0,100]},a("p",null,"When this bar is full, continuously press ",r," or tap Ada's portrait to ",a("span",{style:{color:h.LIGHTBLUE}},"attack"),". Ada can attack more than once."),a("div",{id:i})),a(C2,{id:t}))},$_=e=>a(g0,{title:"Tutorial",onClose:e.onClose,maxWidth:J0},a("p",null,"At any time you can pause the game via the button in the top left or by pressing ",a("b",null,n4(),".")),a("p",null,"When the game is paused, you can see information about the currently selected actions for your party.")),W_=e=>a(g0,{title:"Tutorial",onClose:e.onClose,maxWidth:J0},a("p",null,"Ada currently has a ",a("b",null,"Swing")," action equipped with two attacks."),a(Un,null,a("img",{src:`${fe()}img/tutorial-training-swing.png`,alt:"tutorial-image"})),a("p",null,"A ",a("b",null,"Swing")," action will cause Ada to jump to the character targeted by the yellow sword symbol and initiate an attack. This consumes the first attack."),a("p",null,"For a short time afterwards, the action button can be pressed again to consume the next attack."),a("p",null,"This can be repeated until all the attacks specified on the action are consumed.")),G_=e=>{const t="line-dialog-box",i="line-dialog-box-div1";return _2({svgId:t,div1Id:i,div2Id:"name-label-Robot",offset1:[0,0],offset2:[0,75]}),a(n1,null,a(g0,{title:"Tutorial",onClose:e.onClose,maxWidth:J0,disableBackground:!0,offset:[200,-115]},a("div",{id:i}),a("p",null,"Attacks fill this bar. When this bar is full, a character is"," ",a("span",{style:{color:h.YELLOW}},"STAGGERED"),"."),a("p",null,"When ",a("span",{style:{color:h.YELLOW}},"STAGGERED"),", a character takes increased damage and cannot act until the bar depletes.")),a(C2,{id:t}))},F_=e=>{const t=M(),i=io(t.alliesStorage.indexOf(t.allies[1]));c1(()=>{n===0&&(Qi(t,1),W1())},[]);const[n,o]=G(0),r="line-dialog-box2",s="line-dialog-box-div1";let l="primary-Conscience",c,d=[0,0],u=[0,0],g=[0,0];return n===0?(c=a("p",null,"Conscience has joined! When this bar is full, press ",i," or tap Conscience's portrait to"," ",a("span",{style:{color:h.LIGHTBLUE}},"attack"),". Both Conscience and Ada can attack simultaneously."),d=[-128,100],g=[0,-40],l="primary-Conscience"):n===1?(c=a("p",null,a(Un,null,a(a8,null,a(Ai,{color:h.RED}))),"Conscience has a"," ",a("span",{style:{color:h.LIGHTRED}},"ranged weapon"),". This icon indicates the target of all ranged attacks. It can be placed on any enemy on the battlefield by tapping the enemy."),d=[-150,-20],u=[0,85],l="Robot M Fast_1"):n===2&&(c=a("p",null,a(Un,null,a(a8,null,a(Si,{color:h.YELLOW}))),"Ada has a ",a("span",{style:{color:h.YELLOW}},"melee weapon"),". This icon indicates the target of all melee attacks. It can ONLY be placed on any enemies in the"," ",a("span",{style:{color:h.LIGHTGREEN}},"FRONT ROW")," of the battlefield."),d=[-205,100],u=[0,85],l="Robot M_0"),_2({svgId:r,div1Id:s,div2Id:l,offset1:u,offset2:g}),a(n1,null,a(g0,{title:"Tutorial",onClose:()=>{n<2?o(n+1):e.onClose()},maxWidth:J0,disableBackground:!0,offset:d,remainOpen:n<2},n>0?a("div",{id:s}):null,c,n===0?a("div",{id:s}):null),a(C2,{id:r}))},H_=e=>{const t="line-dialog-box",i="line-dialog-box-div1";return _2({svgId:t,div1Id:i,div2Id:"Robot Mage_1",offset1:[0,0],offset2:[0,0]}),a(n1,null,a(g0,{title:"Tutorial",onClose:e.onClose,maxWidth:J0,disableBackground:!0,offset:[-75,-75]},a("p",null,"A character casting a spell can be"," ",a("span",{style:{color:h.LIGHTGREEN}},"INTERRUPTED")," if enough damage is dealt."),a("div",{id:i})),a(C2,{id:t}))},U_=e=>{const[t,i]=G(0),n="line-dialog-box",o="line-dialog-box-div1";let r="Robot Armored_0",s,l=[0,0],c=[0,0],d=[0,0];return t===0?(s=a("p",null,"A character with armor is"," ",a("span",{style:{color:h.YELLOW}},"IMMUNE")," to physical damage. One point of armor can be removed by two characters landing attacks simultaneously."),l=[-205,-5],d=[40,60],r="Robot Armored_0"):t===1&&(s=a("p",null,"Certain items are also able to remove armor. Items can be used in the pause menu"," ",a("span",{style:{color:h.LIGHTRED}},"only when the enemy is not attacking"),"."),l=[-275,-200],r="top-bar-menu",c=[-260,-150],d=[0,30]),_2({svgId:n,div1Id:o,div2Id:r,offset1:c,offset2:d}),a(n1,null,a(g0,{title:"Tutorial",onClose:()=>{t<1?i(t+1):e.onClose()},maxWidth:J0,remainOpen:t<1,disableBackground:!0,offset:l},s,a("div",{id:o})),a(C2,{id:n}))},K_=e=>{const t=typeof e.body=="string"?a("p",null,e.body):e.body;return a(g0,{title:"Info",onClose:e.onClose,maxWidth:r8},t)},s8=e=>{const t=typeof e.body=="string"?a("p",null,e.body):e.body;return a(g0,{title:"Confirm",onClose:e.onClose,onConfirm:e.onConfirm,maxWidth:r8,danger:e.danger},t)},z_=b("div",e=>{var t,i;return{position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center",height:"93px",background:(t=e.color)!=null?t:"unset",padding:(i=e.padding)!=null?i:"unset",boxSizing:"border-box",border:e.color?`2px solid ${h.DARKGREEN}`:"unset"}}),j_=e=>{const[t,i]=G(null),o=P().party;return a(ie,{title:"Select Party Member",onClose:e.onClose,closeButtonLabel:"Back "+te(),isModal:!0,dark:!0},a("div",{style:{width:"600px"}},e.meta.itemNameForDescription?a(o8,{itemName:e.meta.itemNameForDescription}):null,a(C1,{title:"Party",open:!0,isInactive:!e.active,width:"600px",items:o.map(r=>{const s=o.filter(e.filter||(()=>!0)).includes(r);return{label:a(z_,null,a(Hn,{ch:r,usePortrait:!1,style:{filter:s?"unset":"blur(1px) brightness(0.25) sepia(75%) invert(25%)"}}),s?null:a("div",{style:{position:"absolute",width:"100%",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",height:"106px"}},"Select Another Character")),value:r}}),onItemClickSound:"menu_select",onItemClick:async r=>{var s,l;e.onConfirm&&o.filter(e.filter||(()=>!0)).includes(r)?(((s=e.meta)==null?void 0:s.showDelayInfo)&&i(r),await e.onConfirm(r),((l=e.meta)==null?void 0:l.showDelayInfo)&&i(null)):Oe("terminal_cancel")}})))},Y_=e=>a(N_,{body:e.body,characters:e.meta.characters,onCharacterClick:t=>{e.onConfirm&&e.onConfirm(t)},onClose:e.onClose,isAll:e.meta.isAll}),V_=()=>{var d;const[e,t]=G(!0),i=(d=D())==null?void 0:d.appState.modal,n=i==null?void 0:i.section,o=i==null?void 0:i.onClose,r=i==null?void 0:i.onConfirm,s=()=>{j1(O.Modal),setTimeout(()=>{o&&o()},1)},l=()=>{e&&(j1(O.Modal),setTimeout(()=>{r&&r()},1))};let c=null;switch(n){case E1.TUTORIAL_ATTACK:{c=a(B_,{onClose:s});break}case E1.TUTORIAL_PAUSING:{c=a($_,{onClose:s});break}case E1.TUTORIAL_ATTACK_AMOUNTS:{c=a(W_,{onClose:s});break}case E1.TUTORIAL_STAGGER:{c=a(G_,{onClose:s});break}case E1.TUTORIAL_BACK_ROW:{c=a(F_,{onClose:s});break}case E1.TUTORIAL_MAGIC:{c=a(H_,{onClose:s});break}case E1.TUTORIAL_ARMOR:{c=a(U_,{onClose:s});break}case E1.INFO:{c=a(K_,{onClose:s,body:i.body});break}case E1.CONFIRM:{c=a(s8,{onClose:s,onConfirm:l,body:i.body,danger:i.danger});break}case E1.SELECT_PARTY_MEMBER:{c=a(j_,{body:i.body,active:e,onClose:s,onConfirm:async u=>{e&&(r?await r(u):j1(O.Modal))},filter:i.filter,meta:i.meta});break}case E1.SELECT_CHARACTER_FOLLOWER:{c=a(Y_,{body:i.body,active:e,onClose:s,onConfirm:async u=>{e&&(r?await r(u):j1(O.Modal))},filter:i.filter,meta:i.meta});break}default:c=a("div",null,"No Modal Specified.")}return c},q_=4,X_=b("div",{position:"absolute",top:"0px",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"rgba(0, 0, 0, 0.5)"}),Q_=b("div",{display:"flex",justifyContent:"space-between",flexDirection:"column",alignItems:"center",height:"100%"}),Z_=b("div",{display:"flex",justifyContent:"center",padding:"8px"}),J_=b("div",()=>({background:h.DARKGREEN,border:"1px solid "+h.WHITE,borderRadius:"26px",padding:"4px"})),eC=()=>{const[e,t]=G(R0()),[i,n]=G(!1),o=()=>{console.log("CREATE SAVE GAME"),x("menu_sparkle"),n(!0),r5(e.length),$e(E1.INFO,{onClose:()=>{n(!1),t(R0())},body:"Save created!"})},r=c=>{if(c>=e.length){o();return}console.log("SAVE GAME",c),x("menu_choice_open"),n(!0),$e(E1.CONFIRM,{onClose:()=>{n(!1)},onConfirm:()=>{x("menu_sparkle"),r5(c),$e(E1.INFO,{onClose:()=>{n(!1),t(R0()),ve()},body:"Save created!"})},body:"Are you sure you wish to overwrite this save file?"})},s=c=>{console.log("DELETE GAME",c),x("menu_choice_open"),n(!0),$e(E1.CONFIRM,{onClose:()=>{n(!1)},onConfirm:()=>{x("menu_cancel"),Dv(c),$e(E1.INFO,{onClose:()=>{n(!1),t(R0())},body:"Save deleted!"})},danger:!0,body:"Are you sure you wish to delete this save file?"})},l=()=>{const c=D().appState.save.onClose;x("menu_select"),c()};return FA(c=>{be(c.key)&&l()}),a(n1,null,a(X_,null,a(x2,{size:b1.LARGE},a(Q_,{id:"save-spacer"},a(C1,{title:"Saves",width:"100%",open:!0,isInactive:i,items:e.map((c,d)=>({label:a(D5,{save:c,i:d,handleDeleteClick:u=>s(u)}),value:d})).concat(e.length<q_?[{label:a(J_,null,"+ New Save"),value:e.length}]:[]),onItemClickSound:"menu_select",onItemClick:r,onAuxClickSound:"menu_select",onAuxClick:s}),a(Z_,null,a(k1,{type:f1.PRIMARY,onClick:l},"Close ",te()))))))},tC="628px",iC=b("div",{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%",zIndex:"1",marginTop:"16px"}),nC=b("div",{width:"50%",maxHeight:tC}),oC=b("div",{width:"50%"}),rC=b("div",{width:"100%",height:"508px",border:"1px solid "+h.WHITE,background:h.DARKGREY_ALT}),aC=b("div",{border:"1px solid "+h.WHITE,background:h.DARKGREY_ALT,height:"89px"}),sC=b("div",{textAlign:"center",color:h.WHITE,fontSize:"16px"}),lC=b("div",{display:"flex",justifyContent:"center"}),cC=b("div",e=>({margin:"2px",boxSizing:"border-box",border:"1px solid "+h.WHITE,background:e.highlighted?h.DARKBLUE:h.DARKGREY,padding:"4px",width:"99px",cursor:"pointer","&:hover":{borderColor:h.YELLOW}})),dC=V1({"0%":{opacity:"1"},"50%":{opacity:"0"},"100%":{opacity:"1"}}),l8=b("div",e=>({width:"16px",transform:e.left?"rotate(180deg)":"unset",marginTop:"24px",animation:`${dC} 750ms linear infinite`})),uC=e=>{const[t,i]=G(1),[n,o]=G(!0),s=e.player.backpack.filter(C=>{switch(t){case 1:return C.type===K.USABLE||C.type===K.USABLE_BATTLE||C.type===K.USABLE_OVERWORLD;case 2:return[K.WEAPON,K.ARMOR,K.ACCESSORY].includes(C.type);case 3:return C.type===K.QUEST;default:return!0}}).sort(xp),l=[];for(let C=0;C<s.length;C++){const k=s[C];l.find(N=>N.name===k.name)||l.push(k)}const[c,d]=G(0),u=l[c],g=C=>{x("menu_select2"),i(C),d(0),o(!1),setTimeout(()=>{o(!0)},20)},m=async()=>{$n(u)&&u.onUse&&(o(!1),await u.onUse(u),o(!0))};let f=!0;Ge(C=>{if(n){if(C.key==="ArrowLeft")g((t-1+4)%4);else if(C.key==="ArrowRight")g((t+1)%4);else if(ri(C.key)){const k=document.getElementById("item-description-container");k&&(f?k.scrollTop=9999:k.scrollTop=0,f=!f)}}},[t,n]);const p=(u==null?void 0:u.modifiers)||{},y=[];for(const C in p){const k=p[C];y.push(`${C.toUpperCase()}: ${k>0?"+":""}${k}`)}const w=(u==null?void 0:u.skills)||[],v=[];for(const C in w){const k=w[C];v.push(k.name)}return a(iC,null,a(nC,null,a(aC,null,a(sC,null,a("div",{style:{padding:"8px"}},"Press Left/Right Arrows to change filter."),a(lC,null,[{label:"All",icon:A5},{label:"Consumable",icon:C5},{label:"Equipment",icon:Ci},{label:"Quest",icon:Mt}].map((C,k)=>a(cC,{key:C.label+k,highlighted:k===t,onClick:()=>{g(k)}},k===t?a("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",height:"0px",position:"relative",alignItems:"center"}},a(l8,{left:!0},a(Te,{color:h.WHITE})),a(l8,null,a(Te,{color:h.WHITE}))):null,a("div",{style:{width:"22px",margin:"auto"}},a(C.icon,{color:h.WHITE})),C.label))))),a(C1,{width:"100%",maxHeight:"409px",open:!0,isInactive:!n||e.isInactive,hideTitle:!0,startingIndex:0,itemHeight:48,items:l.map((C,k)=>{var L;const N=S2(e.player,C.name),R=Xe((L=C.icon)!=null?L:"help");return{label:a("div",{style:{textAlign:"left",display:"flex",alignItems:"center",padding:"4px",textDecoration:$n(C)?"underline":"unset",background:k===c?h.DARKGREEN:"unset"}},a("div",{style:{width:"24px",marginRight:"16px",marginLeft:"32px"}},a(R,{color:h.WHITE})),C.label," ",N>1?`(${N})`:""),value:k}}),onItemClickSound:"menu_select",onItemClick:()=>{m()},onItemHover:C=>{d(C)}})),a(oC,null,a(rC,null,a(Pi,{item:u,showName:!0,onUse:()=>{x("menu_select"),m()}}))))},c8="628px",hC=b("div",{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%",zIndex:"1"}),gC=b("div",{width:"50%",maxHeight:c8,zIndex:"1"}),mC=b("div",{width:"50%"}),pC=b("div",{width:"100%",height:"475px",zIndex:"1"}),fC=b("div",{border:"1px solid "+h.WHITE,background:h.DARKGREY,textTransform:"uppercase",padding:"16px",textAlign:"center",marginBottom:"2px"}),yC=b("div",{border:"1px solid "+h.WHITE,background:h.DARKRED,padding:"16px",height:"72px",boxSizing:"border-box"}),wC=b("div",{border:"1px solid "+h.WHITE,background:h.DARKGREY_ALT,margin:"2px 0px",padding:"16px",height:"calc(100% - 128px)",overflowY:"auto"}),bC=V1({"0%":{transform:"translateY(-1px)"},"20%":{transform:"translateY(-3px)"},"100%":{transform:"translateY(-1px)"}}),vC=b("div",{animation:`${bC} 850ms linear infinite`,width:"24px",height:"24px",position:"absolute",right:"8px",top:"0px"}),xC=e=>{var g,m,f,p,y;const t=e.scene,[i,n]=G(_4()),o=d7(t).concat(u7(t)).sort((w,v)=>{const A=xe(t,w),C=xe(t,v);return w.name==="Main"?-1:v.name==="Main"?1:A&&C?w.name<v.name?-1:1:A?1:C||w.name<v.name?-1:1}),r=o.findIndex(w=>w.name===i[0]),[s,l]=G(r>-1?r:0),c=o[s],d=c?li(t,c==null?void 0:c.name):void 0,u=c?xe(t,c):!1;return a("div",{style:{width:"100%"}},a("p",{style:{textAlign:"center"}},"Press ",u2()," to mark read."),a(hC,null,a(gC,null,a(pC,null,a(fC,null,(g=c==null?void 0:c.label)!=null?g:a("span",{style:{color:h.GREY}},"(No quest selected.)")),a(yC,null,(m=c==null?void 0:c.summary)!=null?m:""),a(wC,null,u?a("p",null,"You have completed this quest."):a(n1,null,a("p",{style:{fontSize:"20px",marginTop:"0px"}},(f=d==null?void 0:d.label)!=null?f:""," ",`(Step: ${d==null?void 0:d.i})`),a("p",null,(p=d==null?void 0:d.description)!=null?p:"")),(y=c==null?void 0:c.steps)==null?void 0:y.map((w,v)=>{var A;return!u&&v>=((A=d==null?void 0:d.i)!=null?A:0)?a(n1,null):a("p",{key:w.completedScriptKey+v,style:{textDecoration:"line-through",color:h.LIGHTGREY}},w.label)})))),a(mC,null,a(C1,{width:"100%",maxHeight:parseInt(c8)-163+"px",open:!0,isInactive:e.isInactive,title:"Quest Name",items:o.map((w,v)=>{const A=xe(t,w),C=Xe("star");return{label:a("div",{style:{color:A?h.LIGHTGREY:"",position:"relative"}},w.label," ",xe(t,w)?" (completed)":"",i.includes(w.name)?a(vC,null,a(C,{color:h.YELLOW})):null),value:v}}),onItemClickSound:"menu_select",onItemClick:w=>{l(w);const v=o[w],A=i.indexOf(v.name);if(A>-1){x("terminal_beep");const C=i.slice();C.splice(A,1),n(C),C4(C)}},onItemHover:w=>{l(w)}}))))},TC=b("div",()=>({border:"1px solid "+h.WHITE})),EC=b("div",e=>{var t;return{border:"1px solid "+h.WHITE,margin:"2px",display:"flex",justifyItems:(t=e.flexAlign)!=null?t:"flex-start"}}),_C=b("div",e=>({position:"relative",cursor:"pointer",border:"1px solid "+h.WHITE,margin:"2px","&:hover":{borderColor:h.YELLOW}})),CC=V1({"0%":{opacity:"1"},"50%":{opacity:"0"},"100%":{opacity:"1"}}),d8=b("div",e=>({position:"absolute",top:"0px",left:e.left?"0px":"unset",right:e.left?"unset":"0px",width:"16px",transform:e.left?"rotate(180deg)":"unset",marginTop:"24px",animation:`${CC} 750ms linear infinite`}));function AC(e){var o;const[{cursorIndex:t,isSelecting:i},n]=E0((r,s)=>{var c;const l=S({},r);switch(s.type){case"CursorNext":{if(e.onItemHoverSound&&x(e.onItemHoverSound),l.cursorIndex=(l.cursorIndex+1)%e.items.length,e.onItemHover){const d=e.items[l.cursorIndex];e.onItemHover(d.value,l.cursorIndex)}break}case"CursorPrev":{if(e.onItemHoverSound&&x(e.onItemHoverSound),l.cursorIndex=(l.cursorIndex+1+e.items.length)%e.items.length,e.onItemHover){const d=e.items[l.cursorIndex];e.onItemHover(d.value,l.cursorIndex)}break}case"SetCursor":{l.cursorIndex=(c=s.payload)!=null?c:0;break}case"Confirm":{const d=e.items[l.cursorIndex];n({type:"SetSelecting",payload:!0}),e.onItemClickSound&&x(e.onItemClickSound),setTimeout(()=>{n({type:"SetSelecting",payload:!1}),e.onItemClick&&e.onItemClick(d.value,l.cursorIndex)},100);break}case"Cancel":{e.onCloseSound&&x(e.onCloseSound),e.onClose&&e.onClose();break}}return l},{cursorIndex:(o=e.startingCursorIndex)!=null?o:0,isSelecting:!1});return Ge(r=>{if(!(e.isInactive||i))if(z0(r.key)){if(e.disableConfirmButtonClick)return;n({type:"Confirm"})}else be(r.key)?n({type:"Cancel"}):o4(r.code)?n({type:"CursorPrev"}):r4(r.code)&&n({type:"CursorNext"})},[e.isInactive,i,e.disableConfirmButtonClick]),a(TC,{id:"horizontal-menu-"+e.title,style:e.style},a(EC,{flexAlign:e.flexAlign},e.items.map((r,s)=>a(_C,{style:{background:e.itemBackgroundColor},id:(typeof r.value=="object"?r.value.name:r)+String(s),key:(typeof r.value=="object"?r.value.name:r)+String(s),isInactive:e.isInactive,onClick:()=>{e.isInactive||i||(n({type:"SetCursor",payload:s}),setTimeout(()=>{n({type:"Confirm"})},1))},onMouseOver:()=>{e.isInactive||i||e.disableMouseHover||n({type:"SetCursor",payload:s})}},typeof r.label=="function"?r.label({cursorIndex:t,i:s}):r.label,t===s?e.useArrowIndicator?a(n1,null,a(d8,{left:!0},a(Te,{color:h.WHITE})),a(d8,null,a(Te,{color:h.WHITE}))):a(Rn,{offsetX:0,offsetY:0,angle:75,visibility:e.isInactive?"hidden":"unset"}):null))))}const SC=b("div",{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",width:"100%"}),kC=b("div",{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"calc(100% + 2px)",margin:"8px"});b("div",{width:"33%"});const RC=b("div",e=>({background:e.selected?h.DARKBLUE:h.BLACK,borderRadius:e.selected?"80px 0px 80px 0px":"0px",borderTopRightRadius:"0px",width:"180px",display:"flex",justifyContent:"flex-start",alignItems:"center",transition:"border-radius 300ms"})),LC=b("div",{}),IC=b("div",{width:"45%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"}),OC=b("div",{maxHeight:"194px"}),PC=b("div",e=>({background:e.selected?h.DARKBLUE:h.BLACK,textAlign:"left",paddingLeft:"10px"})),u8=b("div",{border:`1px solid ${h.WHITE}`,background:h.BLACK,width:"22.5%",boxSizing:"border-box",padding:"8px",marginRight:"2px"}),MC=b("div",{padding:"2px",display:"flex",justifyContent:"space-around",alignItems:"center","& > span":{width:"30px"},"& > label":{textAlign:"center",width:"32px"}}),DC=b("div",{width:"55%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative"}),h8=e=>{const t=n=>{var c,d;const o=(c=e.hoverItem)==null?void 0:c.modifiers;let r=o==null?void 0:o[n],s=!1;if(e.hoverItem&&e.ch&&t9(e.ch,e.hoverItem)&&r!==void 0)s=!0;else{const u=(d=e.replaceItem)==null?void 0:d.modifiers,g=u==null?void 0:u[n];g!==void 0&&(r=(r!=null?r:0)-g)}const l="38px";if(r===void 0||r===0)return a("div",{style:{width:l}});if(r>0)return a("div",{style:{width:l,color:h.BLUE}},s?`(+${r})`:`+${r}`);if(r<0)return a("div",{style:{width:l,color:h.RED}},s?`(${r})`:`${r}`)},i=e.ch;return i?a(u8,null,e.stats.map(n=>a(MC,{key:n},a("span",null,n.slice(0,4)),a("label",null,m0(i,n)),t(n)))):a(u8,null)},NC=b("div",()=>({border:"1px solid "+h.WHITE,width:"55%",height:"145px",overflowY:"auto",background:h.BLACK})),BC=b("div",()=>({width:"24px",position:"absolute",right:"14px",top:"16px"})),$C=b("div",()=>({width:"24px",position:"absolute",left:"50px",top:"5px"})),WC=(e,t,i)=>{for(let n=0;n<t.partyStorage.length;n++){const o=t.partyStorage[n];if(o!==i&&t9(o,e))return!0}return!1},g8=e=>{switch(e){case R1.ACCESSORY:return"accessory1";case R1.ACCESSORY2:return"accessory2";default:return""}},GC=(e,t)=>t.equipment[g8(e)],FC=(e,t,i)=>{const n=[R1.ACCESSORY,R1.ACCESSORY2],o=n.indexOf(i);o>-1&&n.splice(o,1);for(let r=0;r<n.length;r++){const s=n[r];if(t.equipment[g8(s)]===e)return!0}return!1};var R1;(function(e){e.ARMOR="Armor",e.ACCESSORY="Accessory",e.ACCESSORY2="Accessory 2",e.WEAPON="Weapon"})(R1||(R1={}));const m8=(e,t,i)=>e.backpack.filter(o=>{var r;if(WC(o,e,t))return!1;if(i===R1.WEAPON){const s=(r=t.weaponEquipTypes)!=null?r:[];return o.type===K.WEAPON&&s.includes(o.weaponType)}else{if(i===R1.ARMOR)return o.type===K.ARMOR;if([R1.ACCESSORY,R1.ACCESSORY2].includes(i))return o.type===K.ACCESSORY&&!FC(o,t,i)}return!1}),HC=e=>{const[t,i]=E0((m,f)=>{const p=S({},m);return f.type==="SET_CHARACTER"?p.selectedCharacter=f.payload:f.type==="SET_EQUIPMENT_TYPE"?p.selectedEquipmentType=f.payload:f.type==="SET_HOVERED_ITEM"?p.hoveredItem=f.payload:f.type==="SET_HOVER_EQUIPMENT_TYPE"&&(p.hoveredEquipmentType=f.payload),p},{selectedCharacter:e.player.party[0],hoveredEquipmentType:R1.WEAPON}),[n,o]=G(!1),r=()=>{o(!n)};G(!0),Ze();const s=e.player.party;e.player.backpack,t.selectedCharacter;const l=t.selectedCharacter&&!t.selectedEquipmentType,c=!!(t.selectedCharacter&&t.selectedEquipmentType);let d;t.selectedEquipmentType&&t.selectedCharacter&&(d=GC(t.selectedEquipmentType,t.selectedCharacter));const u=m8(e.player,t.selectedCharacter,t.hoveredEquipmentType);c1(()=>{u.length===1&&!t.hoveredItem&&i({type:"SET_HOVERED_ITEM",payload:u[0]})});const g=m=>{const f=u.indexOf(t.hoveredItem);i({type:"SET_CHARACTER",payload:m});const p=m8(e.player,m,t.hoveredEquipmentType),y=p.indexOf(t.hoveredItem);(!p.includes(t.hoveredItem)||f!==y)&&(i({type:"SET_HOVERED_ITEM",payload:u[0]}),r())};return a(SC,null,a("div",{style:{padding:"8px"}},"Press Left/Right Arrows to change character."),a(AC,{style:{width:"100%",background:h.BLACK,zIndex:"2"},isInactive:!1,title:"Party Member",items:s.map(m=>({label:a(RC,{selected:t.selectedCharacter===m},a(LC,null,a(We,{style:{width:"64"},animName:`${m.spriteBase.toLowerCase()}_idle_down`})),a(Bt,{style:{fontSize:"14px"}},m.name)),value:m})),onItemClickSound:"menu_select2",onItemClick:g,onItemHoverSound:"menu_select2",onItemHover:g,disableMouseHover:!0,disableConfirmButtonClick:!0,useArrowIndicator:!0}),a(kC,null,a(IC,null,a(OC,null,a(C1,{title:"Slot",width:"100%",height:"268px",open:!0,isCursorSelectInactive:!l,isInactive:!t.selectedCharacter,hideCloseBox:!0,items:[R1.WEAPON,R1.ARMOR,R1.ACCESSORY,R1.ACCESSORY2].map(m=>{var v,A,C,k,N,R,L,F,E,I,W,j,d1,o1,r1,i1;let f="(none equipped)",p=h.GREY;switch(m){case R1.WEAPON:{f=(k=(C=(A=(v=t.selectedCharacter)==null?void 0:v.equipment)==null?void 0:A.weapon)==null?void 0:C.label)!=null?k:f;break}case R1.ARMOR:{f=(F=(L=(R=(N=t.selectedCharacter)==null?void 0:N.equipment)==null?void 0:R.armor)==null?void 0:L.label)!=null?F:f;break}case R1.ACCESSORY:{f=(j=(W=(I=(E=t.selectedCharacter)==null?void 0:E.equipment)==null?void 0:I.accessory1)==null?void 0:W.label)!=null?j:f;break}case R1.ACCESSORY2:{f=(i1=(r1=(o1=(d1=t.selectedCharacter)==null?void 0:d1.equipment)==null?void 0:o1.accessory2)==null?void 0:r1.label)!=null?i1:f;break}}f!=="(none equipped)"&&(p=h.LIGHTGREEN);const y=pp(t.selectedCharacter,m),w=(y==null?void 0:y.icon)?Xe(y.icon):null;return{label:a(PC,{selected:t.selectedEquipmentType===m},a("div",null,a("b",null,m===R1.ARMOR?"Garb":m)),a("div",{style:{color:p,visibility:t.selectedCharacter?"visible":"hidden"}},f),a(BC,null,w?a(w,{color:h.WHITE}):null)),value:m}}),onItemClickSound:"menu_select",onItemClick:m=>{u.length&&(i({type:"SET_EQUIPMENT_TYPE",payload:m}),i({type:"SET_HOVERED_ITEM",payload:void 0}),r())},onItemHover:m=>{i({type:"SET_HOVER_EQUIPMENT_TYPE",payload:m});const f=pp(t.selectedCharacter,m);i(f?{type:"SET_HOVERED_ITEM",payload:f}:{type:"SET_HOVERED_ITEM",payload:void 0})},onClose:()=>{e.onClose()},backgroundColor:h.BLACK}))),a(DC,null,a(C1,{title:"Item",width:"100%",height:"268px",maxHeight:"226px",open:!0,resetCursor:n,isCursorSelectInactive:!c,items:u.map(m=>{const f=(m==null?void 0:m.icon)?Xe(m.icon):null;return{label:a("div",{style:{textAlign:"left",background:t.selectedCharacter&&t9(t.selectedCharacter,m)?h.DARKGREEN:"unset"}},a($C,null,f?a(f,{color:h.WHITE}):null),a("div",{style:{marginLeft:"calc(26px + 48px)"}},m.label)),value:m}}),onItemClickSound:"menu_select2",onItemClick:m=>{let f;t.hoveredEquipmentType===R1.ACCESSORY?f=0:t.hoveredEquipmentType===R1.ACCESSORY2&&(f=1),t9(t.selectedCharacter,m)?yk(t.selectedCharacter,m,f):Ue(t.selectedCharacter,m,f),i({type:"SET_HOVERED_ITEM",payload:m})},onItemHover:m=>{i({type:"SET_HOVERED_ITEM",payload:m})},hideCloseBox:!0,resetIfTooLong:!0,onClose:()=>{i({type:"SET_EQUIPMENT_TYPE",payload:void 0}),i({type:"SET_HOVERED_ITEM",payload:void 0})},onCloseSound:"menu_choice_close"}))),a("div",{style:{width:"calc(100% + 2px)",display:"flex",justifyContent:"flex-start"}},a(h8,{hoverItem:t.hoveredItem,replaceItem:d,ch:t.selectedCharacter,stats:["HP","STAGGER","RESV","EVA","ACC"]}),a(h8,{hoverItem:t.hoveredItem,replaceItem:d,ch:t.selectedCharacter,stats:["POW","FOR","CON","RES","SPD"]}),a(NC,null,a(Pi,{item:t.hoveredItem,disableTitle:!0}))))},UC=b("div",{width:"800px"}),KC=b("div",()=>({height:"225px",display:"flex",justifyContent:"center",alignItems:"center",background:h.DARKGREEN,border:"1px solid "+h.WHITE,marginBottom:"8px"})),zC=b("div",()=>({width:"400px",height:"200px",border:"1px solid "+h.GREEN})),p8=b("div",()=>({width:"100%",boxSizing:"border-box",height:"100px",display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row-reverse"})),jC=b("div",()=>({position:"relative",background:h.DARKGREY,width:"100px",height:"100%",border:"1px solid "+h.GREEN,textAlign:"center"})),YC=b("div",()=>({display:"flex",justifyContent:"space-around"})),f8=b("div",e=>({background:e.selected?h.DARKBLUE:h.BLACK,borderRadius:"80px 0px 80px 0px",borderTopRightRadius:"0px",padding:e.selected?"8px":"unset",marginBottom:e.selected?"2px":"unset"})),y8=(e,t,i)=>{const n=["Front","Middle","Back"],o=[_t(0),_t(2),_t(4)],r=[_t(1),_t(3),_t(5)];return a(jC,{key:e?e.ch.name:t},a("div",{style:{color:h.YELLOW,position:"absolute",left:"2",top:"0"}},n[t]),a("div",{style:{position:"absolute",right:"2",bottom:"0"}},(i===0?o:r)[t]),a("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"}},e?a(Ii,{animName:Yt(e.ch),renderLoopId:e.ch.name+"-menu-party",scale:2}):null))},w8=(e,t)=>e.map(i=>S({},i)).map(i=>{const n=V8(i,{position:W8(t,i)});return U1(n.ch,T.RIGHT),Ee(n),n}),VC=e=>{var u,g,m,f,p,y;const t=e.player.party,[i,n]=G(-1),[o,r]=G(w8(t,e.player)),s=[(u=o[0])!=null?u:null,(g=o[2])!=null?g:null,(m=o[4])!=null?m:null],l=[(f=o[1])!=null?f:null,(p=o[3])!=null?p:null,(y=o[5])!=null?y:null],c=(w,v)=>{if(w!==v){const A=e.player.party[w];e.player.party[w]=e.player.party[v],e.player.party[v]=A,e.player.battlePositions=[...e.player.party]}n(-1),r(w8(t,e.player))},d=i>=0;return a(UC,null,a("p",null,"The order of your party members determines their formation in battle."),a("p",null,"Melee attacks can only target Characters in the front. All positions are targetable by ranged or wand attacks."),a(KC,null,a(zC,null,a(p8,null,s.map((w,v)=>y8(w,v,0))),a(p8,null,l.map((w,v)=>y8(w,v,1))))),a("p",{style:{textAlign:"center",color:h.YELLOW}},d?"Select party member with whom to swap positions.":"Select a character who's position should be changed."),a(YC,null,a(C1,{width:"325px",maxHeight:"325px",height:"100%",open:!0,isCursorSelectInactive:d,title:"Party Member",items:t.map((w,v)=>({label:a(f8,{selected:v===i},v===i?w.name.toUpperCase():a(Bt,null,w.name)),value:v})),onItemClickSound:"menu_select",onItemClick:w=>{n(w)},hideCloseBox:!0,onClose:()=>{e.onClose()}}),a(C1,{width:"325px",maxHeight:"325px",height:"100%",open:!0,isInactive:!d,style:{filter:d?"unset":"brightness(50%)"},title:"Swap",items:t.map((w,v)=>({label:a(f8,{selected:!1},a(Bt,null,w.name)),value:v})),onItemClickSound:"menu_select2",onItemClick:w=>{c(i,w)},hideCloseBox:!0,onCloseSound:"menu_select2",onClose:()=>{n(-1)}})))},qC=b("div",{width:"800px"}),XC=b("div",e=>{var t,i;return{display:"flex",justifyContent:"space-between",alignItems:"center",height:"93px",background:(t=e.color)!=null?t:"unset",padding:(i=e.padding)!=null?i:"unset",boxSizing:"border-box",border:e.color?`2px solid ${h.DARKGREEN}`:"unset"}}),QC=e=>{if(!e.player)return a("div",null);const t=e.player.party;return a(qC,null,a(C1,{title:"Party",width:"100%",open:!0,hideCloseBox:!0,backgroundColor:h.BLACK,items:t.map(i=>({label:a(XC,null,i?a(Hn,{ch:i,usePortrait:!1}):null),value:i})),onItemClickSound:"menu_select",onItemClick:()=>{}}))},ZC="600px",JC=b("div",{position:"absolute",top:"0px",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"rgba(0, 0, 0, 0.5)"}),eA=b("div",{display:"flex",justifyContent:"center",padding:"8px"}),tA=b("div",{display:"flex",justifyContent:"space-between",alignItems:"flex-start",backgroundColor:h.BGGREY,position:"relative",height:ZC}),iA=b("div",()=>({position:"absolute",left:"0",top:"0",width:"100%",height:"100%",opacity:"0.04",backgroundImage:`url(${fe()}/bg/flowers_menu_bg.png)`,zIndex:0,pointerEvents:"none"})),nA=b("div",e=>{var t;return{display:"flex",justifyContent:"space-between",alignItems:"center",height:"93px",padding:(t=e.padding)!=null?t:"unset",boxSizing:"border-box",border:e.color?`2px solid ${h.DARKGREEN}`:"unset"}}),et=b("div",e=>({background:e.active?h.BLUE:"unset"})),oA=b("div",{border:`1px solid ${h.WHITE}`,margin:"2px",padding:"8px",textAlign:"center"}),rA=b("div",{position:"absolute",display:"flex",justifyContent:"flex-end",flexDirection:"column",boxSizing:"border-box",bottom:"2px",width:"100%"}),aA=b("div",{background:h.DARKRED,border:`1px solid ${h.WHITE}`,margin:"-2px 2px",padding:"8px"}),b8=b("div",{display:"flex",justifyContent:"flex-start","& > div":{marginRight:"16px",width:"80px"}}),sA=()=>{const e=new Date;return a("div",null,e.toISOString())};var v8;(function(e){e[e.ITEMS=0]="ITEMS",e[e.EQUIPMENT=1]="EQUIPMENT",e[e.STATUS=2]="STATUS",e[e.PARTY=3]="PARTY",e[e.JOURNAL=4]="JOURNAL",e[e.LOAD=5]="LOAD",e[e.QUIT=6]="QUIT"})(v8||(v8={}));const lA=()=>{const[e,t]=G(0),[i,n]=G(!0),[o,r]=G(!1),s=()=>{r(!0),setTimeout(()=>{r(!1);const g=D().appState.menu.onClose;x("menu_choice_close"),g()},100)},l=g=>{t(g),n(!1)},c=()=>{if(i)return null;switch(e){case 0:return a(ie,{title:"Items",onClose:()=>{n(!0)},maxWidth:ue[b1.XLARGE].width,closeButtonLabel:"Back "+te()},a(uC,{player:d,isInactive:i,onClose:()=>{x("menu_choice_close"),n(!0)}}));case 4:return a(ie,{title:"Journal",onClose:()=>{n(!0)},maxWidth:ue[b1.XLARGE].width,closeButtonLabel:"Back "+te()},a(xC,{scene:$(),isInactive:i,onClose:()=>{}}));case 1:return a(ie,{title:"Equipment",onClose:()=>{n(!0)},maxWidth:ue[b1.XLARGE].width,closeButtonLabel:"Back",disableKeyboardShortcut:!0},a(HC,{player:d,onClose:()=>{x("menu_choice_close"),n(!0)}}));case 2:return a(ie,{title:"Status",onClose:()=>{n(!0)},maxWidth:ue[b1.XLARGE].width,closeButtonLabel:"Back "+te()},a(QC,{player:P(),isInactive:!1,onClose:()=>{n(!0)}}));case 3:return a(ie,{title:"Battle Positions",onClose:()=>{n(!0)},maxWidth:ue[b1.XLARGE].width,closeButtonLabel:"Back "+te(),disableKeyboardShortcut:!0},a(VC,{player:d,isInactive:!1,onClose:()=>{x("menu_choice_close"),n(!0)}}));case 5:return a(ie,{title:"Load",onClose:()=>{n(!0)},maxWidth:ue[b1.XLARGE].width,closeButtonLabel:"Back "+te(),disableKeyboardShortcut:!0},a(In,{onClose:()=>{x("menu_choice_close"),n(!0)}}));default:return a(ie,{title:"Menu",onClose:()=>{x("menu_choice_close"),n(!0)},maxWidth:ue[b1.XLARGE].width,closeButtonLabel:"Back",disableKeyboardShortcut:!0})}};c1(()=>{const g=document.getElementById("menu-main");g&&(g.style.transform="scale(1)")},[]);const d=P(),u=[...d.party,null,null,null,null].slice(0,5);return a(JC,null,a(x2,{id:"menu-main",size:b1.XLARGE,style:{transform:"scale(0)",transition:"opacity 100ms, transform 100ms"}},a(tA,{id:"menu-inner-root"},a(iA,null),a(C1,{title:"Party",width:"60%",open:!0,isInactive:!0,transparentBg:!0,backgroundColor:"linear-gradient(90deg, #2E3740 0%, rgba(0,0,0,0) 100%)",items:u.map(g=>({label:a(nA,null,g?a(Hn,{ch:g,usePortrait:!0,hideStats:!0,style:{filter:g.hp<=0?"sepia(75%) invert(25%) brightness(0.5)":"unset"}}):null),value:g})),onItemClickSound:"menu_select",onItemClick:()=>{},onClose:()=>{s()}}),a("div",{style:{width:"40%",height:"100%",position:"relative"}},a(C1,{title:"Menu",open:!0,isInactive:!i,items:[{label:a(et,{active:!i&&e===1},"Equipment"),value:1},{label:a(et,{active:!i&&e===4},"Journal"),value:4},{label:a(et,{active:!i&&e===0},"Items"),value:0},{label:a(et,{active:!i&&e===2},"Status"),value:2},{label:a(et,{active:!i&&e===3},"Positions"),value:3},{label:a(et,{active:!i&&e===5},"Load"),value:5},{label:a(et,{active:!i&&e===6},"Quit"),value:6}],onItemClickSound:"menu_select",onItemClick:l,onClose:s,hideCloseBox:!0}),a(eA,null,a(k1,{type:f1.PRIMARY,onClick:s,active:o},"Close ",te())),a(rA,null,a(aA,null,a(b8,null,a("div",null,"Tickets"),a("div",null,d.tickets)),a(b8,null,a("div",null,"Tokens"),a("div",null,d.tokens)),a(sA,null))))),a(oA,null,a("div",null,"Select a menu option ",u2(),".")),c()))},Di=[{stat:"HP",ticketCost:1,lvlCost:2,desc:"Hit Points. The number of Hit Points a character has."},{stat:"STAGGER",ticketCost:2,lvlCost:1,desc:"Stagger.  The more of this, the longer it takes to become staggered."},{stat:"RESV",ticketCost:2,lvlCost:2,desc:"Reserve.  A representation of how much energy a character has before becoming exhausted."},{stat:"POW",ticketCost:4,lvlCost:2,desc:"Power.  More of this means more damage when attacking."},{stat:"ACC",ticketCost:4,lvlCost:1,desc:"Accuracy.  More of this means higher chance of critical hits."},{stat:"FOR",ticketCost:2,lvlCost:1,desc:"Fortitude.  More of this means a character takes less damage from Weapon-based attacks."},{stat:"CON",ticketCost:2,lvlCost:1,desc:"Constitution.  Determines what kind of armor a character can wear.  The mor CON, the better quality armor."},{stat:"RES",ticketCost:2,lvlCost:1,desc:"Resistance.  Determines damage reduction from Wand-based attacks."},{stat:"SPD",ticketCost:2,lvlCost:1,desc:"Speed.  More of this reduces cooldown timer of abilities."},{stat:"EVA",ticketCost:1,lvlCost:1,desc:"Evasion.  Each point of EVA adds 1% chance to dodge an attack."}],x8={HP:0,STAGGER:0,RESV:0,POW:0,ACC:0,FOR:0,CON:0,SPD:0,RES:0,EVA:0},cA=b("div",e=>({position:e.visible?"unset":"absolute",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"})),dA=b("div",e=>({display:"flex",justifyContent:"center",alignItems:"center",padding:"4px",boxSizing:"border-box",border:e.color?`2px solid ${h.DARKGREEN}`:"unset","& > div":{marginRight:"8px"}})),uA=b("div",()=>({border:`1px solid ${h.WHITE}`,color:h.LIGHTGREEN,textAlign:"left",marginBottom:"1.5rem",background:h.BLACK,fontFamily:"courier",padding:"16px",width:"100%",boxSizing:"border-box",zIndex:"1",fontSize:"20px",display:"flex",justifyContent:"center",flexDirection:"column"})),hA=b("div",()=>({display:"flex",justifyContent:"space-between",margin:"2px"})),gA=b("div",()=>({border:"1px solid "+h.WHITE,background:h.BLACK})),mA=b("div",()=>({background:h.DARKGREEN,border:"1px solid "+h.WHITE,borderRadius:"26px",padding:"4px"})),T2=b("span",e=>({color:e.value<=0?h.RED:h.BLUE}));b("span",()=>({color:h.RED}));b("span",()=>({color:h.BLUE}));const T8=e=>{const t=e.ch;return a(dA,null,a(We,{style:{width:"64"},animName:`${t.spriteBase.toLowerCase()}_idle_down`}),a("div",null,t.fullName,","),a("div",null,"Level: ",p0(t),e.hideLvlPoints?"":","),e.hideLvlPoints?null:a("div",null,"LVL Points: ",t.experienceCurrency))},pA=b("div",()=>({textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"})),fA=b("div",()=>({textAlign:"right",display:"flex",justifyContent:"flex-end",alignItems:"center","& > div":{marginLeft:"8px"}})),yA=()=>{const e=P(),t=e.party,[i,n]=G(void 0),[o,r]=G(e.tickets),[s,l]=G(0),[c,d]=G(0),[u,g]=G(!1),[m,f]=G(!0),[p,y]=G(x8);Ge(R=>{be(R.key)&&w()});const w=()=>{if(!u)if(i){if(Oe("menu_select2"),o===e.tickets){n(void 0);return}g(!0),$e(E1.CONFIRM,{onClose:()=>{g(!1),f(!1),setTimeout(()=>{f(!0)},1)},onConfirm:()=>{Oe("terminal_cancel"),g(!1),r(e.tickets),n(void 0)},body:"Do you wish to disregard this set of stat increases?",danger:!0})}else Oe("blip"),D1(),D().appState.levelUp.onClose()},v=()=>{if(Hi(e,-(e.tickets-o)),i){i.experienceCurrency-=i.experienceCurrency-s;for(const R in p)i.stats[R]+=p[R];i.hp>0&&(i.hp+=p.HP),i.resv+=p.RESV}},A=R=>{const{stat:L,lvlCost:F,ticketCost:E}=R;o>=E&&s>=F?(Oe("blip"),r(o-E),l(s-F),y(J(S({},p),{[L]:p[L]+1}))):Oe("terminal_cancel")},C=R=>{const{stat:L,lvlCost:F,ticketCost:E}=R;p[L]>0?(Oe("blip"),r(o+E),l(s+F),y(J(S({},p),{[L]:p[L]-1}))):Oe("terminal_cancel")},k=Boolean(!i),N=Di[c];return a(ie,{title:"VR Improvement Kiosk",hideTitle:!0,onClose:()=>{w()},closeButtonLabel:"Back "+te(),dark:!0,disableKeyboardShortcut:!0},a(x2,{id:"menu-main",size:b1.XLARGE},a(hA,null,k?a(Ii,{animName:"tile_stats_kiosk_menu",renderLoopId:"stats-kiosk",scale:4,style:{transform:"translateY(-20px)",margin:"64px"}}):null,a(uA,null,k?a(n1,null,a("p",null,"Welcome to the Regem Ludos Improvement Kiosk!"),a("p",null,"To begin, please select one of your party members.")):a(n1,null,a("p",{style:{width:"520px"}},"You have selected ",a("b",null,i==null?void 0:i.fullName),"."),a("p",{style:{color:h.YELLOW,height:"54px"}},N?`${N.stat}: ${N.desc}`:null)))),a(cA,{visible:k},a("div",{style:{paddingBottom:"8px",display:k?"unset":"none"}},"You have"," ",a(T2,{value:o},o," Tickets")," ","available to spend."),a(C1,{title:"Party",hideTitle:!0,open:!0,isInactive:!k||u,style:{display:k?"unset":"none"},items:t.map(R=>({label:a(T8,{ch:R}),value:R})),onItemClickSound:"blip",onItemClick:R=>{n(R),l(R.experienceCurrency),r(e.tickets),y(x8)}})),i?a(n1,null,a("div",{style:{paddingBottom:"8px",textAlign:"center"}},"You have"," ",a(T2,{value:o},o," Tickets")," and"," ",a(T2,{value:s},s," LVL Points")," ","available to spend."),a(gA,null,a(T8,{ch:i,hideLvlPoints:!0}),a(C1,{title:"Stats",hideTitle:!0,isInactive:u,resetCursor:m,open:!0,items:[...Di.map(R=>{var I;const{lvlCost:L,ticketCost:F,stat:E}=R;return{label:a(pA,null,a("div",{style:{width:"120px"}},E," ",(I=i==null?void 0:i.stats)==null?void 0:I[E]),a("div",null,p[E]?"+"+p[E]:""),a(fA,null,a("div",null,a(T2,{value:L<=s?1:0},"LVL Cost: ",L),","),a("div",null,a(T2,{value:F<=o?1:0},"Ticket Cost: ",F)),a(k1,{type:f1.CANCEL,disabled:p[E]===0,style:{fontSize:"12px"},onClick:W=>{W.stopPropagation(),C(R)}},"Undo ",en()))),value:R}}),{label:a(mA,null,"Confirm!"),value:null}],onItemClick:R=>{if(R)A(R);else{let L=!1;for(const F in p)if(p[F]>0){L=!0;break}L?(Oe("menu_sparkle"),v()):Oe("blip"),n(void 0)}},onAuxClick:()=>{const R=Di[c];R&&C(R)},onItemHover:R=>{d(R?Di.indexOf(R):-1)}}))):null))},wA=b("div",()=>({fontSize:"16px",width:"50%",boxSizing:"border-box",padding:"16px",margin:"8px",border:`2px solid ${h.WHITE}`,background:"rgba(0, 0, 0, 0.5)"})),E8=b("div",()=>({display:"flex",flexDirection:"column",alignItems:"center",width:"75%",left:"12.5%",position:"relative"})),bA=b("div",()=>({padding:"16px",background:h.DARKGREY_ALT,border:"2px solid "+h.WHITE,margin:"64px 0px",marginTop:"42px"})),_8=b("div",()=>({width:"100%",height:"36px",display:"flex",justifyContent:"space-between"})),Ni=b("div",()=>({width:"96px",height:"96px",border:"2px solid "+h.BLUE,borderTopColor:h.WHITE})),vA=e=>{const t=()=>{e.status==="completed"&&setTimeout(()=>{var l;let o=!1,r="The following party members have leveled up:";ES(P(),(l=e.quest.experienceReward)!=null?l:0).forEach((c,d)=>{o=!0,r+=(d===0?" ":", ")+c.name}),o&&(x("level_up"),v5({text:r,type:"info"}));const s=P();i.tokensReward&&(s.tokens+=i.tokensReward),i.ticketsReward&&(s.tickets+=i.ticketsReward)},250),e.onClose()},i=e.quest;let n=a(Mt,{color:i.iconColor||h.WHITE});if(i.icon){const o=Xe(i.icon);n=a(o,{color:i.iconColor||h.WHITE})}return a(ie,{title:"Quest",onClose:()=>{t()},maxWidth:ue[b1.XLARGE].width,closeButtonLabel:"Continue "+u2(),disableKeyboardShortcut:!0,hideClose:!0},a("div",{style:{width:"100%"}},e.status==="completed"?a(E8,null,a("div",{style:{fontSize:"24px"}}," Quest Completed! "),a("p",{style:{width:"100%",textAlign:"center"}},"You have completed:"," ",a("span",{style:{color:h.YELLOW}},i.label)),a(Bt,null,"Rewards"),a(wA,null,i.experienceReward?a("div",null,i.experienceReward," EXP"):null,i.tokensReward?a("div",null,i.tokensReward," Tokens"):null,i.ticketsReward?a("div",null,i.ticketsReward," Tickets"):null,i.itemsReward?i.itemsReward().map((o,r)=>a("div",{key:r},o.label)):null),a(_8,null,a(Ni,{style:{backgroundColor:h.BLACK,borderTopRightRadius:"16px"}},n),a(Ni,{style:{borderTopLeftRadius:"16px",backgroundColor:h.BLACK}},a(Mt,{color:h.YELLOW})))):a(E8,null,a("div",{style:{fontSize:"24px",marginTop:"16px"}},"Quest Started!"),a(bA,null,a("p",{style:{marginTop:"10px",fontSize:"24px"}},"You have started:"," ",a("span",{style:{color:h.YELLOW}},i.label)),a("p",{style:{width:"100%"}}," ",i.description)),a(_8,null,a(Ni,{style:{backgroundColor:h.BLACK,borderTopRightRadius:"16px"}},n),a(Ni,{style:{borderTopLeftRadius:"16px",backgroundColor:h.BLACK}},a(Mt,{color:h.YELLOW})))),a("div",{style:{display:"flex",justifyContent:"center",margin:"16px"}},a(C1,{title:"",open:!0,hideTitle:!0,style:{transition:"transform 0.15s",transform:"scaleX(1)",width:"128px"},items:[{label:a("div",null,a("span",null,"Continue")),value:0}],onItemClickSound:"menu_select",onItemClick:()=>{t()}}))))},xA="628px",TA=b("div",{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%",zIndex:"1"}),EA=b("div",{width:"60%",maxHeight:xA}),_A=b("div",{width:"40%"}),CA=b("div",{width:"100%",height:"400px",border:"1px solid "+h.WHITE,background:h.DARKGREY_ALT}),AA=V1({"0%":{opacity:"1",transform:"translateY(0px)"},"100%":{opacity:"0",transform:"translateY(-28px)"}}),SA=b("div",{position:"absolute",left:"222px",top:"12px",fontSize:"32px",color:h.YELLOW,opacity:"0"}),$t={},kA=e=>{var p;const t=Ze(),i=()=>{var w;((w=e.onClose)!=null?w:D().appState.store.onClose)()},n=D().appState.store.storeName,o=hn(n),r=Pr();r[n]||(r[n]={name:n,items:o.items.map(y=>({itemName:y.itemName,quantity:y.quantity}))});const s=r[n],[l,c]=G(0),d=m1(s.items[l].itemName),u=P(),g=S2(u,d.name),m=y=>{const w=s.items[y],v=m1(w.itemName),A=w.quantity,C=o.items[y].price;if(A>0&&u.tickets>=C){x("make_purchase"),s.items[y].quantity--,Ht(u,v.name),Hi(u,-C);const N=w.itemName+"_"+y+"_buy";$t[N]!==void 0&&(clearTimeout($t[N]),delete $t[N]);const R=document.getElementById(N);if(R){const L=300;R.style.opacity="",R.style.animation="unset",$t[N]=setTimeout(()=>{R.style.animation=AA+` ${L}ms ease-out 1`,$t[N]=setTimeout(()=>{R&&(R.style.animation="unset",R.style.opacity="0"),delete $t[N]},L)},100)}t()}else x("terminal_cancel")},f=Xe((p=o.icon)!=null?p:"talk");return a(ie,{title:o.label,onClose:()=>{i()},disableCloseSound:!0,dark:!0,maxWidth:ue[b1.XLARGE].width,closeButtonLabel:"Back "+te()},a("div",null,a("div",{style:{marginTop:"16px",fontSize:"20px",maxWidth:"85%"}},o.description),a("div",{style:{margin:"24px 0px 16px 0px",color:h.LIGHTGREY,display:"flex",justifyContent:"space-between",alignItems:"center"}},a("div",null,a("div",null,"Select an item to purchase."),a("div",{style:{color:h.WHITE,marginTop:"8px"}},"You have"," ",a("span",{style:{color:h.BLUE}},u.tickets)," ","Tickets.")),a("div",{style:{height:"8px"}},a("div",{style:{transform:"translateY(-64px)",width:"96px"}},a(f,{color:h.WHITE})))),a(TA,null,a(EA,null,a(C1,{width:"100%",maxHeight:"357px",open:!0,isInactive:!1,hideTitle:!1,startingIndex:0,itemHeight:48,title:"Purchase",items:s.items.map((y,w)=>{var R;const v=m1(y.itemName),A=y.quantity,C=o.items[w].price,k=Xe((R=v.icon)!=null?R:"help"),N=A>0&&u.tickets>=C;return{label:a(n1,null,a("div",{style:{color:N?"unset":h.LIGHTGREY,textAlign:"left",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px",filter:N?"unset":"grayscale(1) brightness(75%)",cursor:N?"pointer":"default",background:w===l?h.DARKGREEN:"unset"}},a("div",{style:{display:"flex",alignItems:"center"}},a("div",{style:{width:"24px",marginRight:"16px",marginLeft:"32px"}},a(k,{color:h.WHITE})),v.label," ",`(${A})`),a("div",{style:{color:h.BLUE,width:"100px"}},"Cost: ",C)),a(SA,{id:y.itemName+"_"+w+"_buy"},"Buy!")),value:w}}),onItemClickSound:"menu_select",onItemClick:y=>{m(y)},onItemHover:y=>{c(y)}})),a(_A,null,a(CA,null,a(Pi,{item:d,showName:!0,disableUse:!0})))),a("div",{style:{textAlign:"center",margin:"8px"}},"You currently have"," ",a("span",{style:{color:g>0?h.LIGHTGREEN:h.LIGHTRED}},g)," ","of this item.")))},RA="628px",LA=b("div",{display:"flex",justifyContent:"space-between",alignItems:"flex-start",width:"100%",zIndex:"1"}),IA=b("div",{width:"40%",maxHeight:RA}),OA=b("div",{width:"60%"}),PA=b("div",{width:"100%",height:"400px",border:"1px solid "+h.WHITE,background:h.DARKGREY_ALT}),MA=b("div",{margin:"1px",border:"1px solid white",background:h.DARKPURPLE,fontSize:"32px",textAlign:"center"}),DA=b("div",{margin:"4px 8px",fontSize:"24px",display:"flex",justifyContent:"space-between",alignItems:"center"}),NA=e=>{const t=()=>{var c;((c=e.onClose)!=null?c:D().appState.infoStats.onClose)()},i=Z4(),n=[];for(const l in i)n.push(i[l]);n.sort((l,c)=>l.gameLabel<c.gameLabel?-1:1);const[o,r]=G(0),s=n[o];return a(ie,{title:"High Scores",onClose:()=>{t()},disableCloseSound:!0,dark:!0,maxWidth:ue[b1.XLARGE].width,closeButtonLabel:"Back "+te()},a("div",{style:{width:"100%"}},a("p",null,"Hover over a game to see the current high scores."),a(LA,null,a(IA,null,a(C1,{width:"100%",maxHeight:"357px",open:!0,isInactive:!1,hideTitle:!1,startingIndex:0,itemHeight:48,title:"Games",items:n.map((l,c)=>({label:a("div",null,l.gameLabel),value:c})),onItemClickSound:"menu_select",onItemClick:l=>{},onItemHover:l=>{r(l)}})),a(OA,null,a(PA,null,a(MA,null,s.gameLabel),s.leaderboard.slice(0,10).map((l,c)=>a(DA,{key:l.playerLabel+l.score+c},a("span",null,c+1,".) ",l.playerLabel),a("span",null,l.score))))))))},BA=b("div",{position:"relative",height:"100%"}),$A=b("div",()=>({position:"absolute",left:"0",top:"0",background:"black",opacity:"0.3",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:h.WHITE,fontSize:"24px",width:"100%",height:"100%",pointerEvents:"none"})),WA=b("div",()=>({marginBottom:"256px"}));let tt=null;const D=()=>tt,GA=()=>{const[e,t]=G(!1),[i,n]=E0(nx,oy);c1(()=>{tt=window.uiInterface={appState:i,render:()=>{t(!e)},dispatch:n}}),console.log("UI RENDER");const o=(d,u)=>{switch(d){case O.BattleVictory:return a(B5,{key:u,isVictory:!0});case O.BattleDefeated:return a(B5,{key:u,isVictory:!1});case O.BattleUI:return a(r_,{key:u});case O.Cutscene:return a(y_,{key:u});case O.ArcadeCabinet:return a(tx,{key:u,game:i.arcadeGame.path});case O.Choices:return a(b_,{key:u});case O.Settings:return a(t8,{key:u});case O.Modal:return a(V_,{key:u});case O.Debug:return a(qx,null);case O.Save:return a(eC,{key:u});case O.Store:return a(kA,{key:u});case O.InfoStats:return a(NA,{key:u});case O.Menu:return a(lA,{key:u});case O.Quest:{const g=l7(i.quest.questName);return a(vA,{key:u,quest:g,onClose:i.quest.onClose,status:xe($(),g)?"completed":"started"})}case O.LevelUp:return a(yA,{key:u});default:return a("div",null)}},r=bt(),s=W0*(r>2?2:r),l=$0*(r>2?2:r),c=window.innerHeight<l||window.innerWidth<s;return a("div",{style:{position:c?"fixed":"absolute",top:"0px",left:"0px",width:c?window.innerWidth:Math.min(s,window.innerWidth),height:Math.min(l,window.innerHeight)}},a(BA,{id:"ui-sections"},ze()&&!i.battle.effect.active?a($A,null,a(WA,null,"PAUSED")):null,i.sections.map(o),i.room.particles.map((d,u)=>{const g=d.uiComponent;return g?a(g,{key:"particle-"+u,particle:d}):a("div",null)})))},W1=()=>{tt&&tt.render()},C8=()=>{const e=document.getElementById("ui");if(e){const t=document.getElementById("canvas-area-parent");if(t){const i=2;t.style["max-width"]=W0*i,t.style["max-height"]=$0*i}Vr(a(GA,null),e)}};let A8=!1;const S8=()=>{if(A8){console.log("Hooks have already been initialized.");return}A8=!0;let e;window.addEventListener("resize",()=>{e!==!1&&clearTimeout(e),e=setTimeout(()=>{D().render(),e=!1},50)}),window.addEventListener("keydown",t=>{const i=E2[E2.length-1];i&&!t.repeat&&i(t)})},Ze=()=>{const[e,t]=G(!1);return()=>{t(!e)}},Kn=(e,t)=>{const[,i]=E0(o=>!o,!1),n=()=>{i("")};return c1(()=>(sf(e,t||n),()=>{lf(e)}),[]),n},E2=[],FA=(e,t)=>{c1(()=>(E2.push(e),()=>{const i=E2.indexOf(e);i>-1&&E2.splice(i,1)}),t!=null?t:[])},Ge=(e,t)=>{c1(()=>{const i=n=>{n.repeat||e(n)};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},t)},HA=(e,t,i,n)=>{const[{cursorIndex:o,active:r},s]=E0(({cursorIndex:l,active:c},d)=>{var m;let u=l,g=c;if(d.type==="Increment"&&c)u=(u+1)%i.length;else if(d.type==="Decrement"&&c)u=(u-1+i.length)%i.length;else if(d.type==="Set")u=(m=d.payload)!=null?m:0;else if(d.type==="Select"&&c){const f=i[l];n(f),g=!1}else d.type==="SetActive"&&(g=d.payload);return{cursorIndex:u,active:g}},{cursorIndex:t!=null?t:0,active:e});return c1(()=>{const l=c=>{c.code==="ArrowDown"?s({type:"Increment"}):c.code==="ArrowUp"?s({type:"Decrement"}):c.code==="Enter"&&s({type:"Select"})};return window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)}},[]),c1(()=>{e!==r&&s({type:"SetActive",payload:e})}),[o,l=>{s({type:"Set",payload:l})}]},it=(e,t,i)=>{c1(()=>(He(e,t,i),()=>{co(e,t,i)}),[e,t,i])},he=(e,t,i,n)=>{c1(()=>{const o=r=>{t===r&&n(r)};return He(e,i,o),()=>{co(e,i,o)}},[e,i,n])},UA=e=>{const[t,i]=G(!1);return[t,()=>{const o=K0();i(!0),$e(E1.CONFIRM,{onClose:()=>{ee(o),i(!1),e.onClose&&e.onClose()},onConfirm:()=>{ee(o),e.onConfirm&&e.onConfirm()},body:e.body,danger:e.danger})},Pt]},_2=e=>{const t=e.svgId,i=e.div1Id,n=e.div2Id;c1(()=>{setTimeout(()=>{var d;const o=document.getElementById(t),r=document.getElementById(i),s=document.getElementById(n);console.log("IDS FOR SVG LINE",t,i,n,o,r,s);const l=r==null?void 0:r.getBoundingClientRect(),c=s==null?void 0:s.getBoundingClientRect();if(o&&l&&c){const u=l.left+l.width/2+e.offset1[0],g=l.top+l.height/2+e.offset1[1],m=c.left+c.width/2+e.offset2[0],f=c.top+c.height/2+e.offset2[1];o.setAttribute("x1",String(u)),o.setAttribute("y1",String(g)),o.setAttribute("x2",String(m)),o.setAttribute("y2",String(f)),o.setAttribute("color",(d=e.color)!=null?d:h.WHITE)}},110)})},C2=e=>{var t;return a("div",{style:{position:"fixed",pointerEvents:"none",top:"0px",left:"0px",width:"100%",height:"100%",zIndex:25}},a("svg",{style:{width:"100%",height:"100%"}},a("line",{id:e.id,style:{strokeWidth:(t=e.width)!=null?t:4+"px",stroke:h.WHITE}})))},KA=b("div",()=>({position:"absolute",pointerEvents:"all"})),Wt=document.getElementById("canvas-container");let Bi=Wt==null?void 0:Wt.getBoundingClientRect();const $i=e=>{var w,v,A,C;const y=e,{renderKey:t,ch:i,style:n}=y,o=Do(y,["renderKey","ch","style"]);Kn(t),c1(()=>{Bi=Wt==null?void 0:Wt.getBoundingClientRect()},[]);const[r,s,l]=fo(i),[c,d]=B2(i);let[u,g]=xk(r,s,l),m=c,f=d;((w=i.template)==null?void 0:w.followerSize)&&(m=(v=i.template)==null?void 0:v.followerSize[0],f=(A=i.template)==null?void 0:A.followerSize[0]);const p=512*2;return window.innerHeight<p&&(u+=(C=Bi==null?void 0:Bi.left)!=null?C:0,g+=0),a(KA,S({id:t,style:S({left:u+(c-m)*bt()/2+"px",top:g+(d-f)*bt()/2+"px",width:m*bt()+"px",height:f*bt()+"px"},n)},o))};var k8;(function(e){e.EXCLAMATION="exclaim",e.QUESTION="question",e.RAINDROP="teardrop",e.LIGHTBULB="lightbulb",e.HEART="heart",e.HAPPY="happy",e.SMIRK="smirk",e.BORED="bored",e.SURPRISED="surprised",e.SAD="sad",e.GRUMPY="grumpy",e.BLUSH="blush"})(k8||(k8={}));const zn={},jn=e=>{const t=zn[e];if(!t)throw new Error(`No particle exists with name: ${e}`);return t},R8=e=>{const t=zn[e];return t?S({},t):null},zA=V1({"0%":{transform:"scale(0)"},"50%":{transform:"scale(1.75)"},"100%":{transform:"scale(1)"}}),jA=V1({"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)"}}),YA=()=>{const e={animName:"effect_sword_left"},t={animName:"effect_pierce_left"},i={animName:"effect_fireball_explosion_anim",opacity:.65},n={animName:"effect_smoke_anim"},o={animName:"effect_armor_shatter",scale:.5},r={animName:"effect_range_projectile_left",duration:300},s={animName:"effect_range_hit_left"},l={animName:"effect_gem"},c={duration:1e3,animName:"effect_treasure_anim"},d={animName:"effect_aggro",duration:500,offset:[0,-32]},u={animName:"effect_dead2_anim",offset:[8,-12.5],opacity:1,duration:2320},g={animName:"effect_dead2_anim",offset:[3,-12.5],opacity:1,duration:2320/2},m={duration:1e3,text:"RING!",useOuterCanvas:!0,offset:[0,8],textParams:{size:32,color:h.YELLOW,align:"center",strokeColor:h.WHITE}},f={duration:750,text:"Ha",useOuterCanvas:!0,offset:[0,-16],textParams:{size:24,color:h.WHITE,align:"center",strokeColor:h.BLACK}},p={duration:1500,text:"*Sigh*",useOuterCanvas:!0,offset:[4,-16],textParams:{size:24,color:h.WHITE,align:"center",strokeColor:h.BLACK}},y={duration:1250,text:"*Shrug*",useOuterCanvas:!0,offset:[4,-16],textParams:{size:24,color:h.WHITE,align:"center",strokeColor:h.BLACK}};Object.assign(zn,{EFFECT_TEMPLATE_SWORD_LEFT:e,EFFECT_TEMPLATE_PIERCE_LEFT:t,EFFECT_TEMPLATE_FIREBALL:i,EFFECT_TEMPLATE_SMOKE:n,EFFECT_TEMPLATE_ARMOR_REDUCED:o,EFFECT_TEMPLATE_RANGED_LEFT:r,EFFECT_TEMPLATE_RANGED_HIT:s,EFFECT_TEMPLATE_GEM:l,EFFECT_TEMPLATE_TREASURE:c,EFFECT_TEMPLATE_AGGROED:d,EFFECT_TEMPLATE_DEAD32:u,EFFECT_TEMPLATE_RING:m,EFFECT_TEMPLATE_GIGGLE:f,EFFECT_TEMPLATE_SHRUG:y,EFFECT_TEMPLATE_SIGH:p,EFFECT_TEMPLATE_VR_PORTAL:{animName:"effect_vr_anim",duration:5e3,scale:4,offset:[0,-32]},EFFECT_TEMPLATE_PORTAL_SPAWN:g,EFFECT_TEMPLATE_SPAWN:{animName:"effect_spawn",duration:1e3},EFFECT_TEMPLATE_BUFF:{animName:"effect_buff_anim",duration:1360},EFFECT_TEMPLATE_PHONE_LEFT:{animName:"effects_phone_left",duration:450,offset:[-8,-2]},EFFECT_TEMPLATE_PHONE_RIGHT:{animName:"effects_phone_left_f",duration:450,offset:[8,-2]},EFFECT_TEMPLATE_PING_PONG_LTR:{animName:"effect_pingpong_ltr"},EFFECT_TEMPLATE_PING_PONG_RTL:{animName:"effect_pingpong_rtl"},EFFECT_TEMPLATE_EMOTION_BUBBLE:{duration:750,uiComponent:F=>{const E=F.particle.meta.ch,I=F.particle.meta.emotion,W=Ye(),j=100*(1/w0());c1(()=>{e1(750*(1/w0())-j).then(()=>{W.current.style.animation=`${jA} ${j}ms linear`})},[]);const d1="effect_emotions_"+I;return a($i,{ch:E,renderKey:`particle-${E.name}-${I}`},a("div",{ref:W,style:{position:"absolute",top:"-32px",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",animation:`${zA} ${j}ms linear`}},a(We,{scale:3,animName:d1})))}}})},VA={animName:"effect_sword_left"},qA={animName:"effect_pierce_left"},L8={animName:"effect_fireball_explosion_anim",opacity:.65},XA={animName:"effect_armor_shatter",scale:.5},QA={animName:"effect_range_projectile_left",duration:300},ZA={animName:"effect_range_hit_left"},JA={animName:"effect_gem"},eS={animName:"effect_aggro",duration:500,offset:[0,-32]},I8=(e,t,i,n)=>{const o=1e3,r={size:16,color:n!=null?n:"white",align:"center",strokeColor:"black"},s=Wi();return s.anim=void 0,s.text=e,s.textParams=r,s.timer=new w1(o),s.transform=new T1([t,i,0],[t+W2(-A1/2,A1/2),i-me,0],o,S1.EASE_OUT),s.x=t,s.y=i,s.timer.start(),s},tS=(e,t,i,n)=>{const o=n!=null?n:1e3,r=e0([t,i],e);return r.transform=new T1([r.x,r.y,0],[r.x,r.y-me,0],o,S1.EASE_OUT),r.timer.start(o),r},O8=(e,t,i,n)=>{const o=n!=null?n:1e3,r=e0([t,i],e);return r.transform=new T1([r.x,r.y,0],[r.x+W2(-A1,A1),r.y,0],o,S1.EASE_OUT,kf),r.timer.start(o),r},Je=(e,t,i,n)=>{const o=2e3,r={size:12,color:n!=null?n:"white",align:"center",strokeColor:"black"},s=Wi();return s.anim=void 0,s.text=e,s.textParams=r,s.timer=new w1(o),s.transform=new T1([t,i,0],[t,i-me*1.75,0],o,S1.EASE_OUT),s.x=t,s.y=i,s.timer.start(),s},iS=(e,t)=>{const i=S({},jn("EFFECT_TEMPLATE_EMOTION_BUBBLE"));i.duration=i.duration*(1/w0());const n=e0([0,0],i);return n.meta.ch=e,n.meta.emotion=t,n},Wi=()=>({timer:new w1(1e3),shouldRemove:!1,opacity:1,x:0,y:0,vx:0,vy:0,w:0,h:0,scale:1,meta:{},useOuterCanvas:!1}),e0=(e,t)=>{var l,c,d,u,g,m,f,p,y,w,v,A,C;const i=t.animName?se(t.animName+(t.flipped?pt.FLIPPED:pt.NORMAL)):void 0;let[n,o]=(l=i==null?void 0:i.getSpriteSize(1))!=null?l:[1,1];const r=(c=t.scale)!=null?c:1;n=n*r,o=o*r;const s=Wi();return s.anim=i,s.timer=new w1((u=(d=t.duration)!=null?d:i==null?void 0:i.getDurationMs())!=null?u:1e3),s.opacity=(g=t.opacity)!=null?g:1,s.x=e[0]-n/2+((f=(m=t.offset)==null?void 0:m[0])!=null?f:0),s.y=e[1]-o/2+((y=(p=t.offset)==null?void 0:p[1])!=null?y:0),s.scale=(w=t.scale)!=null?w:1,s.text=(v=t.text)!=null?v:"",s.useOuterCanvas=(A=t.useOuterCanvas)!=null?A:!1,s.textParams=(C=t.textParams)!=null?C:kp,s.uiComponent=t.uiComponent,i==null||i.start(),s.timer.start(),s},P8=e=>e.transform?vo(e.transform.current()):[e.x,e.y],M8=e=>{const t=Y2();e.x+=e.vx*t,e.y+=e.vy*t,e.timer.isComplete()&&(e.shouldRemove=!0)};var V;(function(e){e.SWING="swing",e.RANGED="ranged",e.CAST="cast",e.CHANNEL="channel"})(V||(V={}));var H;(function(e){e.NORMAL="normal",e.PIERCE="pierce",e.KNOCK_DOWN="knock-down",e.FINISH="finish"})(H||(H={}));var Me;(function(e){e.NORMAL="normal"})(Me||(Me={}));const Yn=(e,t)=>{const[i,n]=L1(t);return e0([i,n],e)},D8=e=>{var n;const t=W9(e.name),i=(n=t==null?void 0:t.strikeFrame)!=null?n:e.sprites.length-1;return e.getDurationToIndex(i)},nS=e=>e<45?X2:e<100?Rf:$9,M1=(e,t)=>{var s;const i=t.ch,n=Z1(e,i),o=at(t);let r;return n===s1.ALLY?r=zt(e,o.type):r=(s=t.target)!=null?s:null,r},Vn=async(e,t)=>{const i=t.ch,n=Z1(e,i),o=y1(i),r=[...o];n===s1.ALLY?(r[0]+=A1/2/2,r[1]-=A1/2/2):(r[0]-=A1/2/2,r[1]+=A1/2/2);const s=new T1(o,r,150,S1.LINEAR,X2);return r0(i,s),x("battle_jump"),z(i,_.BATTLE_JUMP),await s.timer.onCompletion(),s},oS=async(e,t)=>{const i=t.ch,n=Z1(e,i),o=y1(i),r=[...o];n===s1.ALLY?(r[0]-=A1/2,r[1]+=A1/2):(r[0]+=A1/2,r[1]-=A1/2);const s=new T1(o,r,150,S1.LINEAR,X2);return r0(i,s),x("battle_jump"),z(i,_.BATTLE_JUMP),await s.timer.onCompletion(),s},rS=async(e,t,i)=>{const n=t.ch,o=B2(t.ch),r=B2(i.ch),s=Math.floor(1+(o[0]-32)/32+(r[1]-32)/32),l=Z1(e,n),c=y1(n),d=y1(i.ch);if(l===s1.ALLY){for(let f=0;f<s;f++)d[0]-=A1/2;(e.alliesStorage.indexOf(t)+2)%2==1&&(d[0]+=A1/2,d[1]+=A1/2)}else{for(let f=0;f<s;f++)d[0]+=A1/2;(e.enemiesStorage.indexOf(t)+2)%2==1&&(d[0]-=A1/2,d[1]-=A1/2)}const u=G2(c,d),g=new T1(c,d,250*To(u,35,125,1,1.75),S1.LINEAR,nS(u));return r0(n,g),z(n,_.BATTLE_JUMP),x("battle_jump"),await g.timer.onCompletion(),g},aS=async(e,t)=>{const i=t.ch,n=y1(i),o=[...n],r=new T1(n,o,400,S1.LINEAR,X2);return r0(i,r),x("battle_jump"),z(i,_.BATTLE_JUMP),r.timer.start(),await r.timer.onCompletion(),r},ge=async(e,t,i,n,{baseDamage:o,baseStagger:r,swingType:s})=>{var u,g;const l=i.ch,c=(g=(u=t.meta.swings)==null?void 0:u.length)!=null?g:1,d=i.actionStateIndex;if(i.actionStateIndex=(i.actionStateIndex+1)%c,console.log("DO SWING",t,i,c),d===0&&(await I0(i),i.actionReadyTimer.start(),await rS(e,i,n)),d<c){i.actionReadyTimer.start(),i.actionReadyTimer.pause(),ne(i,a1.ACTING);let m=VA;s===H.PIERCE&&(m=qA),Z8(i,V.SWING,s);const f=_e(l);let p=!0;H8(n,lt.SWING,1)&&(p=!1,f.disableSounds());const y=D8(f);e1(y).then(()=>{if(p){PS(e,i,n,{damage:o,staggerDamage:r,attackType:s});const[w,v]=L1(n.ch),A=e0([w,v],m);x1(e.room,A)}else U8(e,n);f.enableSounds()}),await f.onCompletion(),d===c-1?await e1(750):await e1(400),v1(e,U.onCharacterActionReady,i),ne(i,a1.ACTING_READY),Ee(i),i.actionReadyTimer.unpause()}i.actionStateIndex===0&&await O0(i)},qn=async(e,t,i,n,{baseDamage:o,baseStagger:r,rangeType:s,soundName:l})=>{var g,m;const c=i.ch,d=(m=(g=t.meta.ranges)==null?void 0:g.length)!=null?m:1,u=i.actionStateIndex;if(i.actionStateIndex=(i.actionStateIndex+1)%d,console.log("DO RANGE",t,i,d),u===0&&(await I0(i),i.actionReadyTimer.start(),await oS(e,i)),u<d){i.actionReadyTimer.start(),i.actionReadyTimer.pause(),ne(i,a1.ACTING),Z8(i,V.RANGED);const f=_e(c),p=D8(f);let y=!0;H8(n,lt.SWING,1)&&(y=!1,f.disableSounds()),e1(p).then(()=>{var R;const w=Yn(J(S({},QA),{flipped:Z1(e,i.ch)===s1.ALLY}),c),[v,A]=up(n.ch),C=W9(f.name),[k,N]=(R=C==null?void 0:C.rangedParticleSpawnOffset)!=null?R:[0,0];w.transform=new T1([w.x+k,w.y+N,0],[v,A,0],100,S1.LINEAR),x1(e.room,w)}),e1(p+75).then(()=>{if(y){MS(e,i,n,o,r);const w=Yn(ZA,n.ch);x(l!=null?l:"battle_arrow_hit"),x1(e.room,w)}else U8(e,n);f.enableSounds()}),await f.onCompletion(),u===d-1?await e1(750):await e1(400),v1(e,U.onCharacterActionReady,i),ne(i,a1.ACTING_READY),Ee(i),i.actionReadyTimer.unpause()}i.actionStateIndex===0&&await O0(i)},Xn=async(e,t,i,n,{particleText:o,particleTemplate:r,soundName:s,baseDamage:l,baseStagger:c,targetCb:d,cb:u})=>{console.log("DO SPELL",t,i),await I0(i),await Vn(e,i);const[g,m]=L1(i.ch);x1(B(),Je(o,g,m,h.RED)),await e1(150),z(i.ch,_.BATTLE_SPELL),await e1(150);for(let f=0;f<n.length;f++){const p=n[f];if(p){const[y,w]=L1(p.ch);r&&x1(e.room,e0([y,w],r)),x(s||"battle_fire_explosion1"),l&&DS(e,i,p,l,c!=null?c:0),d&&d(i),await e1(100)}}u&&u(),await e1(1900)},sS=async(e,t,i,{particleText:n,soundName:o})=>{console.log("DO CHANNEL",t,i),await I0(i),ne(i,a1.CHANNELING),await aS(e,i),x(o),z(i.ch,_.BATTLE_CHANNEL),await e1(100);const[r,s]=L1(i.ch);v1(e,U.onCharacterChannelling,i),x1(B(),Je(n,r,s,h.WHITE)),await O0(i),i.actionTimer.pause()},t0={AdaTrainingSwing:{name:"Training Swing",description:"Jump to target and swing your weapon.",cooldown:1e3,type:V.SWING,meta:{swings:[H.NORMAL,H.NORMAL],icon:"sword"},cb:async function(e,t){var r,s,l;const i=1,n=5,o=M1(e,t);o&&await ge(e,this,t,o,{baseDamage:i,baseStagger:n,swingType:(l=(s=(r=this.meta)==null?void 0:r.swings)==null?void 0:s[t.actionStateIndex])!=null?l:H.NORMAL})}},Swing:{name:"Swing",description:"Jump to target and swing your weapon.",cooldown:1e3,type:V.SWING,meta:{swings:[H.NORMAL,H.PIERCE,H.NORMAL],icon:"sword"},cb:async(e,t)=>{var r,s,l,c;const i=1,n=5,o=M1(e,t);o&&await ge(e,t0.Swing,t,o,{baseDamage:i,baseStagger:n,swingType:(c=(l=(s=(r=t0.Swing)==null?void 0:r.meta)==null?void 0:s.swings)==null?void 0:l[t.actionStateIndex])!=null?c:H.NORMAL})}},SwingSlow:{name:"SwingSlow",description:"A slower version of the swing.",cooldown:2e3,type:V.SWING,meta:{swings:[H.NORMAL,H.NORMAL,H.NORMAL],icon:"sword"},cb:async(e,t)=>t0.Swing.cb(e,t)},SwingKO:{name:"SwingSlow",description:"Instant KO.",cooldown:500,type:V.SWING,meta:{swings:[H.NORMAL],icon:"sword"},cb:async(e,t)=>{var r,s,l,c;const i=99999,n=99999,o=M1(e,t);o&&await ge(e,t0.SwingKO,t,o,{baseDamage:i,baseStagger:n,swingType:(c=(l=(s=(r=t0.Swing)==null?void 0:r.meta)==null?void 0:s.swings)==null?void 0:l[t.actionStateIndex])!=null?c:H.NORMAL})}},SwingWithLongDescription:{name:"Swing LD",description:"This version of Swing is identical to Swing, except it kind of has a super duper long description.  This is done so that it can be TESTED.",cooldown:1e5,type:V.SWING,meta:{swings:[H.NORMAL,H.NORMAL,H.NORMAL],icon:"sword"},cb:async(e,t)=>t0.Swing.cb(e,t)},Defend:{name:"Defend",description:"Brace yourself for an attack, taking less damage and reducing stagger for a short time.",cooldown:5e3,type:V.CAST,meta:{castTime:5e3,icon:"sword"},cb:async(e,t)=>{I0(t);const i=t.ch,n=await Vn(e,t);z(i,_.BATTLE_ITEM),await _e(i).onCompletion(),q8(t,st.DEFEND);const r=n.createInverse();r0(i,r),z(i,_.BATTLE_JUMP),await r.timer.onCompletion(),r.markForRemoval(),Ee(t),Yi(t,{castTime:5e3,onCast:async()=>{console.log("Defense completed"),X8(t,st.DEFEND)},onInterrupt:async()=>{console.log("Defense interrupted"),X8(t,st.DEFEND)}}),await O0(t)}}},Gt=1,lS=()=>{const e={NoWeapon:{name:"(No weapon)",description:"Jump to target and give 'em a smack.  It probably won't be very effective.",cooldown:5e3*Gt,type:V.SWING,meta:{swings:[H.NORMAL],icon:"sword"},cb:async function(t,i){var s,l,c;const n=1,o=1,r=M1(t,i);r&&await ge(t,this,i,r,{baseDamage:n,baseStagger:o,swingType:(c=(l=(s=this.meta)==null?void 0:s.swings)==null?void 0:l[i.actionStateIndex])!=null?c:H.NORMAL})}},TrainingSwordSwing:{name:"Swing Sword",description:"Jump to target and swing your weapon.",cooldown:4500*Gt,type:V.SWING,meta:{swings:[H.NORMAL,H.NORMAL],icon:"sword"},cb:async function(t,i){var s,l,c;const n=3,o=5,r=M1(t,i);r&&await ge(t,this,i,r,{baseDamage:n,baseStagger:o,swingType:(c=(l=(s=this.meta)==null?void 0:s.swings)==null?void 0:l[i.actionStateIndex])!=null?c:H.NORMAL})}},TrainingSwordSwingPlus:{name:"Swing Sword",description:"Jump to target and swing your weapon.",cooldown:4e3*Gt,type:V.SWING,meta:{swings:[H.NORMAL,H.PIERCE],icon:"sword"},cb:async function(t,i){var s,l,c;const n=4,o=6,r=M1(t,i);r&&await ge(t,this,i,r,{baseDamage:n,baseStagger:o,swingType:(c=(l=(s=this.meta)==null?void 0:s.swings)==null?void 0:l[i.actionStateIndex])!=null?c:H.NORMAL})}},TrainingBowShoot:{name:"Shoot Bow",description:"Fire at the ranged target.",cooldown:2500*Gt,type:V.RANGED,meta:{ranges:[Me.NORMAL]},cb:async function(t,i){var s,l,c;const n=2,o=1,r=M1(t,i);r&&await qn(t,this,i,r,{baseDamage:n,baseStagger:o,rangeType:(c=(l=(s=this.meta)==null?void 0:s.ranges)==null?void 0:l[i.actionStateIndex])!=null?c:Me.NORMAL})}},TrainingBowShoot2:{name:"Shoot Bow",description:"Fire at the ranged target.",cooldown:3500*Gt,type:V.RANGED,meta:{ranges:[Me.NORMAL,Me.NORMAL]},cb:async function(t,i){var s,l,c;const n=2,o=1,r=M1(t,i);r&&await qn(t,this,i,r,{baseDamage:n,baseStagger:o,rangeType:(c=(l=(s=this.meta)==null?void 0:s.ranges)==null?void 0:l[i.actionStateIndex])!=null?c:Me.NORMAL})}},Fireball:{name:"Fireball",description:"Shoot a big fireball.",cooldown:8e3*Gt,type:V.CAST,meta:{castTime:3e3,icon:"sword"},cb:async(t,i)=>{await I0(i),Yi(i,{castTime:e.Fireball.meta.castTime,onCast:async()=>{const n=zt(t,V.RANGED);n&&await Xn(t,e.Fireball,i,[n],{baseDamage:15,baseStagger:15,particleText:"Fireball!",particleTemplate:L8})},onInterrupt:async()=>{}}),await O0(i)}}};return e},cS=e=>{const t=lS();e.NoWeapon={label:"No Weapon",description:"No weapon is equipped.",type:K.WEAPON,skills:[t.NoWeapon]},e.TrainingSword={label:"Training Sword",description:"A standard issue training sword.",type:K.WEAPON,weaponType:G1.SWORD,skills:[t.TrainingSwordSwing],icon:"sword"},e.TrainingBow={label:"Training Bow",description:"A standard issue training bow.",type:K.WEAPON,weaponType:G1.BOW,skills:[t.TrainingBowShoot],icon:"bow"},e.PierceSword={label:"Pierce Sword",description:"A slightly more refined version of the standard issue Training Sword.  The hilt is balanced to allow for more force on the followup swing.",type:K.WEAPON,weaponType:G1.SWORD,skills:[t.TrainingSwordSwingPlus],icon:"sword"},e.FastBow={label:"Fast Bow",description:"A version of the Training Bow that can be fired twice instead of once per round at the cost of a slightly-longer cooldown.",type:K.WEAPON,weaponType:G1.BOW,skills:[t.TrainingBowShoot2],icon:"bow"}},dS=e=>{e.HapticBracer={label:"Haptic Bracer",description:"A thick bracelet that surrounds the wrist.  Allows the user to interface with the various VR facilities inside the Regem Ludos Arcade.",type:K.QUEST,icon:"bracer"},e.PingPongEquipment={label:"Ping Pong Equipment",description:"A standard set of Ping Pong equipment includes two rubber-shielded paddles (one side red, one side blue) and a shiny, three-star ping pong ball.",type:K.QUEST,icon:"star"}},uS=e=>{e.ZoeBracelet={label:"Zoe's Bracelet",description:`This unassuming bracelet has the name "Zoe" etched into the outside of it in fancy cursive letters.  Although one might feel some guilt about wearing another's bracelet, the fact remains that Zoe is not here right now and has no agency in the matter.`,type:K.ACCESSORY,icon:"bracelet",modifiers:{HP:10}},e.ShieldRing={label:"Armor Ring",description:'When donning this ring, one feels a certain sense of relief; the kind that says, "You are safe, now.  Unless, of course, you engage in something particularly dangerous."',type:K.ACCESSORY,icon:"ring",modifiers:{armor:1}}},Qn={},Gi=e=>{const t=Qn[e];if(!t)throw new Error(`No IPersistentEffectTemplate exists with name: ${e}`);return S({},t)},hS=()=>{Qn.CLOAKED={name:"CLOAKED",description:"Enemies will not see you while walking around."},Qn.HASTE={name:"HASTE",description:"Cooldowns in battle are reduced by 50% (10s)."}},N8=e=>S2(P(),e)>0,Zn=async(e,t,i)=>new Promise(n=>{const o=M(),r=dt(o,e);if(r){Pt(),w5([r],t),yr();let s=null;if(i){const[l,c]=L1(r.ch),d=Je(`${i}`,l,c,h.LIGHTGREEN);x1(o.room,d),s=d}setTimeout(()=>{Ee(r),R2(r),ct(o,[r]),r.actionTimer.timestampPause=r.actionTimer.timestampStart,_e(r.ch).pause(),b5(),s&&_o(o.room,s),setTimeout(()=>{yf()},100),n(!0)},1500)}}),B8=(e,t,{isBattle:i,filter:n,onCharacterSelectedMenu:o,onCharacterSelectedBattle:r})=>{ux({showDelayInfo:!0,itemNameForDescription:e.name,body:o8,onCharacterSelected:async s=>{if(!N8(e.name)){x("terminal_cancel");return}i?(r(s),Pt(),t(!0)):o(s)},onClose:()=>t(!1),filter:n})},gS=(e,t,{filter:i,onCharacterSelectedBattle:n})=>{const o=M();w5([],""),hx({body:`Use ${e.label} on which character?`,isAll:!1,characters:o.enemies.map(r=>r.ch),onCharacterSelected:async r=>{if(!N8(e.name)){x("terminal_cancel");return}yr(),n(r),Pt()},onClose:()=>{Pt(),b5(),t(!1)},filter:i})},mS=(e,t)=>{const i=K0();$e(E1.CONFIRM,{onClose:()=>{t(!1),ee(i)},onConfirm:()=>{t(!0),ee(i)},body:a("div",null,"Are you sure you wish to use:"," ",a("span",{style:{color:h.BLUE}},e.label),"?",a("div",{style:{margin:"12px 0px",color:h.LIGHTGREY}},e==null?void 0:e.effectDescription))})},i0=(e,t,i,n)=>async(o,r)=>new Promise(s=>{B8(o,s,{isBattle:r,filter:n!=null?n:l=>l.hp>0,onCharacterSelectedMenu:l=>{i(l,o)},onCharacterSelectedBattle:l=>{i(l,o),Zn(l,e,t)}})}),pS=(e,t,i,n)=>async(o,r)=>new Promise(s=>{gS(o,s,{filter:n!=null?n:l=>!0,onCharacterSelectedMenu:()=>{},onCharacterSelectedBattle:l=>{i([l],o),Zn(l,e,t).then(()=>s(!0))}})}),Jn=(e,t,i)=>async(n,o)=>new Promise(r=>{B8(n,r,{isBattle:o,filter:s=>s.hp===0,onCharacterSelectedMenu:s=>{i(s,n),Pt(),r(!0)},onCharacterSelectedBattle:s=>{i(s,n);const l=M(),c=dt(l,s);c&&(c.isDefeated=!1,c.shouldRemove=!1,l.allies.includes(c)||l.allies.push(c)),Zn(s,e,t),setTimeout(()=>{const d=M(),u=dt(d,s);u&&($2(s,_.BATTLE_REVIVE)?z(s,_.BATTLE_REVIVE):(Ee(u),_e(u.ch).pause()))},1e3)}})}),Fi=e=>async(t,i)=>new Promise(n=>{i&&n(!1),mS(t,o=>{o&&e(t),n(o)})}),fS=e=>{e.DilutedPotion={label:"Diluted HP Potion",sortName:"0PotionHP",description:"This bottle contains a green-ish liquid that, when imbibed, restores a rather uninspiring amount of HP.",effectDescription:"Restore 10 hp.",type:K.USABLE,icon:"potion",onUse:i0("effect_heal_anim_loop","+10",(t,i)=>{x("use_item"),Ce(t,10),F1(P(),i.name)})},e.FeeblePotion=e.DilutedPotion,e.Potion={label:"Standard HP Potion",sortName:"1PotionHP",description:"This bottle contains a green liquid that, when imbibed, restores a standard amount of HP.",effectDescription:"Restore 25 hp.",type:K.USABLE,icon:"potion",onUse:i0("effect_heal_anim_loop","+10",(t,i)=>{x("use_item"),Ce(t,25),F1(P(),i.name)})},e.StrongPotion={label:"Strong HP Potion",sortName:"2PotionHP",description:"This bottle contains a green liquid that, when imbibed, restores a large amount of HP.",effectDescription:"Restore 50 hp.",type:K.USABLE,icon:"potion",onUse:i0("effect_heal_anim_loop","+50",(t,i)=>{x("use_item"),Ce(t,50),F1(P(),i.name)})},e.DoubleStrongPotion={label:"Double Strong HP Potion",sortName:"3PotionHP",description:"This bottle contains a green liquid that, when imbibed, restores a doubly-large amount of HP.",effectDescription:"Restore 100 hp.",type:K.USABLE,icon:"potion",onUse:i0("effect_heal_anim_loop","+100",(t,i)=>{x("use_item"),Ce(t,100),F1(P(),i.name)})},e.RezGem={label:"Quartz Respawn Gem",sortName:"0RespawnGem",description:"This small gem is used to restore a character who has had their HP reduced to zero.",effectDescription:"Revive character with 5 hp.",type:K.USABLE,icon:"mineralHeart",onUse:Jn("effect_heal_anim_loop","Revive!",(t,i)=>{x("rez"),Ce(t,5),F1(P(),i.name)})},e.QuartzRezGem=e.RezGem,e.AmberGem={label:"Amber Respawn Gem",sortName:"1RespawnGem",description:"This small gem is used to restore a character who has had their HP reduced to zero.",effectDescription:"Revive character with 25 hp.",type:K.USABLE,icon:"mineralHeart",onUse:Jn("effect_heal_anim_loop","Revive!",(t,i)=>{x("rez"),Ce(t,25),F1(P(),i.name)})},e.TopazGem={label:"Topaz Respawn Gem",sortName:"2RespawnGem",description:"This small gem is used to restore a character who has had their HP reduced to zero.",effectDescription:"Revive character with 50 hp.",type:K.USABLE,icon:"mineralHeart",onUse:Jn("effect_heal_anim_loop","Revive!",(t,i)=>{x("rez"),Ce(t,50),F1(P(),i.name)})},e.Muffin={label:"Muffin",sortName:"Muffin",description:"This tasty snack is just the right thing to put somebody back on their feet.",effectDescription:'Remove the "Knocked Down" status for an allied character.',type:K.USABLE_BATTLE,icon:"muffin",onUse:i0("effect_heal_anim_loop","",(t,i)=>{J8(dt(M(),t),M()),F1(P(),i.name)},t=>t.hp>0&&M()&&rt(dt(M(),t)))},e.DilutedAcidicCompound={label:"Diluted Acidic Compound",description:"A flask of some nasty-smelling liquid that supposedly can eat through one's armor.",effectDescription:"Remove 1 point of armor from target.",type:K.USABLE_BATTLE,icon:"flask",onUse:pS("","Acid",(t,i)=>{const n=t[0],o=M();if(o){const r=dt(o,n);r&&(k2(o,r,1,!0),F1(P(),i.name))}})},e.DeVisibleCloak={label:"DeVisible Cloak",description:"In the early days of the Regem Ludos VR, players were forced to engage in any battle they encountered, since enemies were known to tenaciously chase players down when spotted.  Ostensibly this irritated Mr. Charles DeVisible, who spent months hacking a certain item into the world that would cloak himself from vision.  When other players caught Mr. DeVisible using this item to bypass challenges in VR, they sought to copy the item.  <br/><br/>And copy it they most certainly did.  <br/><br/>While Mr. DeVisible probably still holds the original version of the DeVisible Cloak, a copious number of copies of it can be found littered all about the various floors of the Regem Ludos VR, and they all serve the same purpose: to bypass encounters.  Unfortunately, these copies are not perfect.  For some reason they only last for a limited time before the cloak inexplicably disintegrates, leaving the wearer quite vulnerable.",effectDescription:`Apply the ${Gi("CLOAKED").name} effect for 30 seconds: ${Gi("CLOAKED").description}`,type:K.USABLE_OVERWORLD,icon:"cloakConsume",onUse:Fi(t=>{x("use_item");const n=P().leader;yp(n,oe.CLOAKED),F1(P(),t.name),e1(3e4-5e3).then(()=>{wp(n,oe.CLOAKED,"expiring")}),e1(3e4).then(()=>{r9(n,oe.CLOAKED)})})},e.DeVisibleCloakCutscene=J(S({},e.DeVisibleCloak),{name:"DeVisibleCloak",onAcquire:async t=>{mn("floor1-tut-DeVisibleCloakCutscene")}}),e.HasteFlavoring={label:"Haste Flavoring",description:'This viscous, red "flavoring" is used to decrease the cooldowns of abilities while in a Regem Ludos VR Battle.  Even though it looks suspiciously like ketchup, nobody can actually taste anything while in VR, so the substance cannot be confirmed.',effectDescription:`While in battle, apply the ${Gi("HASTE").name} effect to one character:  ${Gi("HASTE").description}`,type:K.USABLE_BATTLE,icon:"potion",onUse:i0("effect_heal_anim_loop","Haste",(t,i)=>{const n=M();if(n){const o=dt(n,t);o&&(x("use_item"),q8(o,st.HASTE,1e4),F1(P(),i.name))}})}},eo=(e,t,i)=>{const o=P().leader;o9(o,oe.STAT)&&r9(o,oe.STAT),yp(o,oe.STAT,i),F1(P(),e.name),e1(t-5e3).then(()=>{wp(o,oe.STAT,"expiring")}),e1(t).then(()=>{r9(o,oe.STAT)})},yS=e=>{e.FennelSoda={label:"Fennel Soda",sortName:"soda-fennel",description:"A refreshing drink that can get a bit too fizzy if left out for too long.",effectDescription:"Outside of combat, restore 5 HP.",type:K.USABLE_OVERWORLD,icon:"soda",onUse:i0("effect_heal_anim_loop","+5",(t,i)=>{x("use_item"),Ce(t,5),F1(P(),i.name)})},e.CarrotSoda={label:"Carrot Soda",sortName:"soda-carrot",description:"This delicious soda has an unfortunate reputation for accidentally masquerading as some kind of orange drink due to its color.  Nonetheless it provides a refreshing experience.",effectDescription:"Outside of combat, restore 5 HP.",type:K.USABLE_OVERWORLD,icon:"soda",onUse:i0("effect_heal_anim_loop","+5",(t,i)=>{x("use_item"),Ce(t,5),F1(P(),i.name)})},e.DurianSoda={label:"Durian Soda",sortName:"soda-durian",description:"One might expect this soda to have a pungent odor, but it is much the opposite: a sweet aroma and subtle savoriness punctuate the smells of this refreshing drink.",effectDescription:"Outside of combat, restore 5 HP.",type:K.USABLE_OVERWORLD,icon:"soda",onUse:i0("effect_heal_anim_loop","+5",(t,i)=>{x("use_item"),Ce(t,5),F1(P(),i.name)})},e.OysterSoda={label:"Oyster Soda",sortName:"soda-oyster",description:"This savory, bubbly refreshment provides a prefect pallette cleanser for the adventurous individual.",effectDescription:"Outside of combat, restore 5 HP.",type:K.USABLE_OVERWORLD,icon:"soda",onUse:i0("effect_heal_anim_loop","+5",(t,i)=>{x("use_item"),Ce(t,5),F1(P(),i.name)})},e.GrilledTortillaChipettes={label:"Grilled Chip-Ettes",sortName:"snack-grilled-chips",description:"These tiny chips are perfect fare for one seeking a crunchy, lightly salted delight.",effectDescription:"Increase POW by 1 for all party members for thirty seconds.",type:K.USABLE_OVERWORLD,icon:"snack",onUse:Fi(t=>{x("use_item"),eo(t,3e4,{POW:1})})},e.GarlicSticks={label:"Garlic Sticks",sortName:"snack-garlic-sticks",description:"This crackly package holds a veritable bevy of delicious garlic treats.",effectDescription:"Increase ACC by 1  for all party members for thirty seconds.",type:K.USABLE_OVERWORLD,icon:"snack",onUse:Fi(t=>{x("use_item"),eo(t,3e4,{ACC:1})})},e.EspressoTart={label:"Espresso Tart",sortName:"snack-espresso-tart",description:"This beige-colored pastry might not look like much, but it's packed with a strong enough concentration of caffeine and flavor to life the spirts of any drowsy individual.",effectDescription:"Increase EVA by 1  for all party members for thirty seconds.",type:K.USABLE_OVERWORLD,icon:"snack",onUse:Fi(t=>{x("use_item"),eo(t,3e4,{EVA:1})})}},wS=e=>{e.StarterArmor={label:"Starter Armor",description:"A standard-issue vestment that provides a paltry bare-minimum of defense.",type:K.ARMOR,icon:"armor",modifiers:{FOR:1}},e.ResilientHoodie={label:"Resilient Hoodie",description:"This hoodie is made of an itchy, but also surprisingly resilient material.  Although it may not be very comfortable to wear, it can provide some protection from an everyday sword swing or arrow to the chest.",type:K.ARMOR,icon:"armor",modifiers:{CON:2,FOR:2}},e.MantleOfQuickness={label:"Mantle Of Quickness",description:"This wispy-then mantle makes one just a bit quicker on the uptake, especially when potentially sharp objects come hurtling in their general direction.",type:K.ARMOR,icon:"armor",modifiers:{EVA:10}}},bS=e=>{e.TicketCache10={label:"10 Tickets",description:"Some tickets that are acquirable.",effectDescription:"Some tickets.",type:K.JUNK,icon:"help",onAcquire:async t=>{mn("utils-get-acquirable-tickets",10),F1(P(),t.name)}}};var K;(function(e){e.NONE="none",e.QUEST="quest",e.JUNK="junk",e.USABLE="usable",e.USABLE_BATTLE="usable-battle",e.USABLE_OVERWORLD="usable-overworld",e.WEAPON="weapon",e.ARMOR="armor",e.ACCESSORY="accessory"})(K||(K={}));var G1;(function(e){e.SWORD="sword",e.SPEAR="spear",e.HAMMER="hammer",e.BOW="bow",e.GUN="gun",e.WAND="wand"})(G1||(G1={}));const Fe={},m1=e=>{const t=Fe[e];if(!t)throw new Error(`No item template exists with name: ${e}`);return S({},t)},Ft=e=>{const t=Fe[e];return t?S({},t):null},vS=()=>{cS(Fe),dS(Fe),uS(Fe),fS(Fe),yS(Fe),wS(Fe),bS(Fe);for(const e in Fe){const t=Fe[e];if(t.name||(t.name=e),t.type||(t.type=K.NONE),!t.icon){switch(t.type){}t.icon="help"}}},xS=e=>{const t=o0(e);return{leader:t,tokens:99,tickets:99,backpack:[m1("TrainingSword"),m1("TrainingBow"),m1("TrainingSword"),m1("TrainingSword"),m1("FeeblePotion"),m1("FeeblePotion"),m1("RezGem"),m1("DeVisibleCloak"),m1("ShieldRing"),m1("ZoeBracelet"),m1("HasteFlavoring"),m1("Muffin"),m1("DilutedAcidicCompound"),m1("DilutedAcidicCompound"),m1("HapticBracer")],party:[t],battlePositions:[t],partyStorage:[t]}},$8=e=>{const t=o0(e);return{leader:t,tokens:0,tickets:0,backpack:[],party:[t],battlePositions:[t],partyStorage:[t]}},W8=(e,t)=>{const i=e.battlePositions.indexOf(t);return i>=4?X.BACK:i>=2?X.MIDDLE:X.FRONT},A2=e=>{const t=e.leader,[i,n]=I1(t.x,t.y),[o,r]=vt(),s=Math.round(o/2-i-16),l=Math.floor(r/2-n-16);return[s,l]},Ht=(e,t)=>{const i=Ft(t);return i&&e.backpack.push(i),!0},F1=(e,t)=>{const i=e.backpack.findIndex(n=>n.name===t);return i>-1?(e.backpack.splice(i,1),!0):!1},TS=(e,t)=>e.backpack.findIndex(n=>n.name===t)>-1,S2=(e,t)=>{let i=0;for(let n=0;n<e.backpack.length;n++)e.backpack[n].name===t&&i++;return i},to=(e,t)=>{e.tokens+=t,e.tokens<0&&(e.tokens=0)},Hi=(e,t)=>{e.tickets+=t,e.tickets<0&&(e.tickets=0)},ES=(e,t)=>{const i=[];return e.partyStorage.forEach(n=>{const o=p0(n);n.experience+=t;const r=p0(n);o<r&&i.push(n)}),i},_S=(e,t)=>{const i=e.partyStorage.find(n=>n.name.toLowerCase()===t.toLowerCase());i&&!e.party.includes(i)&&e.party.push(i),i&&!e.battlePositions.includes(i)&&e.battlePositions.push(i)},CS=(e,t)=>{const i=e.partyStorage.find(r=>r.name.toLowerCase()===t.toLowerCase()),n=e.party.indexOf(i);i&&n>-1&&e.party.splice(n,1);const o=e.battlePositions.indexOf(i);i&&o>-1&&e.battlePositions.splice(o,1)};class AS{constructor(){this.particles=[],this.width=0,this.height=0,this.clearColor="",this.meta={},this.onParticleUpdate=()=>{}}updateDraw(){const i=wt("outer").getContext("2d");this.clearColor&&u9(0,0,this.width,this.height,this.clearColor,!1,i);for(let n=0;n<this.particles.length;n++){const o=this.particles[n];this.onParticleUpdate(o),M8(o),Ao(o,o.x,o.y,1,i)}i.restore()}}const SS=e=>{const t=wt("outer"),i=1500,n=new AS,o=t.width,r=t.height;n.width=o,n.height=r,n.clearColor=`rgba(0, 0, 0, ${Y2()*.05})`;for(let s=0;s<i;s++){const l=Wi();l.y=-Math.random()*r/2,l.x=Math.random()*o,l.vy=20+Math.random()*1.5,l.w=l.h=15+Math.random()*8,l.color=Ae([h.WHITE,h.GREY]),l.timer.pause(),l.shape="rect",n.particles.push(l)}return n},Ui=async(e,t,i,n)=>{var d,u;j1(O.Debug),pe(500);const[o,r]=vt(),s=new T1([0,0,0],[o/2-32/2,r/4-13,0],1,S1.EASE_OUT);if(y0(s),n){const g=G8(e,t);g.isPaused=!0,ct(g),((d=t.events)==null?void 0:d.onBattleStart)&&(await((u=t.events)==null?void 0:u.onBattleStart(g)),setTimeout(()=>{W1()},100)),t1(O.BattleUI,!0),await F8(g),g.isPaused=!1,g.isStarted=!0,jt(g),He(g,U.onCompletion,()=>{pe(250),i&&i()});return}const l=SS(Wk());fr(l);const c=K0();setTimeout(()=>{var g;Lt(100,!0),Tt((g=t.music)!=null?g:"music_battle1",!0)},1250),setTimeout(()=>{fr(null),ee(c);const g=G8(e,t);g.transitioning=!0,g.isPaused=!0,ct(g),It(250);const m=500,f=500,p=250;g.allies.filter(y=>y.ch.hp>0).forEach((y,w)=>{const v=y1(y.ch),A=[v[0]-16*6,v[1]+16*6,0],C=new T1(A,v,m,S1.LINEAR,$9);r0(y.ch,C),C.timer.pause(),e1(500+w*p).then(()=>{var k;w===0&&x("battle_jump"),z(y.ch,_.BATTLE_JUMP),(k=y.ch.transform)==null||k.timer.unpause(),e1(m).then(()=>{Ee(y)})})}),e1(m+(500+g.allies.length*p)+f).then(async()=>{var y,w;t1(O.BattleUI,!0),g.isStarted=!0,g.isPaused=!1,g.transitioning=!1,((y=t.events)==null?void 0:y.onBattleStart)?(await((w=t.events)==null?void 0:w.onBattleStart(g)),setTimeout(()=>{W1()},1)):(await F8(g),jt(g))}),He(g,U.onCompletion,()=>{pe(250),i&&i()})},2550)},G8=(e,t)=>{var d,u,g,m,f,p,y;const i=$m(t.roomName);i.characters=[];const n=ii(t.roomName);i.bgImage=(d=n.backgroundImage)!=null?d:"",n.backgroundTransform&&(i.bgTransform=T1.copy(n.backgroundTransform));const o=i.bgTransform,r=()=>{o.timer=new w1(o.timer.duration),o.timer.awaits.push(r),o.timer.start()};o.timer.awaits.push(r),o.timer.start();const s=t.enemies.map(w=>{const v=o0(w.chTemplate);return gt(i,v),Y8(v,w)}),l=e.party.map(w=>(gt(i,w),V8(w,{position:W8(e,w)}))),c=jS(i,l,s);return c.itemTimer.forceComplete(),c.template=t,c.allies.forEach(w=>{w.ch.hp>0?R2(w,!0):(w.isDefeated=!0,w.shouldRemove=!0)}),c.enemies.forEach(w=>{R2(w,!0)}),c.alliesStorage.forEach(w=>{U1(w.ch,T.RIGHT)}),c.allies.forEach(w=>{w.ch.hp>0?Ee(w):z(w.ch,_.BATTLE_DEAD)}),j2(e),Yo(c),b9(i),YS(c),Et(zi),He(c,U.onTurnStarted,w=>{console.log("ON TURN STARTED",w),w===s1.ALLY?(Ut(300,20,0),P2(c,c.allies)):(Ut(300,-20,0),P2(c,c.enemies))}),He(c,U.onTurnEnded,w=>{console.log("ON TURN ENDED",w),w===s1.ALLY?(sp(c,c.allies.filter(v=>!Y1(v))),c.allies.forEach(v=>{v.target=void 0})):(sp(c,c.allies.filter(v=>!Y1(v))),c.enemies.forEach(v=>{v.target=void 0})),U0($())||RS(300)}),He(c,U.onCharacterRecovered,w=>{const[v,A]=L1(w.ch);x1(B(),Je("Recovery",v,A,h.BLUE)),Ee(w),Z1(c,w.ch)===s1.ALLY&&x("battle_recovery")}),((u=t.events)==null?void 0:u.onCharacterDamaged)&&He(c,U.onCharacterDamaged,(g=t.events)==null?void 0:g.onCharacterDamaged),((m=t.events)==null?void 0:m.onTurnEnded)&&He(c,U.onTurnEnded,(f=t.events)==null?void 0:f.onTurnEnded),((p=t.events)==null?void 0:p.onCharacterDefeated)&&He(c,U.onCharacterDefeated,(y=t.events)==null?void 0:y.onCharacterDefeated),console.log("CREATE BATTLE",c),c},kS=()=>{const[e,t]=vt();return[e/2-32/2,t/4-13]},RS=e=>{Ut(e,0,0)},Ut=(e,t,i)=>{const n=e,o=f0();if(o){const[r,s]=o.current(),[l,c]=kS(),d=new T1([r,s,0],[l-t,c-i,0],n,S1.EASE_OUT);y0(d)}},F8=async e=>{const t=e.enemies.filter(o=>at(o).type===V.CHANNEL),i=e.allies.filter(o=>o.ch.hp>0&&at(o).type===V.CHANNEL),n=t.concat(i);n.length&&await e1(1e3);for(let o=0;o<n.length;o++){const r=n[o],s=at(r);s&&(await s.cb(e,r),r.actionTimer.start(),r.actionTimer.pause(),await e1(500))}},nt=async e=>{const t=M();if(t){t.isPaused=!0;const i=K0();h0(),ct(t),F0(),await y2($(),e),t.isPaused=!1,G0(),ee(i),jt(t),t1(O.BattleUI,!0)}},Ki=async(e,t=!1)=>{const i=M();if(i){i.isPaused=!0;const n=K0();h0(),ct(i),F0(),await hi($(),e),i.isPaused=!1,G0(),ee(n),jt(i),t&&t1(O.BattleUI,!0)}},LS=e=>({x:0,z:1,s:2,a:3,w:4,q:5})[e.toLowerCase()],io=e=>{var i;return(i=["x","z","s","a","w","q"][e])==null?void 0:i.toUpperCase()},zi=async e=>{var r;const t=M(),i=ze();if(D().appState.sections.length>1||t.transitioning)return;const o=/^[xzsawqXZSAWQ]$/.test(e.key);if(!i&&o){const s=e.key.toLowerCase(),l=t.alliesStorage[(r=LS(s))!=null?r:-1];if((l==null?void 0:l.ch.hp)>0){const c=at(l);ji(l,c)}return}switch(e.key){case"d":{V2()?(S9(),L9()):(A9(),R9());break}case"ArrowLeft":{i||(lp(t)?x("menu_select"):x("menu_cancel"),W1());break}case"ArrowRight":{i||(cp(t)?x("menu_select"):x("menu_cancel"),W1());break}case"0":case"Digit0":{!i&&n0(t)===null&&(t.enemies.forEach(s=>{Xi(t,s,{damage:99999999,particleColor:h.BLACK,soundName:"terminal_beep",postfix:"!!!!"})}),setTimeout(()=>{v1(t,U.onTurnEnded,s1.ALLY)},100));break}case" ":{i||(x("woosh"),ve());break}}},IS=(e,t)=>ek(e).length?!1:t.actionState===a1.ACTING_READY||t.actionState===a1.CHANNELING?!0:t.actionState===a1.CASTING?!1:I2(e,t)?!0:(console.log("cannot attack, battle character cannot act yet",t),!1),ji=(e,t)=>{const i=M();!IS(i,e)||(e.canActSignaled=!1,t.cb(i,e),v1(M(),U.onCharacterAction,e))},I0=async e=>{console.log("begin action",e);const t=M();t.isPaused||(n0(t)===null&&v1(t,U.onTurnStarted,Z1(t,e.ch)),ne(e,a1.ACTING),e.actionTimer.start(),e.actionTimer.pause(),v1(t,U.onCharacterActionStarted,e))},O0=async e=>{console.log("end action",e);const t=M();if(!t.isPaused){if(!(P0(e)||L2(e))){ne(e,a1.ACTING);const i=e.ch.transform;if(i){const n=i.createInverse();r0(e.ch,n),x("battle_jump"),z(e.ch,_.BATTLE_JUMP),await n.timer.onCompletion(),n.markForRemoval()}Ee(e),ne(e,a1.IDLE)}if(e.canActSignaled=!1,v1(t,U.onCharacterActionEnded,e),n0(t)===null){const i=ho(t);if(console.log("NO MORE ALLEGIANCE IS ACTING",i),i.length){const n=1500;for(let o=0;o<i.length;o++){const r=i[o];x("despawn"),z(r.ch,_.BATTLE_DEAD),t.targetedEnemyIndex=Math.max(0,t.targetedEnemyIndex-i.length),t.targetedEnemyRangeIndex=Math.max(0,t.targetedEnemyRangeIndex-i.length),await e1(100)}await e1(n),v1(t,U.onTurnEnded,Z1(t,e.ch)),setTimeout(()=>{W1()},100)}else v1(t,U.onTurnEnded,Z1(t,e.ch))}}},H8=(e,t,i)=>{const n=M(),o=BS(n,e,t,Q8(e))*i,r=Math.random()*100,s=r<=o;return console.log("DID evade?",s,r,o),s},no=(e,t)=>{if(console.log("apply stagger damage of",t,"to",e.ch.name),!zS(e)){if(Y1(e))console.log("bCh is already staggered"),e.staggerTimer.start();else if(console.log("STAGGER!",e.actionState),e.staggerGauge.fill(t),e.staggerGauge.isFull()){e.canActSignaled=!1,e.staggerSoundName?(console.log("PLAY STAGGER SOUND",e.staggerSoundName),x(e.staggerSoundName)):console.error("NO STAGGER SOUND SPECIFIED FOR BCH",e),Vi(e),qi(e),e.armor&&(k2(M(),e,1,!0),e.armor=0),v1(M(),U.onCharacterStaggered,e),ne(e,a1.STAGGERED),e.staggerTimer.start(),e.staggerGauge.empty(),e.actionTimer.start(),e.actionTimer.pause();const[i,n]=L1(e.ch);x1(B(),Je("Staggered",i,n,"orange")),z(e.ch,_.BATTLE_STAGGERED)}}},k2=(e,t,i,n)=>{let o=i,r=!1;if(n?(console.log("BROKE ARMOR WITH PIERCE ATTACK!"),t.armor>0&&(x("battle_armor_broken"),t.armor--,r=!0),o=0):t.armorTimer.isComplete()?(x("battle_armor_hit"),t.armorTimer.start(),o=0):(console.log("BROKE ARMOR WITH SIMULTANEOUS ATTACK!"),t.armor>0&&(x("battle_armor_broken"),t.armor--,r=!0),t.armor>0),r){const[s,l]=L1(t.ch),d=e0([s+16/2,l-t.ch.spriteHeight/4],XA);x1(e.room,d)}else if(o===0){const[s,l]=L1(t.ch);x1(B(),Je("Block",s,l,"white"))}return{nextDamageAmount:o}},OS=e=>{v1(M(),U.onCharacterKnockedDown,e),ne(e,a1.KNOCKED_DOWN),e.koTimer.start(),e.staggerTimer.start(),e.staggerGauge.empty(),e.actionTimer.start(),e.actionTimer.pause(),z(e.ch,_.BATTLE_KNOCKED_DOWN);const[t,i]=L1(e.ch);x1(B(),Je("Knockdown!",t,i,"red"))},PS=(e,t,i,n)=>{const{damage:o,staggerDamage:r}=n;let s=h.WHITE,l="";const c=o+t.ch.stats.POW,d=c-Math.ceil(c/4);let u=Math.floor(W2(d,c)),g="";if(Y1(i))u*=2,s=h.BLUE,l="!",g="robot_staggered_damaged",n.attackType===H.KNOCK_DOWN&&!rt(i)&&OS(i);else if(i.armor>0){const{nextDamageAmount:m}=k2(e,i,u,n.attackType===H.PIERCE);u=m}return no(i,r),i.armor<=0&&(Vi(i),qi(i)),u=oo(e,i,lt.SWING,Math.max(0,u)),console.log("APPLY SWING DAMAGE",u),Xi(e,i,{damage:u,particleColor:s,postfix:l,soundName:g}),!0},MS=(e,t,i,n,o)=>{let r="",s=h.WHITE;const l=n+Math.floor(t.ch.stats.POW/2),c=l-Math.ceil(l/4);let d=Math.floor(W2(c,l)),u="";if(Y1(i))r="!",s=h.ORANGE,d*=2,u="robot_staggered_damaged";else if(i.armor>0){const{nextDamageAmount:g}=k2(e,i,d,!1);d=g}return no(i,o),i.armor<=0&&(Vi(i),qi(i)),d=oo(e,i,lt.RANGED,Math.max(0,d)),Xi(e,i,{damage:d,particleColor:s,soundName:u,postfix:r}),!0},DS=(e,t,i,n,o)=>{let r="",s="";const l=n+t.ch.stats.POW,c=l-Math.ceil(l/4);let d=Math.floor(W2(c,l));return Y1(i)?(r="!",d*=2,s="robot_staggered_damaged"):i.armor>0&&k2(e,i,d,!1),no(i,o),Vi(i),qi(i),d=oo(e,i,lt.MAGIC,Math.max(0,d)),Xi(e,i,{damage:d,particleColor:h.LIGHTBLUE,postfix:r,soundName:s}),!0},R2=(e,t)=>{var r;const i=e.ch.skills[e.ch.skillIndex],n=e.ch.stats.SPD;let o=(r=i==null?void 0:i.cooldown)!=null?r:1e3;if(t&&e.ch.startingCooldown!==void 0&&(o=e.ch.startingCooldown),i){const s=1-1/(1+n/100);let l=Math.max(o-o*s,1e3);HS(e,st.HASTE)&&(l=l/2),console.log("RESET COOLDOWN TIMER",e.ch.name,l,s,n),e.actionTimer.start(l),(Y1(e)||L2(e)||P0(e))&&e.actionTimer.pause()}},Yi=(e,t)=>{ne(e,a1.CASTING),z(e.ch,_.BATTLE_CAST),v1(M(),U.onCharacterCasting,e),t.soundName?x(t.soundName):x("battle_cast");const[i,n]=L1(e.ch);x1(B(),Je("Casting",i,n)),e.actionTimer.pause(),e.castTimer.start(t.castTime),e.onCast=async()=>{t.onCast&&await t.onCast()},e.onCastInterrupted=async()=>{t.onInterrupt&&await t.onInterrupt()}},Vi=e=>{if(P0(e)){console.log("INTERRUPT CAST",e),ne(e,a1.IDLE),v1(M(),U.onCharacterInterrupted,e),e.onCastInterrupted();const[t,i]=L1(e.ch);e.actionTimer.unpause(),R2(e),x("battle_interrupt_channel"),x1(B(),Je("Interrupt!",t,i,"cyan"))}},qi=e=>{if(L2(e)){console.log("INTERRUPT CHANNEL",e),ne(e,a1.IDLE),v1(M(),U.onCharacterInterrupted,e),e.onChannelInterrupted();const[t,i]=L1(e.ch);e.actionTimer.start(),e.actionTimer.unpause(),x("battle_interrupt_channel"),x1(B(),Je("Interrupt!",t,i,"teal"))}},NS=async e=>{const t=M(),i=n0(t);(i===null||i===Z1(t,e.ch))&&(await I0(e),v1(M(),U.onCharacterSpell,e),await e.onCast(),e.actionTimer.unpause(),e.actionTimer.start(),e.actionTimer.pause(),await O0(e))},U8=(e,t)=>{console.log("apply miss to",t.ch.name);const i=_e(t.ch);i.disableSounds(),e1(150).then(()=>i.enableSounds()),x("battle_evasion");const[n,o]=L1(t.ch);x1(e.room,I8("Miss!",n,o,h.WHITE)),z(t.ch,_.BATTLE_EVADED),mo(t.ch,()=>{Ee(t)}),v1(M(),U.onCharacterEvaded,t)},Xi=(e,t,i)=>{const{damage:n,particleColor:o,postfix:r,soundName:s}=i;if(console.log("apply damage to",n,t.ch.name),n>0){const[l,c]=L1(t.ch);x1(e.room,I8(`${n}${r!=null?r:""}`,l,c,o)),Ce(t.ch,-n),v1(e,U.onCharacterDamaged,t)}if(t.isDefeated){const[l,c]=L1(t.ch);x1(e.room,O8(JA,l,c,1e3))}else t.ch.hp>0&&s&&x(s);US(t)},oo=(e,t,i,n)=>{const o=rp(e,Kt.onBeforeCharacterDamaged,Z1(e,t.ch));for(let r=0;r<o.length;r++){const l=o[r].cb(t,n,i);l!==void 0&&(n=l)}return Math.max(0,n)},BS=(e,t,i,n)=>{const o=rp(e,Kt.onBeforeCharacterEvades,Z1(e,t.ch));for(let r=0;r<o.length;r++){const l=o[r].cb(t,n,i);l!==void 0&&(n=l)}return n=Math.max(0,n),n=Math.min(95,n),n},K8=(e,t,i,n,o)=>{let r=0;const s=Xp();return s&&(r=Qp(s)),pe(250),()=>{console.log("BATTLE COMPLETED!"),Lt(500,!0),e1(500).then(()=>{var c,d;y0(null),It(500,!0),Yo(null),b9(e),t1(O.Debug,!0),tn(g1());const l=P();if(re(l.leader,t),U1(l.leader,i),l.partyStorage.forEach(u=>{r0(u,null)}),o){const u=o.name,g=$();ly(g,u,e.name)}s&&pe(250).then(()=>{Tt(g1().music,!0),s.soundName===g1().music&&Zp(s,r)}),((c=n.events)==null?void 0:c.onAfterBattleEnded)&&((d=n.events)==null||d.onAfterBattleEnded())})}},$S=async e=>{var t,i,n,o;if(np(e)){h0(),e.isCompleted=!0,ee(zi),P2(e),((i=(t=e.template)==null?void 0:t.events)==null?void 0:i.onBattleEnd)&&await((o=(n=e.template)==null?void 0:n.events)==null?void 0:o.onBattleEnd(e)),console.log("VICTORY"),pe(250),x("fanfare"),h0(),e1(2800).then(()=>{O4(70,20,500,!0),Tt("music_battle_victory",!0),t1(O.BattleVictory,!0)}),await e1(250);for(const r in e.allies)z(e.allies[r].ch,_.BATTLE_FLOURISH)}else VS(e)&&(z(P().leader,_.BATTLE_DEAD),h0(),x("battle_loss"),e.isCompleted=!0,ee(zi),P2(e),await e1(100),console.log("DEFEAT!"),t1(O.BattleDefeated,!0))},WS=e=>{var o;if((o=e.template)==null?void 0:o.disableFlee){console.error("Cannot flee a battle which has flee disabled.");return}h0(),e.isCompleted=!0,e.transitioning=!0,ee(zi),P2(e),pe(250);const t=500,i=500,n=250;e.allies.filter(r=>r.ch.hp>0).forEach((r,s)=>{const l=y1(r.ch),c=[l[0]-16*6,l[1]+16*6,0],d=new T1(l,c,t,S1.LINEAR,$9);r0(r.ch,d),d.timer.pause(),e1(500+s*n).then(()=>{var u;s===0&&x("battle_jump"),z(r.ch,_.BATTLE_JUMP),(u=r.ch.transform)==null||u.timer.unpause()})}),e1(t+(500+e.allies.length*n)+i).then(async()=>{e.isStarted=!0,e.isPaused=!1,e.transitioning=!1,v1(e,U.onCompletion,e)})},GS=e=>{for(let t=0;t<e.allies.length;t++){const i=e.allies[t];ep(e,i),i.shouldRemove&&(e.allies.splice(t,1),t--)}for(let t=0;t<e.enemies.length;t++){const i=e.enemies[t];ep(e,i),i.shouldRemove&&(e.enemies.splice(t,1),t--)}e.itemTimer.update(),e.isCompleted||$S(e)},ro={},z8=e=>{const t=ro[e];if(!t)throw new Error(`No battle-ai exists with name: ${e}`);return t},FS=()=>{ro.BATTLE_AI_ATTACK=(e,t)=>{const i=t.ch,n=Z1(e,i),o=at(t),r=lo(e,n,o.type),s=Ae(r);console.log("BATTLE AI ATTACK",t.ch.name,r.map(l=>l.ch.name)),s?(t.target||(t.target=s),ji(t,o)):t.target=void 0},ro.BATTLE_AI_TUT_BOSS1=(e,t)=>{const i=t.ch,n=Z1(e,i);if(e.enemies.length===1){const o=t.ch.skills[3];t.ch.skillIndex=t.ch.skills.indexOf(o);const r=lo(e,n,o.type),s=Ae(r);s&&(t.target||(t.target=s),ji(t,o))}else{const o=Ae(t.ch.skills.slice(0,3));t.ch.skillIndex=t.ch.skills.indexOf(o);const r=lo(e,n,o.type),s=Ae(r);s&&(t.target||(t.target=s),ji(t,o))}}};var a1;(function(e){e.IDLE="idle",e.ACTING="acting",e.ACTING_READY="acting-ready",e.CASTING="casting",e.CHANNELING="channeling",e.STAGGERED="staggered",e.KNOCKED_DOWN="knocked-down"})(a1||(a1={}));const j8=(e,t)=>{var r;const i=e.skills[e.skillIndex],n=e.stats.STAGGER;return{ch:e,armor:0,isDefeated:!1,shouldRemove:!1,actionTimer:new w1((r=i==null?void 0:i.cooldown)!=null?r:2e3),actionReadyTimer:new w1(1500),staggerTimer:new w1(6e3),staggerGauge:new Af(n,.002),koTimer:new w1(6e3),castTimer:new w1(1e3),armorTimer:new w1(250),position:t,positionMarker:-1,actionState:a1.IDLE,actionStateIndex:0,statuses:[],canActSignaled:!1,onCanActCb:async function(){},onCast:async function(){},onCastInterrupted:async function(){},onChannelInterrupted:async function(){},ai:void 0,isReviving:!1,preventRemove:!1}},Y8=(e,t)=>{var n,o,r,s,l;e.name.lastIndexOf("+")===-1&&(e.name=e.name+"+"+xo());const i=j8(e,t.position);return i.ai=z8((n=t.ai)!=null?n:"BATTLE_AI_ATTACK"),i.armor=(s=(r=t.armor)!=null?r:(o=e.template)==null?void 0:o.armor)!=null?s:0,i.staggerSoundName=t.chTemplate.staggerSoundName,console.log("ENEMY CREATED",i,z8((l=t.ai)!=null?l:"BATTLE_AI_ATTACK")),i},V8=(e,t)=>{var o,r,s;const i=j8(e,t.position),n=V0(e.name);return n&&(i.staggerSoundName=n.staggerSoundName,i.armor=(s=(r=n.armor)!=null?r:(o=e.template)==null?void 0:o.armor)!=null?s:0),i.armor+=fp(e,"armor"),i},ao=e=>[a1.ACTING,a1.ACTING_READY].includes(e.actionState),ot=e=>[a1.ACTING,a1.ACTING_READY,a1.CASTING].includes(e.actionState),so=e=>e.actionState===a1.ACTING_READY,Y1=e=>e.actionState===a1.STAGGERED||e.actionState===a1.KNOCKED_DOWN,rt=e=>e.actionState===a1.KNOCKED_DOWN,P0=e=>e.actionState===a1.CASTING,L2=e=>e.actionState===a1.CHANNELING,ne=(e,t)=>{e.actionState=t},I2=(e,t)=>{if(e.isPaused)return!1;if(t.actionState===a1.CHANNELING)return!0;if(ot(t)||Y1(t)||rt(t)||U0($()))return!1;const i=t.ch,o=Z1(e,i)===s1.ALLY?e.enemies:e.allies;for(let r=0;r<o.length;r++){const s=o[r];if(ao(s))return!1}return t.actionTimer.isComplete()},q8=(e,t,i)=>{if(!e.statuses.find(n=>n.status===t)){const n=new w1(i!=null?i:1e4);n.start(),e.statuses.push({status:t,timer:n})}},X8=(e,t)=>{const i=e.statuses.findIndex(n=>t===n.status);i>-1&&e.statuses.splice(i,1)},HS=(e,t)=>e.statuses.findIndex(n=>t===n.status)>-1,at=e=>{var i;return(i=e.ch.skills[e.ch.skillIndex])!=null?i:On("NoWeapon")},Q8=e=>e.ch.stats.EVA,US=e=>{rt(e)?z(e.ch,_.BATTLE_KNOCKED_DOWN_DMG,!0):Y1(e)?z(e.ch,_.BATTLE_STAGGERED,!0):(z(e.ch,_.BATTLE_DAMAGED,!0),mo(e.ch,()=>{Y1(e)?z(e.ch,_.BATTLE_STAGGERED,!0):Ee(e)}))},Ee=e=>{L2(e)?z(e.ch,_.BATTLE_CHANNEL):P0(e)?z(e.ch,_.BATTLE_CAST):e.ch.weaponEquipState===M2.RANGED?z(e.ch,_.BATTLE_IDLE_RANGED):z(e.ch,_.BATTLE_IDLE)},Z8=(e,t,i)=>{switch(t){case V.RANGED:{z(e.ch,_.BATTLE_RANGED);break}case V.CAST:{z(e.ch,_.BATTLE_CAST);break}case V.CHANNEL:{console.error("No channel type implemented to set animation");break}case V.SWING:switch(i){case H.NORMAL:{z(e.ch,_.BATTLE_ATTACK);break}case H.PIERCE:if($2(e.ch,_.BATTLE_ATTACK_PIERCE)){z(e.ch,_.BATTLE_ATTACK_PIERCE);break}else z(e.ch,_.BATTLE_ATTACK);case H.KNOCK_DOWN:if($2(e.ch,_.BATTLE_ATTACK_KNOCKDOWN)){z(e.ch,_.BATTLE_ATTACK_KNOCKDOWN);break}else z(e.ch,_.BATTLE_ATTACK);case H.FINISH:if($2(e.ch,_.BATTLE_ATTACK_FINISH)){z(e.ch,_.BATTLE_ATTACK_FINISH);break}else z(e.ch,_.BATTLE_ATTACK)}}},J8=(e,t)=>{rt(e)&&!e.isReviving&&(e.koTimer.start(),e.koTimer.pause(),e.isReviving=!0,$2(e.ch,_.BATTLE_REVIVE)?(z(e.ch,_.BATTLE_REVIVE),mo(e.ch,()=>{e.isReviving=!1,e.actionTimer.unpause(),v1(t,U.onCharacterRecovered,e),ne(e,a1.IDLE)})):e1(500).then(()=>{e.isReviving=!1,e.actionTimer.unpause(),v1(t,U.onCharacterRecovered,e),ne(e,a1.IDLE)}))},KS=(e,t)=>{Y1(e)&&!e.isReviving&&(e.staggerTimer.start(),e.staggerTimer.pause(),Ee(e),e.actionTimer.unpause(),v1(t,U.onCharacterRecovered,e),ne(e,a1.IDLE))},zS=e=>e.isDefeated,ep=(e,t)=>{if(t.ch.hp<=0){if(dp(t.ch)!==_.BATTLE_DEFEATED&&dp(t.ch)!==_.BATTLE_DEAD&&z(t.ch,_.BATTLE_DEFEATED),!t.isDefeated){t.isDefeated=!0,z(t.ch,_.BATTLE_DEFEATED),x("dead"),t.staggerGauge.empty(),t.staggerTimer.start(),t.staggerTimer.pause(),t.koTimer.start(),t.koTimer.pause(),t.actionState=a1.IDLE;const i=()=>{co(e,U.onTurnEnded,i),!!t.isDefeated&&(v1(e,U.onCharacterDefeated,t),t.preventRemove||O2(e,t))};He(e,U.onTurnEnded,i)}return}if(!e.isCompleted){rt(t)&&!t.isReviving?t.koTimer.isComplete()&&J8(t,e):Y1(t)&&!t.isReviving&&t.staggerTimer.isComplete()&&KS(t,e),P0(t)&&t.castTimer.isComplete()&&NS(t),so(t)&&t.actionReadyTimer.isComplete()&&(t.actionStateIndex=0,O0(t));for(let i=0;i<t.statuses.length;i++){const n=t.statuses[i];n.timer.update(),n.timer.isComplete()&&(t.statuses.splice(i,1),i--)}t.staggerGauge.update(),ot(t)?so(t)&&t.ai&&t.ai(e,t):I2(e,t)&&(t.canActSignaled||(t.canActSignaled=!0,v1(e,U.onCharacterReady,t)),t.onCanActCb(),t.ai&&!L2(t)&&t.ai(e,t))}};var Kt;(function(e){e.onBeforeCharacterEvades="onBeforeCharacterEvades",e.onBeforeCharacterDamaged="onBeforeCharacterDamaged"})(Kt||(Kt={}));var U;(function(e){e.onCharacterDamaged="onCharacterDamaged",e.onCharacterReady="onCharacterReady",e.onCharacterActionStarted="onCharacterActionStarted",e.onCharacterAction="onCharacterAction",e.onCharacterActionReady="onCharacterActionReady",e.onCharacterActionButtonPressed="onCharacterActionButtonPressed",e.onCharacterActionEnded="onCharacterActionEnded",e.onCharacterStaggered="onCharacterStaggered",e.onCharacterKnockedDown="onCharacterKnockedDown",e.onCharacterPinned="onCharacterPinned",e.onCharacterRecovered="onCharacterRecovered",e.onCharacterCasting="onCharacterCasting",e.onCharacterChannelling="onCharacterChannelling",e.onCharacterSpell="onCharacterSpell",e.onCharacterInterrupted="onCharacterInterrupted",e.onCharacterEvaded="onCharacterEvaded",e.onCharacterDefeated="onCharacterDefeated",e.onMagicShieldDamaged="onMagicShieldDamaged",e.onTurnStarted="onTurnStarted",e.onTurnEnded="onTurnEnded",e.onCompletion="onCompletion"})(U||(U={}));var X;(function(e){e.FRONT="front",e.MIDDLE="middle",e.BACK="back"})(X||(X={}));var tp;(function(e){e.TOP="top",e.BOTTOM="bottom",e.NONE="none"})(tp||(tp={}));var s1;(function(e){e.ALLY="ally",e.ENEMY="enemy",e.NONE="none"})(s1||(s1={}));var st;(function(e){e.DEFEND="defend",e.HASTE="haste"})(st||(st={}));var lt;(function(e){e.RANGED="ranged",e.SWING="swing",e.MAGIC="magic"})(lt||(lt={}));const jS=(e,t,i)=>{const n={onCharacterDamaged:[],onCharacterReady:[],onCharacterActionStarted:[],onCharacterAction:[],onCharacterActionReady:[],onCharacterActionButtonPressed:[],onCharacterActionEnded:[],onCharacterStaggered:[],onCharacterKnockedDown:[],onCharacterRecovered:[],onCharacterPinned:[],onCharacterSpell:[],onCharacterCasting:[],onCharacterChannelling:[],onCharacterInterrupted:[],onCharacterEvaded:[],onCharacterDefeated:[],onMagicShieldDamaged:[],onTurnStarted:[],onTurnEnded:[],onCompletion:[]},o={onBeforeCharacterEvades:[],onBeforeCharacterDamaged:[]};return{room:e,isStarted:!1,isCompleted:!1,enemies:i,enemiesStorage:[...i],defeated:[],allies:t,alliesStorage:[...t],subscriptions:n,persistentEffects:o,targetedEnemyIndex:0,targetedEnemyRangeIndex:0,itemTimer:new w1(1e4),isPaused:!1,transitioning:!1}},H1=()=>({POW:5,ACC:1,FOR:1,CON:1,RES:1,SPD:1,EVA:1,HP:10,STAGGER:10,RESV:10}),YS=e=>{const t=P();e.allies.forEach((i,n)=>{const o=t.battlePositions.indexOf(i.ch);p2(i.ch.name,"MarkerAlly"+(o>-1?o:n)),i.positionMarker=n}),e.enemies.forEach(i=>{ip(e,i)})},ip=(e,t)=>{const i=t.position;let n=0;i===X.MIDDLE?n=2:i===X.BACK&&(n=4),e.enemies.find(r=>r.positionMarker===n)&&n++,e.enemies.find(r=>r.positionMarker===n)&&console.error("WARNING: Setting battle character at a position which is already occupied.",t),p2(t.ch.name,"MarkerEnemy"+n),t.positionMarker=n},np=e=>e.enemies.length===0,VS=e=>e.allies.length===0,Z1=(e,t)=>{if(e.enemies.find(i=>i.ch===t))return s1.ENEMY;if(e.allies.find(i=>i.ch===t))return s1.ALLY;throw new Error(`Cannot get battle allegiance for character '${t.name}' that does not exist in battle.`)},qS=e=>e===s1.ALLY?s1.ENEMY:s1.ALLY,XS=(e,t)=>{switch(t){case s1.ALLY:return e.allies;case s1.ENEMY:return e.enemies;default:return e.allies}},lo=(e,t,i)=>{const n=XS(e,qS(t));if(i===V.SWING){let o;return o=n.filter(r=>r.position===X.FRONT),o.length||(o=o.concat(n.filter(r=>r.position===X.MIDDLE))),o.length||(o=n.filter(r=>r.position===X.BACK)),o!=null?o:null}else return n},op=(e,t)=>e.filter(i=>i.position===t),He=(e,t,i)=>{e.subscriptions[t].push(i)},co=(e,t,i)=>{const n=e.subscriptions[t].indexOf(i);n>-1&&e.subscriptions[t].splice(n,1)},v1=(e,t,i)=>{console.log("invoke event",t,i),e.subscriptions[t].slice().forEach(o=>{o(i)})};function QS(e,t,i){var s;e.persistentEffects[t].push(i);const[n,o]=up(i.source.ch),r=e0([n,o],{duration:1/0,opacity:.5});r.anim=i.anim,(s=r.anim)==null||s.start(),i.particle=r,x1(e.room,r)}function ZS(e,t,i){const n=e.persistentEffects[t].indexOf(i);n>-1&&(e.persistentEffects[t].splice(n,1),i.particle&&_o(e.room,i.particle))}function rp(e,t,i){return e.persistentEffects[t].slice().filter(o=>o.affectedAllegiance===i)}function JS(e,t){let i=[];for(const n in e.persistentEffects)i=i.concat(e.persistentEffects[n]);return i.filter(n=>Z1(e,n.source.ch)===t)}const n0=e=>e.allies.reduce((n,o)=>n||ao(o),!1)?s1.ALLY:e.enemies.reduce((n,o)=>n||ao(o),!1)?s1.ENEMY:null,O2=(e,t)=>{let i=e.enemies.indexOf(t);if(i>-1){t.shouldRemove=!0,e.defeated.push(t),mt(e.room,t.ch);return}i=e.allies.indexOf(t),i>-1&&(t.shouldRemove=!0,e.defeated.push(t))},ap=(e,t)=>{const i=e.enemies,n=op(i,X.FRONT);if(n.length>0&&t>=n.length)return!1;if(t<n.length)return!0;const o=op(i,X.MIDDLE);return o.length>0&&t>=o.length?!1:(t<o.length,!0)},uo=(e,t)=>[s1.ENEMY,s1.ALLY].includes(n0(e))?(console.log("Cannot set melee battle target index during enemy/ally acting phase."),!1):ap(e,t)?ho(e).length?(console.log("Cannot cannot set target when characters are defeated."),!1):(t<e.enemies.length&&(e.targetedEnemyIndex=t),!0):(console.log("Cannot target characters behind other characters."),!1),Qi=(e,t)=>[s1.ENEMY,s1.ALLY].includes(n0(e))?(console.log("Cannot set ranged battle target index during enemy/ally acting phase."),!1):ho(e).length?(console.log("Cannot cannot set ranged target when characters are defeated."),!1):(t<e.enemies.length&&(e.targetedEnemyRangeIndex=t),!0),zt=(e,t)=>{var n;const i=t===V.SWING?e.targetedEnemyIndex:e.targetedEnemyRangeIndex;return(n=e.enemies[i])!=null?n:null},ct=(e,t)=>{e.itemTimer.pauseOverride(),(t!=null?t:e.allies.concat(e.enemies)).forEach(i=>{i.actionTimer.pauseOverride(),i.staggerTimer.pauseOverride(),i.koTimer.pauseOverride(),i.castTimer.pauseOverride(),i.actionReadyTimer.pauseOverride(),i.ch.transform&&i.ch.transform.timer.pauseOverride(),i.statuses.forEach(n=>{n.timer.pauseOverride()})})},jt=(e,t)=>{console.log("BATTLE UNPAUSE",t!=null?t:e.allies.concat(e.enemies)),e.itemTimer.unpauseOverride(),(t!=null?t:e.allies.concat(e.enemies)).forEach(i=>{i.actionTimer.unpauseOverride(),i.staggerTimer.unpauseOverride(),i.castTimer.unpauseOverride(),i.koTimer.unpauseOverride(),i.actionReadyTimer.unpauseOverride(),i.ch.transform&&i.ch.transform.timer.unpauseOverride(),i.statuses.forEach(n=>{n.timer.unpauseOverride()})})},P2=(e,t,i)=>{(t!=null?t:e.allies.concat(e.enemies)).forEach(n=>{i?n.actionTimer.pauseOverride():n.actionTimer.pause()})},sp=(e,t,i)=>{(t!=null?t:e.allies.concat(e.enemies)).forEach(n=>{i?n.actionTimer.unpauseOverride():n.actionTimer.unpause()})},ho=e=>e.allies.concat(e.enemies).filter(t=>t.isDefeated),ek=e=>e.allies.concat(e.enemies).filter(t=>t.isDefeated&&t.ch.animationState===_.BATTLE_DEAD),lp=e=>{var c;const t=zt(e,V.SWING),i=(c=e.enemies.indexOf(t))!=null?c:0;let n=i,o=e.enemies[i],r=0;const s=e.enemies.length;let l=!1;do if(r++,n=i+1,o=e.enemies[n],o||(n=0,o=e.enemies[n]),o&&ap(e,n)){l=uo(e,n);break}while(o&&r<=s);return l},cp=e=>{var c;const t=zt(e,V.RANGED),i=(c=e.enemies.indexOf(t))!=null?c:0;let n=i,o=e.enemies[i],r=0;const s=e.enemies.length;let l=!1;do r++,n=i+1,o=e.enemies[n],o||(n=0,o=e.enemies[n]),o&&(l=Qi(e,n));while(o&&r<=s);return l},dt=(e,t)=>{{const i=e.alliesStorage.find(n=>n.ch===t);if(i)return i}{const i=e.enemiesStorage.find(n=>n.ch===t);if(i)return i}return null},tk=e=>{e.itemTimer.start(),e.itemTimer.timestampPause=z1(),e.itemTimer.pauseOverride()},ik=e=>{var n,o,r,s,l,c;let t=[];((n=e.template)==null?void 0:n.getDrops)&&(t=(o=e.template)==null?void 0:o.getDrops());const i=(s=(r=e.template)==null?void 0:r.baseExperience)!=null?s:1;return{items:t,experience:i,tokens:(c=(l=e.template)==null?void 0:l.baseTokens)!=null?c:0}},nk=.5;var M2;(function(e){e.NORMAL="normal",e.RANGED="ranged",e.MAGIC="magic"})(M2||(M2={}));var T;(function(e){e.LEFT="left",e.UP="up",e.DOWN="down",e.LEFT_UP="leftup",e.LEFT_DOWN="leftdown",e.RIGHT="left_f",e.RIGHT_UP="leftup_f",e.RIGHT_DOWN="leftdown_f",e.RIGHT2="right",e.RIGHT_UP2="rightup",e.RIGHT_DOWN2="rightdown"})(T||(T={}));var _;(function(e){e.OVERRIDDEN="overridden",e.IDLE="idle",e.WALK="walk",e.BATTLE_IDLE="battle_idle",e.BATTLE_IDLE_RANGED="battle_idle_ranged",e.BATTLE_JUMP="battle_jump",e.BATTLE_EVADED="battle_evaded",e.BATTLE_ATTACK="battle_attack",e.BATTLE_ATTACK_PIERCE="battle_attack_p",e.BATTLE_ATTACK_KNOCKDOWN="battle_attack_k",e.BATTLE_ATTACK_FINISH="battle_attack_f",e.BATTLE_DAMAGED="battle_damaged",e.BATTLE_STAGGERED="battle_staggered",e.BATTLE_RANGED="battle_ranged",e.BATTLE_CAST="battle_cast",e.BATTLE_SPELL="battle_spell",e.BATTLE_CHANNEL="battle_channel",e.BATTLE_ITEM="battle_item",e.BATTLE_FLOURISH="battle_flourish",e.BATTLE_DEFEATED="battle_defeated",e.BATTLE_DEAD="battle_dead",e.BATTLE_KNOCKED_DOWN="battle_knocked_down",e.BATTLE_KNOCKED_DOWN_DMG="battle_knocked_down_damaged",e.BATTLE_REVIVE="battle_revive"})(_||(_={}));var oe;(function(e){e.CLOAKED="cloaked",e.SPEEDY="speedy",e.STAT="stat"})(oe||(oe={}));const ok=[_.BATTLE_FLOURISH],rk=e=>{const t={name:e,nameLabel:e,fullName:"",spriteBase:"ada",x:0,y:0,z:0,vx:0,vy:0,spriteWidth:32,spriteHeight:32,speed:nk,transform:null,hp:10,resv:10,experience:2,experienceCurrency:10,stats:H1(),skills:[t0.SWING],skillIndex:0,equipment:{weapon:m1("NoWeapon")},facing:T.LEFT,animationState:_.IDLE,animationKey:"",animationOverride:null,storedAnimations:{},weaponEquipState:M2.NORMAL,weaponEquipTypes:[],walkTarget:null,walkAngle:0,walkDistance:0,walkRetries:0,onReachWalkTarget:null,talkTrigger:"",aiState:{},aiEnabled:!0,overworldAi:w4("DO_NOTHING"),storedState:{},timers:[],tags:[],highlighted:!1,visionRange:24*2,collisionSize:[16,16],collisionOffset:[0,0],encounterStuckRetries:0,itemStatuses:[],sortOffset:void 0,template:null};return t.ro={character:t,sortY:0,visible:!0},t.animationKey=Yt(t),t},o0=e=>{var i,n,o;const t=rk(e.name);if(t.spriteBase=e.spriteBase,t.facing=e.facing||t.facing,t.animationState=e.animationState||t.animationState,t.animationKey=Yt(t),t.hp=(n=(i=e==null?void 0:e.stats)==null?void 0:i.HP)!=null?n:t.stats.HP,t.stats=S({},e.stats||t.stats),t.resv=t.stats.RESV,t.skills=e.skills||t.skills,t.talkTrigger=(o=e.talkTrigger)!=null?o:"",t.tags=e.tags||[],e.overworldAi&&typeof e.overworldAi=="string"?t.overworldAi=w4(e.overworldAi):e.overworldAi&&(t.overworldAi=e.overworldAi),t.overworldAi.onCreate&&t.overworldAi.onCreate(t),e.nameLabel&&(t.nameLabel=e.nameLabel),e.weaponEquipState&&(t.weaponEquipState=e.weaponEquipState),e.spriteSize&&(t.spriteWidth=e.spriteSize[0],t.spriteHeight=e.spriteSize[1],t.sortOffset=t.spriteHeight+1),e.canGetStuckWhileWalking&&(t.walkRetries=-1/0),e.encounterName){const r=m4(e.encounterName);if(!r)throw console.error(e),new Error(`Cannot create character from template.  No encounter exists with encounterName="${e.encounterName}"`);t.encounter=r}if(e.speed&&(t.speed=e.speed),e.equipment&&Object.assign(t.equipment,e.equipment),e.weaponEquipTypes&&(t.weaponEquipTypes=[...e.weaponEquipTypes]),e.fullName&&(t.fullName=e.fullName),e.collisionSize!==void 0&&(t.collisionSize=[e.collisionSize,e.collisionSize]),e.collisionOffset!==void 0&&(t.collisionOffset=e.collisionOffset.slice()),e.visionRange&&(t.visionRange=e.visionRange),e.overrideAnimationName){const r=e.overrideAnimationName;if(!v0(r))console.error("loading ch template",e.name,"Could not find override animation with name: "+r);else{const s=se(r);D2(t,s)}}return e.sortOffset!==void 0&&(t.sortOffset=e.sortOffset),e.startingCooldown&&(t.startingCooldown=e.startingCooldown),t.template=e,t},Yt=e=>{const{spriteBase:t,facing:i,animationState:n}=e;return ok.includes(n)?`${t}_${n}`:`${t}_${n}_${i}`},_e=e=>{const{storedAnimations:t}=e;if(e.animationState===_.OVERRIDDEN){const o=e.animationOverride;if(o)return o;throw new Error("Null overridden animation.")}let i=Yt(e);const n=t[i];if(n)return n;{v0(i)||(i="ada_idle_down");const o=se(i);return t[i]=o,o}},z=(e,t,i)=>{e.animationState=t;const n=Yt(e);if(n!==e.animationKey){if(e.animationPromise&&(e.animationPromise.reject(),e.animationPromise=void 0),e.animationState===_.OVERRIDDEN)return;if(!v0(n)){console.log(`Warning, tried to set animKey for character which did not exist: ${n}`);return}e.animationKey=n;const o=_e(e);o.reset(),o.start()}else if(i){const o=_e(e);o.reset(),o.start()}},go=(e,t)=>{e.spriteBase=t,z(e,e.animationState,!0)},dp=e=>e.animationState,D2=(e,t,i)=>{z(e,_.OVERRIDDEN),e.animationOverride=t,i&&(t.loop||t.awaits.push(i)),t.reset(),t.start()},re=(e,t)=>{e.x=Math.floor(t[0]),e.y=Math.floor(t[1]),e.z=Math.floor(t[2])},mo=(e,t)=>{e.animationPromise&&(console.log("overriding previous animation completion",_e(e).name),e.animationPromise.reject());const i=_e(e);if(i.loop)return console.error("Setting characterOnAnimationCompletion for an animation set with loop=true",i.name),Promise.resolve();const n={},o=new Promise((r,s)=>{n.resolve=r,n.reject=s,(async()=>{await i.onCompletion(),e.animationPromise=void 0,r()})()}).then(()=>{t()}).catch(r=>{console.log("animation was canceled:",i.name,r)});return e.animationPromise=n,o},U1=(e,t)=>{e.facing=t,z(e,e.animationState)},po=(e,t)=>{if(t>360-22.5||t<22.5){U1(e,T.UP);return}const i=[T.UP,T.RIGHT_UP,T.RIGHT,T.RIGHT_DOWN,T.DOWN,T.LEFT_DOWN,T.LEFT,T.LEFT_UP];for(let n=1;n<8;n++)t>=n*45-22.5&&t<=(n+1)*45-22.5&&U1(e,i[n])},Ce=(e,t)=>{e.hp+=t,e.hp>m0(e,"HP")?e.hp=m0(e,"HP"):e.hp<0&&(e.hp=0)},ut=e=>Number((e.hp/m0(e,"HP")).toFixed(2)),ak=e=>Number((e.resv/m0(e,"RESV")).toFixed(2)),r0=(e,t)=>{e.transform=t},y1=e=>e.transform?e.transform.current():[e.x,e.y,e.z],N2=e=>{const{x:t,y:i}=e;return[t+16,i+16-4]},sk=e=>{const[t,i,n]=y1(e);return I1(t,i,n)},up=e=>sk(e),L1=e=>{const[t,i,n]=fo(e),[o,r]=I1(t,i,n),[s,l]=B2(e);return[o+s/2,r+l/2]},fo=e=>{const[t,i,n]=y1(e),[o,r]=B2(e);return[t-(o-32),i-(r-32)/2,n]},B2=e=>[e.spriteWidth,e.spriteHeight],De=(e,t,i)=>{e.walkTarget=t,e.onReachWalkTarget=i;const n=N2(e),o=hp(e),r=c9(n,o);e.walkAngle=r,e.walkDistance=G2(qt(n),qt(o)),e.walkRetries>0&&(e.walkRetries=0),Zi(e,[...o,1.5])&&gp(e)},lk=async(e,t)=>new Promise(i=>{De(e,t,i)}),hp=e=>e.walkTarget?[e.walkTarget[0]+16,e.walkTarget[1]+16-4]:[0,0],Zi=(e,t)=>{const i=[...N2(e),1];return Eo(i,t)},ck=(e,t)=>{const i=[...N2(e),2];return Ck(i,t)!=="none"},M0=(e,t)=>{dk(e,t)||e.timers.push(t)},yo=e=>{e.aiEnabled&&(uk(e),e.aiEnabled=!1,e9(e))},Ji=e=>{e.aiEnabled||(e.aiEnabled=!0,hk(e))},gp=e=>{var i,n;z(e,_.IDLE);const t=e.walkTarget;re(e,[(i=t==null?void 0:t[0])!=null?i:0,(n=t==null?void 0:t[1])!=null?n:0,e.z]),e.onReachWalkTarget&&e.onReachWalkTarget(),e.walkTarget=null,e.onReachWalkTarget=null},e9=e=>{e.walkTarget=null,M()||z(e,_.IDLE)},dk=(e,t)=>e.timers.includes(t),uk=e=>{e.storedState.facing=e.facing,e.storedState.walkTarget=e.walkTarget},hk=e=>{e.storedState.facing&&U1(e,e.storedState.facing),e.storedState.walkTarget&&(e.walkTarget=e.storedState.walkTarget)},$2=(e,t)=>{const i=e.animationState,n=e.animationKey;e.animationState=t;const o=Yt(e);return e.animationState=i,e.animationKey=n,v0(o)},gk=e=>{const[t,i]=y1(e),[n,o]=vp(bp(e.facing));return[t+e.visionRange*n*.75,i+e.visionRange*o*.75]},mk=(e,t)=>{const[i,n]=y1(t),[o,r]=gk(e),s=e.visionRange;return Eo([i,n,1],[o,r,s])&&!o9(t,oe.CLOAKED)},wo=(e,t)=>Eo(mp(e),mp(t)),mp=e=>{const[t,i]=y1(e),[n,o]=e.collisionSize,r=Math.min(n/2,o/2);return[t+e.collisionOffset[0],i+e.collisionOffset[1],r]},pk=e=>{e.timers=[]},fk=(e,t)=>{e.overworldAi=t,t.onCreate&&t.onCreate(e)},t9=(e,t)=>{for(const i in e.equipment)if(e.equipment[i]===t)return!0;return!1},pp=(e,t)=>{t==="Accessory"?t="accessory1":t==="Accessory 2"&&(t="accessory2"),t=t.toLowerCase();const i=e.equipment[t];if(i)return i},Ue=(e,t,i)=>{var c,d,u,g,m,f;const n=ut(e);t.type===K.WEAPON?e.equipment.weapon=t:t.type===K.ARMOR?e.equipment.armor=t:t.type===K.ACCESSORY&&(i===0?e.equipment.accessory1=t:i===1&&(e.equipment.accessory2=t));const o=ut(e);n!==o&&(e.hp=Math.round(n*m0(e,"HP"))),e.skills=[];const r=(u=(d=(c=e.equipment)==null?void 0:c.weapon)==null?void 0:d.skills)!=null?u:[],s=(f=(m=(g=e.equipment)==null?void 0:g.armor)==null?void 0:m.skills)!=null?f:[],l=r.concat(s);for(const p in l)e.skills.push(l[p])},yk=(e,t,i)=>{var c,d,u,g,m,f;const n=ut(e);t.type===K.WEAPON?e.equipment.weapon=void 0:t.type===K.ARMOR?e.equipment.armor=void 0:t.type===K.ACCESSORY&&(i===0?e.equipment.accessory1=void 0:i===1&&(e.equipment.accessory2=void 0));const o=ut(e);n!==o&&(e.hp=Math.round(n*m0(e,"HP"))),e.skills=[];const r=(u=(d=(c=e.equipment)==null?void 0:c.weapon)==null?void 0:d.skills)!=null?u:[],s=(f=(m=(g=e.equipment)==null?void 0:g.armor)==null?void 0:m.skills)!=null?f:[],l=r.concat(s);for(const p in l)e.skills.push(l[p])},fp=(e,t)=>{var n;let i=0;for(const o in e.equipment){const r=e.equipment[o];if(r){const s=(n=r.modifiers)==null?void 0:n[t];s!==void 0&&(i+=s)}}return i},m0=(e,t)=>{var n;return((n=e.stats[t])!=null?n:0)+fp(e,t)},i9=e=>Math.round(.04*e**3+.8*e**2+2*e),p0=e=>{let t=1,i=0;const n=100,o=(e==null?void 0:e.experience)||e;if(o<3)return 1;for(i=i9(t);o>=i&&t<n;)t++,i=i9(t);return t},n9=e=>{const t=p0(e),i=i9(t-1),n=i9(t);return To(e.experience,i,n,0,1)},o9=(e,t)=>Boolean(e.itemStatuses.find(i=>i.status===t)),yp=(e,t,i)=>{e.itemStatuses.push({status:t,statMeta:i,state:"normal"}),setTimeout(()=>{W1()},100)},r9=(e,t)=>{const i=e.itemStatuses.findIndex(n=>n.status===t);i>-1&&e.itemStatuses.splice(i,1),setTimeout(()=>{W1()},100)},wp=(e,t,i)=>{const n=e.itemStatuses.find(o=>o.status===t);n&&(n.state=i),setTimeout(()=>{W1()},100)},wk=e=>{r9(e,oe.CLOAKED)},bk=e=>{const t=B(),i=Y2();if(e.transform&&(e.transform.update(),e.transform.shouldRemove&&(e.transform=null)),e.walkTarget){const s=N2(e),l=hp(e),c=c9(s,l);e.walkAngle=c;const d=Math.sin(e.walkAngle*Math.PI/180),u=-Math.cos(e.walkAngle*Math.PI/180),g=e.walkDistance;e.walkDistance=G2(qt(s),qt(l)),g<=e.walkDistance&&e.walkRetries++,e.vx=d,e.vy=u,z(e,_.WALK),(e.walkRetries>10||Zi(e,[...l,1.5]))&&(gp(e),e.vx=0,e.vy=0)}if(e.vx!==0||e.vy!==0){const[s,l]=Ak(e.vx,e.vy),c=s*i*e.speed,d=l*i*e.speed,{x:u,y:g}=e;e.x+=c,e.y+=d;let m=kk(-c,-d)-45;if(m<0&&(m+=360),po(e,m),vk(e)){if(s9(e,t)){const f=e.x,p=e.y,y=()=>(e.y=g,e.x=f,s9(e,t)),w=()=>(e.y=p,e.x=u,s9(e,t));if(y()){if(w()){if(e.x=u,e.y=g,s9(e,t)){console.log("Leader is standing in a wall, warping to nearest adj tile.");const v=J1(t,[e.x,e.y]),A=Sp(t,e);if(v&&A){re(e,[...bo(A.x,A.y),e.z]);return}}}}}}else[J1(t,[e.x-0,e.y+0])].reduce((y,w)=>y||a9(w),!1)&&(e.x=u,e.y=g,e.encounter&&(e9(e),yo(e),e.encounterStuckRetries++,e.encounterStuckRetries>50&&mt(t,e),e1(250+Math.random()*250).then(()=>{const y=B();if(y&&y.characters.includes(e)){const w=J1(y,[e.x,e.y]);if(console.log("This encounter character is stuck, resetting to",w==null?void 0:w.x,w==null?void 0:w.y),w){const v=qt(bo(w.x,w.y));e.facing===T.RIGHT||e.facing===T.RIGHT_DOWN?v[1]+=4:(e.facing===T.LEFT||e.facing===T.LEFT_DOWN)&&(v[0]+=4),re(e,v)}Ji(e)}})))}const[n,o]=y1(e),[,r]=I1(n,o,0);if(e.ro){let s=33;e.sortOffset!==void 0&&(s=e.sortOffset),e.ro.sortY=r+s}e.vx=0,e.vy=0},a9=e=>(e==null?void 0:e.isWall)&&!(e==null?void 0:e.isProp),vk=e=>e.spriteBase==="ada",s9=(e,t)=>{const i=J1(t,[e.x,e.y]);let n=null,o=null,r=null;i&&(n=a0(t,i.x,Math.floor((e.y+22)/Zt)),o=a0(t,Math.floor((e.x+22)/Qt),i.y),r=a0(t,Math.floor((e.x+22)/Qt),Math.floor((e.y+22)/Zt)));const s=a9(n)||a9(o)||a9(r);if((i==null?void 0:i.isWall)||s)return!0},I1=(e,t,i)=>[e-t,(e+t)/2-(i!=null?i:0)/2],l9=(e,t)=>[(2*t+e)/2,(2*t-e)/2],bo=(e,t)=>[e*16,t*16],xk=(e,t,i)=>{const[n,o]=I1(e,t,i);return Vt(n,o)},Vt=(e,t)=>{const[i,n]=gf(),o=bt(),r=(e+i)*o-(o>=4?638+48:0),s=(t+n)*o-(o>=4?512:0);return[r,s]},Tk=e=>{const t=e.lastIndexOf(".");return t>-1&&(e=e.slice(0,t)),e},vo=e=>[e[0],e[1]],qt=e=>[e[0],e[1],0];function Ek(e,t,i,n){const o=e/n;return-i*o*(o-2)+t}const xo=()=>Math.random().toString(36).substr(2,9);function To(e,t,i,n,o){return n+(e-t)*(o-n)/(i-t)}function Xt(e,t,i,n,o){let r=To(e,t,i,n,o);return n<o?r>o?r=o:r<n&&(r=n):r<o?r=o:r>n&&(r=n),r}function _k(e,t,i,n,o){const r=Xt(e,t,i,0,1);return Ek(r,n,o-n,1)}const e1=async(e,t)=>{const i=new w1(e);t||mf(i),i.start(),await i.onCompletion(),t||pf(i)},W2=(e,t)=>Math.floor(Math.random()*(t-e))+e,G2=(e,t)=>{const[i,n,o]=e,[r,s,l]=t;return Math.sqrt(Math.pow(r-i,2)+Math.pow(s-n,2)+Math.pow(l-o,2))},Eo=(e,t)=>{const[i,n,o]=e,[r,s,l]=t;return G2([i,n,0],[r,s,0])<=o+l},Ck=(e,t)=>{const[i,n,o]=e,r=[i-o,n-o,o*2,o*2],[s,l,c,d]=r,[u,g,m,f]=t,p=s+c/2-(u+m/2),y=l+d/2-(g+f/2),w=(c+m)/2,v=(d+f)/2,A=w*y,C=v*p;let k="none";return Math.abs(p)<=w&&Math.abs(y)<=v&&(A>C?k=A>-C?"bottom":"left":k=A>-C?"right":"top",i<=u&&n<=g?k="top-left":i>=u+m&&n<=g?k="top-right":i<=u&&n>=g+f?k="bottom-left":i>=u+m&&n>=g+f&&(k="bottom-right")),k};function c9(e,t){const[i,n]=e,[o,r]=t,s=r-n,l=o-i,c=Math.sqrt(l*l+s*s);let d=0;return r>=n&&o>=i?d=Math.asin(s/c)*180/Math.PI+90:r>=n&&o<i?d=Math.asin(s/-c)*180/Math.PI-90:r<n&&o>i?d=Math.asin(s/c)*180/Math.PI+90:d=Math.asin(-s/c)*180/Math.PI-90,d>=360&&(d=360-d),d<0&&(d=360+d),d}const Ak=(e,t)=>{const i=Math.sqrt(e*e+t*t);return[e/i,t/i]},Sk=e=>e*(180/Math.PI),kk=(e,t)=>{if(e==0)return t>0?90:t==0?0:270;if(t==0)return e>=0?0:180;let i=Sk(Math.atan(t/e));return e<0&&t<0||e<0?i=180+i:t<0&&(i=270+(90+i)),i};function Ae(e){return e[Math.floor(Math.random()*e.length)]}const bp=e=>({[T.LEFT]:T.LEFT_DOWN,[T.RIGHT]:T.RIGHT_UP,[T.UP]:T.LEFT_UP,[T.DOWN]:T.RIGHT_DOWN,[T.LEFT_DOWN]:T.DOWN,[T.RIGHT_DOWN]:T.RIGHT,[T.LEFT_UP]:T.LEFT,[T.RIGHT_UP]:T.UP})[e],vp=e=>{let t=0,i=0;switch(e){case T.LEFT:{t=-1;break}case T.RIGHT:{t=1;break}case T.UP:{i=-1;break}case T.DOWN:{i=1;break}case T.LEFT_UP:{t=-1,i=-1;break}case T.RIGHT_UP:{t=1,i=-1;break}case T.LEFT_DOWN:{t=-1,i=1;break}case T.RIGHT_DOWN:{t=1,i=1;break}}return[t,i]},F2=(e,t)=>e[1]*t+e[0]%t;function Rk(e,t){const i=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);return t!==void 0?"rgba("+i+", "+n+", "+o+", "+t+")":"rgb("+i+", "+n+", "+o+")"}const O1=e=>{const t=e.stats,i=Object.keys(t);for(let n=0;n<i.length;n++){const o=i[n];if(o!=="STAGGER"&&Math.random()>.5){t[o]++,n--;continue}}return e},xp=(e,t)=>{var o,r;const i=(o=e.sortName)!=null?o:e.label,n=(r=t.sortName)!=null?r:t.label;return i<n?-1:1},Lk=e=>{const t=[],i=1e3*60*60,n=Math.trunc(e/i);n>0&&(t.push(n+"h"),e=e-n*i);const o=1e3*60,r=Math.trunc(e/o);r>0&&(t.push(r+"m"),e=e-r*o);const s=Math.trunc(e/1e3);return s>0&&t.push(s+"s"),t.join(" ")},Tp=()=>window.DEVELOPMENT,A1=32,me=32,Qt=16,Zt=16,Ik=(e,t)=>e.taggedMarkers.filter(i=>i.name===t),Ok=e=>["props_0","props_1","props_2","props_3","props_4","props_5","props_6","props_8","props_9","props_10","props_11","props_12","props_13"].includes(e),Pk=e=>Cp(e.name,e.tiledJson),d9=(e,t)=>{if(t===0)return{sprite:"invisible",tileWidth:32,tileHeight:32};let i=0;do{const n=e[i],o=e[i+1];if(!o||t>=n.firstgid&&t<o.firstgid){const r=t-n.firstgid;return{sprite:n.name+"_"+r,tileWidth:n.tilewidth,tileHeight:n.tileheight}}i++}while(i<e.length);throw new Error("Could not determine sprite from gid:"+t)};let ht=null;const Ep=async()=>{var t,i;const e=await fetch(`${fe()}/props-dynamic.tiled-sheet.tsx`).then(n=>n.text());e&&(ht=(i=(t=e.match(/source="(.*)\.[\w]+"/g))==null?void 0:t.map(n=>n.slice(n.indexOf('"')+1,n.lastIndexOf('"')-4)))!=null?i:null,console.log("PROPS DYNAMIC",ht))},_p=[],Mk=async()=>{await Promise.all(_p)},Cp=(e,t)=>{var F;const{width:i,height:n,data:o}=(F=t.layers.find(E=>E.name==="Tiles"))!=null?F:{};if(!o)throw new Error(`Cannot create room '${e}', it does not have a layer named 'Tiles'`);const r=t.layers.find(E=>E.name==="Tiles2"),{objects:s}=t.layers.find(E=>E.name==="Props")||{},{objects:l}=t.layers.find(E=>E.name==="Objects")||{},{objects:c}=t.layers.find(E=>E.name==="Objects2")||{},{firstgid:d}=t.tilesets.find(E=>{var I;return E.name==="props-dynamic"||((I=E.source)!=null?I:"").indexOf("props-dynamic")>-1})||{firstGid:-9999999},u=i*A1,g=n*me/2,[m,f]=n2(u,g+me),p={name:e,tiledJson:t,width:i,height:n,widthPx:u,heightPx:g,props:[],tiles:[],characters:[],particles:[],markers:{},taggedMarkers:[],triggerActivators:[],renderObjects:[],floorTileObjects:[],floor:ko(m),defaultFloorSprite:"floors_1",visible:!0,bgImage:"",bgTransform:new T1([0,0,0],[0,0,0],1e3,S1.LINEAR)};console.log("create room",e);const y=E=>{var I;try{const W=zy(E.sprite);W&&E.ro&&(E.ro.sprite=W.baseSprite,E.isWall=(I=W.isWall)!=null?I:E.isWall,(W==null?void 0:W.animName)&&(E.animName=W.animName,E.ro.anim=se(W.animName),E.ro.anim.start()),W.onAfterCreation&&W.onAfterCreation(E))}catch(W){console.error("Failed to apply tile template: ",W)}},w=(E,I)=>{E===0&&(E=129);const{sprite:W,tileWidth:j,tileHeight:d1}=d9(t.tilesets,E),o1=W.indexOf("wall")>-1,r1=W.indexOf("props")>-1;W.indexOf("floors")>-1;let i1=!1;r&&r.data[I]!==0&&o[I]!==r.data[I]&&(i1=!0);const h1={sprite:W,tileWidth:j,tileHeight:d1,isWall:o1||r1,isProp:r1&&!Ok(W),id:E-1,x:I%i,y:Math.floor(I/i),highlighted:!1};p.tiles.push(h1);const N1=kt(h1);if(N1.isFloor){if(p.renderObjects.push(N1),h1.sprite==="floors_0"&&(h1.isProp=!0,h1.isWall=!0),i1){const{sprite:ae}=d9(t.tilesets,o[I]),B1=ae,ce=J(S({},h1),{tileWidth:32,tileHeight:32,sprite:B1,id:i1&&o[I]||1}),s0=kt(ce);ce.ro=s0,ce.ro.sortY-=1,y(ce),h1.floorTileBeneath=ce,p.renderObjects.push(s0)}}else{let ae=p.defaultFloorSprite;if(i1){const{sprite:B1}=d9(t.tilesets,o[I]);ae=B1}if(h1.isWall&&!h1.isProp){const B1=J(S({},h1),{tileWidth:32,tileHeight:32,sprite:ae,id:i1&&o[I]||1}),ce=kt(B1);B1.ro=ce,y(B1),h1.floorTileBeneath=B1,p.renderObjects.push(ce)}else{N1.sortY+=8;const B1=J(S({},h1),{tileWidth:32,tileHeight:32,sprite:ae,id:1,x:h1.x,y:h1.y}),ce=kt(B1);B1.ro=ce,y(B1),h1.floorTileBeneath=B1,p.renderObjects.push(ce)}p.renderObjects.push(N1)}h1.ro=N1,y(h1)},v=E=>{const I=E.x,W=E.y,j=E.gid,d1=j>=d&&j<d+(ht==null?void 0:ht.length),o1=j-d;if(d1){if(ht){const r1=ht[o1];if(!r1)throw new Error(`Could not load prop in room definition '${e}', the propIndex '${o1}' has no associated tilesetTile. (gid=${j} startingGid=${d})`);_p.push(new Promise(i1=>{Qk(r1,Tk(r1)).then(()=>{const h1={id:`prop,${I},${W}`,x:I,y:W,sprite:r1,isDynamic:!0,isFront:E.type==="front"},N1=cn(h1);h1.ro=N1,p.props.push(h1),p.renderObjects.push(N1),i1()})}))}}else if(t.tilesets&&j){const{sprite:r1,tileWidth:i1,tileHeight:h1}=d9(t.tilesets,j),N1=isNaN(parseFloat(E.type))?void 0:parseFloat(E.type),ae={id:`prop,${I},${W}`,x:I,y:W,name:E.name||void 0,sprite:r1,isDynamic:!0,sortOffset:N1,isFront:E.type==="front"},B1=cn(ae);ae.ro=B1,p.props.push(ae),p.renderObjects.push(B1)}},A=E=>{const I=E.name.slice(4);if(!Ft(I))throw new Error(`Could not load treasure ${E.name} in room definition ${e}, no entry for the item is in the db`);const j=E.x-32*2+16,d1=E.y-32*2+16,o1={id:p.name+"_"+E.id,x:j,y:d1,sprite:"props_31",isDynamic:!0,isFront:!1,isItem:!0,itemName:I},r1=cn(o1,!0);o1.ro=r1,p.props.push(o1),p.renderObjects.push(r1)},C=E=>{var ce;const I=E.x,W=E.y,[j,d1]=I1(I,W),[o1,r1]=l9(j,d1-16),i1=St(E.name);if(!i1)throw new Error(`Could not load character '${E.name}' in room definition '${e}', no entry in the db.`);const h1=(ce=E.properties)!=null?ce:[],N1=h1.find(s0=>s0.name==="overworldAi");N1&&(i1.overworldAi=N1.value);const ae=h1.find(s0=>s0.name==="encounterName");if(ae){const s0=p.name+"_"+i1.name+"_"+E.id,Gp=$();if(dy(Gp,s0,p.name))return;i1.encounterName=ae.value,i1.name=s0,i1.nameLabel=i1.name}else N1&&console.error(`Error, character has an overworldAi but not an encounterName: ${E.name} `,E);const B1=o0(i1);re(B1,[o1,r1,0]),gt(p,B1)},k=E=>{const I=E.x,W=E.y,[j,d1]=I1(I,W),[o1,r1]=l9(j,d1-16);if(p.markers[E.name])throw new Error(`Could not load marker '${E.name}' in room definition '${e}', a marker with that name already exists.`);const i1={name:E.name,x:o1,y:r1};p.markers[E.name]=i1,p.renderObjects.push(T4(i1))},N=E=>{const I=E.x,W=E.y,[j,d1]=I1(I,W),[o1,r1]=l9(j,d1-16),i1={name:E.name,x:o1,y:r1};p.taggedMarkers.push(i1),p.renderObjects.push(T4(i1))},R=E=>{const I=E.x,W=E.y,j=E.width,d1=E.height,o1=E.name.slice(1);if(E.gid===void 0){const r1=8,i1=16+8,N1={polygon:[[i1+I,r1+W],[i1+I+j,r1+W],[i1+I+j,r1+W+d1],[i1+I,r1+W+d1]],name:o1,x:I,y:W,width:j,height:d1,isTrigger:!0};p.triggerActivators.push(N1),p.renderObjects.push(E4(N1))}else{const[r1,i1]=I1(I,W),[h1,N1]=l9(r1,i1-16);if(!Jm(o1))throw new Error(`Could not load trigger '${E.name}' in room definition '${e}', a trigger with that name does not exist.)`);const ae={name:o1,x:h1,y:N1,width:16,height:16,isTrigger:!0};p.triggerActivators.push(ae),p.renderObjects.push(E4(ae))}},L=o.slice();if(r&&r.data&&r.data.forEach((E,I)=>{E!==0&&(L[I]=E)}),L.forEach(w),s&&s.forEach(v),l||c){let E=l!=null?l:[];E=E.concat(c!=null?c:[]),E.forEach(I=>{const W=I.name.toLowerCase().indexOf("tagmarker")===0,j=I.name.toLowerCase().indexOf("marker")>-1,d1=I.name.toLowerCase().indexOf("#")===0,o1=I.name.toLowerCase().indexOf("item")===0;W?N(I):j?k(I):d1?R(I):o1?A(I):I.name&&I.name.slice(0,4)!=="Prop"?C(I):v(I)})}p.floorTileObjects=p.floorTileObjects.sort((E,I)=>E.sortY<I.sortY?-1:1);for(let E=0;E<p.floorTileObjects.length;E++){const{sprite:I,px:W,py:j}=p.floorTileObjects[E];I&&Ke(I,W+p.widthPx/2,j,1,f)}return p},a0=(e,t,i)=>t<0||t>=e.width||i<0||i>=e.height?null:e.tiles[i*e.width+t],x1=(e,t)=>{e.particles.push(t),t.uiComponent&&px(t)},J1=(e,t)=>{const[i,n]=t,o=Math.floor((i+Qt-3)/A1*2),r=Math.floor((n+Zt-3)/me*2);return a0(e,o,r)},Q=(e,t)=>{for(let i=0;i<e.characters.length;i++){const n=e.characters[i];if(n.name.toLowerCase()===t.toLowerCase())return n}return null},gt=(e,t)=>{e.characters.push(t),t.ro&&e.renderObjects.push(t.ro)},mt=(e,t)=>{const i=e.characters.indexOf(t);if(i>-1&&e.characters.splice(i,1),t.ro){const n=e.renderObjects.indexOf(t.ro);n>-1&&e.renderObjects.splice(n,1)}},_o=(e,t)=>{const i=e.particles.indexOf(t);i>-1&&e.particles.splice(i,1),fx(t)},Dk=(e,t)=>{for(let i=0;i<e.props.length;i++){const n=e.props[i];if(n.name===t)return n}},Ap=(e,t)=>{const i=e.props.indexOf(t);i>-1&&e.props.splice(i,1);const n=e.renderObjects.indexOf(t.ro);n>-1&&e.renderObjects.splice(n,1)},Nk=e=>{e.visible=!0},Bk=e=>{e.visible=!1},$k=(e,t,i)=>{const n=J1(e,[t.x,t.y]),o=J1(e,[i.x,i.y]);return!!(n&&o&&n===o)},Sp=(e,t,i)=>{const n=J1(e,[t.x-Qt,t.y]),o=J1(e,[t.x,t.y-Zt]),r=J1(e,[t.x+Qt,t.y]),s=J1(e,[t.x,t.y+Zt]);let l=[n,o,r,s];if(i){const{x:c,y:d}=i,{x:u,y:g}=t,m=u-c,f=g-d;m<0?f<0?l=[r,s,n,o]:l=[r,o,n,s]:f<0&&(l=[n,s,r,o])}for(let c=0;c<l.length;c++){const d=l[c];if(d&&!d.isWall&&!d.isProp){const u=a0(e,d.x,d.y+1),g=a0(e,d.x+1,d.y);if((u==null?void 0:u.isWall)||(g==null?void 0:g.isWall))continue;return d}}return null},kp={font:"monospace",color:"#fff",size:14,align:"left",strokeColor:""},Rp=e=>{e=e||K1(),e.clearRect(0,0,e.canvas.width,e.canvas.height)},Wk=e=>(e=e||K1(),e.getImageData(0,0,e.canvas.width,e.canvas.height)),u9=(e,t,i,n,o,r,s)=>{s=s||K1(),s.lineWidth=1,s[r?"strokeStyle":"fillStyle"]=o,s[r?"strokeRect":"fillRect"](Math.floor(e),Math.floor(t),i,n)},Gk=(e,t,i,n,o,r)=>{r=r||K1(),r.lineWidth=1,r[o?"strokeStyle":"fillStyle"]=n,r.beginPath(),r.arc(e,t,i,0,Math.PI*2),r[o?"stroke":"fill"]()},Fk=(e,t,i,n)=>{n=n||K1(),n.fillStyle=t,n.strokeStyle=t,n.beginPath();const o=e[0],[r,s]=o,[l,c]=n?[r,s]:I1(r,s,0);n.moveTo(l,c);for(let d=1;d<e.length;d++){const u=e[d],[g,m]=u,[f,p]=n?[g,m]:I1(g,m,0);n.lineTo(f,p)}n.closePath(),n.lineWidth=2,n.stroke()},D0=(e,t,i,n,o)=>{const{font:r,size:s,color:l,align:c,strokeColor:d}=S(S({},kp),n||{});if(o=o||K1(),d){const u=d;D0(e,t+1,i+1,{font:r,size:s,color:u,align:c},o)}o.font=`${s}px ${r}`,o.fillStyle=l||"#FFF",o.textAlign=c,o.textBaseline="middle",o.fillText(e,t,i)},Ke=(e,t,i,n,o)=>{if(n=n||1,o=o||K1(),e!=="invisible")try{o.fillStyle="black",o.strokeStyle="black";const[r,s,l,c,d]=typeof e=="string"?B0(e):e;o.drawImage(r,s,l,c,d,Math.floor(t),Math.floor(i),c*n,d*n)}catch(r){throw console.error(e),new Error("Could not draw sprite: "+r)}},Jt=(e,t,i,n,o)=>{n=n||1,o=o||K1(),e.update();const r=e.getSprite();if(!r)throw console.error(e),new Error("Cannot draw animation that did not provide a sprite.");try{o.fillStyle="black",o.strokeStyle="black";const[s,l,c,d,u]=typeof r=="string"?B0(r):r;o.drawImage(s,l,c,d,u,Math.floor(t),Math.floor(i),d*n,u*n)}catch{throw new Error(`Error attempting to draw animation sprite: "${r}"`)}},Hk=(e,t,i,n,o)=>{n=n||1,o=o||K1();const r=e.getSprite();if(!r)throw console.error(e),new Error("Cannot draw animation that did not provide a sprite.");try{o.fillStyle="black",o.strokeStyle="black";const[s,l,c,d,u]=typeof r=="string"?B0(r):r;o.drawImage(s,l,c,d,u,Math.floor(t),Math.floor(i),d*n,u*n)}catch{throw new Error(`Error attempting to draw animation sprite: "${r}"`)}},Co=(e,t,i)=>{const[n,o,r]=fo(e),s=_e(e);let[l,c]=I1(n,o,r);if(i=i||K1(),l+=1,c+=0,s.isPaused){const d=s.getSprite();if(!d)throw console.error(s),new Error("Cannot draw paused character that did not provide a sprite.");Ke(d,l,c,t,i),(e.highlighted||o9(e,oe.CLOAKED))&&(i.globalCompositeOperation="multiply",Ke(d,l,c,t,i),i.globalCompositeOperation="source-over")}else Jt(s,l,c,t,i),(e.highlighted||o9(e,oe.CLOAKED))&&(i.globalCompositeOperation="multiply",Jt(s,l,c,t,i),i.globalCompositeOperation="source-over")},Ao=(e,t,i,n,o)=>{const{anim:r,text:s,textParams:l,opacity:c,w:d,h:u,color:g,shape:m}=e;o=o!=null?o:K1(),o.globalAlpha=c!=null?c:1,r&&Jt(r,t,i,n?n*e.scale:e.scale,o),s&&l&&D0(s,t,i,l,o),d&&u&&g&&m&&(m==="rect"?u9(t-d/2,i-u/2,d,u,g,!1,o):m==="circle"&&Gk(t,i,d,g,!1,o)),o.globalAlpha=1},Uk=e=>{if(e.length<2)return;let t=!1;do{t=!1;for(let i=0;i<e.length-1;i++){const n=e[i],o=e[i+1];n.sortY>o.sortY&&(t=!0,e[i]=o,e[i+1]=n)}}while(t)},Lp=(e,t,i,n,o)=>{const{particles:r}=e;n=n||K1(),n.save(),n.translate(Math.floor(t),Math.floor(i)),Uk(e.renderObjects);const s=K1("outer"),c=P().leader;for(let d=0;d<e.renderObjects.length;d++){const{name:u,sprite:g,anim:m,character:f,px:p,py:y,origPy:w,highlighted:v,visible:A,isMarker:C,isTrigger:k,isFloor:N,polygon:R}=e.renderObjects[d];if(!!A)if(o)f?Co(f):g&&!N&&!C&&!k?Ke(g,p,y):m&&Hk(m,p,y);else if(C){if(nr()){const[L,F]=Vt(p+16,y);D0(u||"",L,F,{align:"center",color:h.WHITE,strokeColor:h.BLACK,size:24},K1("outer")),Ke(g,p,y)}}else if(k){if(V2())if(R){const L=R[0],[F,E]=L,[I,W]=Vt(...I1(F,E,0)),j=R.map(([d1,o1])=>I1(d1,o1));Fk(j,"rgba(0, 0, 0, 0.5)",1,K1()),D0(u||"",I,W,{align:"center",color:h.PINK,strokeColor:h.BLACK,size:24},K1("outer"))}else{const[L,F]=Vt(p+16,y);Ke(g,p,y),D0(u||"",L,F,{align:"center",color:h.PINK,strokeColor:h.BLACK,size:24},K1("outer"))}}else m?Jt(m,p,y):g?(Ke(g,p,y),v&&Ke("indicator",p,w-3)):f&&Co(f)}if(n.globalAlpha=.25,n.globalCompositeOperation="luminosity",Co(c),n.globalAlpha=1,n.globalCompositeOperation="source-over",!o)for(let d=0;d<r.length;d++){const u=r[d];if(u.useOuterCanvas){const[g,m]=P8(u),[f,p]=Vt(g,m);Ao(u,f,p,1,s)}else{const[g,m]=P8(u);Ao(u,g,m)}}if(n.restore(),nr()){const[d,u]=y1(c);D0(`POS: ${d.toFixed(0)}, ${u.toFixed(0)}`,20,164,{color:"white",size:32},s);const[g,m]=I1(d,u),[f,p]=Vt(g,m);D0(`PX Pos: ${f.toFixed(0)}, ${p.toFixed(0)}`,20,194,{color:"white",size:32},s);const y=J1(e,[d,u]);D0(`Tile Pos: ${y==null?void 0:y.x.toFixed(0)}, ${y==null?void 0:y.y.toFixed(0)}`,20,224,{color:"white",size:32},s)}},Kk=()=>window.JSZip,Ip={};class zk{async processAssetFile(t){const i=[],n=async function(g){const[,m,f,p]=g;let y=parseFloat(p);return isNaN(y)&&(y=1),w9(m,f,l1.NORMAL,y,!0)},o=async function(g){const[,m,f,p]=g;let y=parseFloat(p);return isNaN(y)&&(y=1),w9(m,f,l1.MUSIC,y)},r=async function(g){const[,m,f,p,y]=g;return m==="invisible"?void 0:await Zk(f,m,Number(p),Number(y))},s=function(g,m){const f=g[1],p=g[2].trim();m.name=f,m.loop=p.indexOf("true")>=0},l=function(g,m){const f=g[1],p=parseFloat(g[2]);m.addSprite({name:f,duration:p})},c=t.split(`
`);let d=new b0(!1);const u=function(){Mr(d.name,function(g){const m=new b0(g.loop);return g.sprites.forEach(f=>{m.addSprite({name:f.name,duration:f.duration,opacity:f.opacity,offsetX:f.offsetX,offsetY:f.offsetY})}),m}.bind(this,d)),Mr(d.name+pt.FLIPPED,function(g){const m=new b0(g.loop);return g.sprites.forEach(f=>{m.addSprite({name:f.name+pt.FLIPPED,duration:f.duration,opacity:f.opacity,offsetX:f.offsetX,offsetY:f.offsetY})}),m}.bind(this,d))};for(const g of c){const m=g.split(","),[f]=m;if(f==="AnimSprite"){if(!d)throw console.error("Error reading res.txt, AnimSprite without Anim",m),new Error("display loading error");l(m,d);continue}switch(d&&u(),f){case"Picture":{i.push(()=>r(m));break}case"Animation":{d=new b0(!1),s(m,d);continue}case"Sound":{i.push(()=>n(m));break}case"Music":{i.push(()=>o(m));break}}}d&&u();for(let g=0;g<i.length;g++)await i[g]()}async loadAssets(t){await this.processAssetFile(t)}}const So=async e=>{const t=`${fe()}/`,i=await(await fetch(t+"res.txt")).text(),n=await(await fetch(t+"res-foley.txt")).text(),o=await(await fetch(t+"res-bg.txt")).text();if(e&&e(),vr()){const l=(await Promise.all([Yk(t+"images.zip")]))[0];await jk(l)}const r=new zk;return Promise.all([r.loadAssets(i).then(e||function(){}),r.loadAssets(n).then(e||function(){}),r.loadAssets(o).then(e||function(){})])},jk=async e=>Promise.all(Object.keys(e.files).map(async t=>{const i=e.files[t],n=new Blob([await i.async("arraybuffer")],{type:"image/png"}),o=URL.createObjectURL(n),r=document.createElement("img");r.src=o,Ip[t]=r})).catch(t=>{console.error("Failed to fetch images archive",t)}),Yk=async e=>await fetch(e).then(function(i){return i.status===200||i.status===0?Promise.resolve(i.blob()):Promise.reject(new Error(i.statusText))}).then(Kk().loadAsync),Vk=e=>{const t=Ip[e];return t||null},N0={};window.sprites=N0;const ko=(e,t,i,n,o)=>[e,t!=null?t:0,i!=null?i:0,n!=null?n:e.width,o!=null?o:e.height],Ro=async e=>{if(vr()&&!e.includes("/")){const t=Vk(e);if(t)return t;throw new Error("Failed to load ZIP image: "+e)}else return new Promise((t,i)=>{const n=new Image;n.onload=()=>{t(n)},n.onerror=()=>{i("Failed to load image: "+e)},n.src=`${fe()}/`+e})};var pt;(function(e){e.NORMAL="",e.FLIPPED="_f",e.ROT90="_r1",e.ROT180="_r2",e.ROT270="_r3"})(pt||(pt={}));const qk=e=>{const[t,i,n]=n2(e.width,e.height);return i.translate(n,0),i.scale(-1,1),i.drawImage(e,0,0),t},Xk=e=>{const[,,,t,i]=e,[n,o]=n2(t,i);return Ke(e,0,0,1,o),n},h9=(e,t,i,n,o)=>{const r=(d,u,g,m,f,p)=>e[d]=ko(u,g,m,f,p),s=(d,u,g)=>{const m=r(d,t,g*n,u*o,n,o);eR(d)&&r(`${d}${pt.FLIPPED}`,qk(Xk(m)),0,0,n,o)},l=t.width/n,c=t.height/o;for(let d=0;d<c;d++)for(let u=0;u<l;u++){let g=`${i}_${d*l+u}`;l===1&&c===1&&!g.includes("512")&&(g=i),s(g,d,u)}},Op=async()=>{const e=await Ro("battle-terrain1.png");h9(N0,e,"terrain",A1,me)},Qk=async(e,t)=>{const i=B0(t);if(i)return i[0];{N0[t]=[new Image,0,0,0,0];const n=await Ro(e);return h9(N0,n,t,n.width,n.height),n}},Zk=async(e,t,i,n)=>{const o=B0(t);if(o)return o[0];{N0[t]=[new Image,0,0,0,0];const r=await Ro(e);return h9(N0,r,t,i,n),h9(N0,r,t,r.width,r.height),r}},Jk=ko(document.createElement("canvas"),0,0,1,1),B0=e=>e.indexOf("invisible")===0?Jk:N0[e],Pp=[/^ada/,/^conscience/,/^sigma/,/^rho/,/^skye*/,/^port(.*)/,/^guy(\d*)/,/^girl(\d*)/,/^ch_*/,/^tut_*/,/^employee-*/,/^effects/],eR=e=>{for(let t=0;t<Pp.length;t++)if(Pp[t].test(e))return!0;return!1},e2={},tR=e=>{const t=e2[e];return t?S({},t):null},iR=()=>{e2.bowling={id:"O6vt5dsvr",debug:!1,timestampSaved:new Date,timestampLoaded:new Date,durationPlayed:0,overworld:{name:"bowlingAlleyStandalone"},scene:{storage:{current_overworld:"bowlingAlleyStandalone"},storageOnce:{},storageOnceKeys:{},storageEncounters:{},storageTreasure:{}},player:{tokens:0,tickets:0,backpack:[],leader:0,partyStorage:[{stats:{POW:5,ACC:1,FOR:1,CON:1,RES:1,SPD:1,EVA:1,STAGGER:10,HP:50,RESV:10},hp:50,resv:10,x:295,y:126,z:0,name:"Ada",facing:T.DOWN,experience:2,experienceCurrency:0,equipment:{weapon:-1,accessory1:-1,accessory2:-1,armor:-1}}],party:[0],battlePositions:[0]},leaderboards:{},stores:{}},e2.tutorial1={id:"q86qvj2uv",debug:!0,timestampSaved:"2021-11-29T20:52:23.152Z",timestampLoaded:"2021-11-29T20:52:02.725Z",durationPlayed:40854,overworld:{name:"floor1Atrium"},questsUpdated:["OpeningQuest","Tutorial"],scene:{storage:{"quest_floor1-main":!0,current_overworld:"floor1Atrium",quest_tutorial:!0,"quest_floor1-atrium_acquire-haptic-bracer":!0,"floor1-atrium-desk-employee":!0},storageOnce:{},storageOnceKeys:{"1632453":!0},storageEncounters:{},storageTreasure:{}},player:{tokens:109,tickets:99,backpack:["HapticBracer"],leader:0,partyStorage:[{stats:{POW:5,ACC:1,FOR:1,CON:1,RES:1,SPD:1,EVA:1,STAGGER:15,HP:50,RESV:10},hp:50,resv:10,x:434.492947569948,y:62.97942610275762,z:0,name:"Ada",facing:"left_f",experience:2,experienceCurrency:10,equipment:{weapon:-1,accessory1:-1,accessory2:-1,armor:-1}},{stats:{POW:5,ACC:1,FOR:1,CON:1,RES:1,SPD:1,EVA:1,STAGGER:12,HP:35,RESV:10},hp:35,resv:10,x:0,y:0,z:0,name:"Conscience",facing:"down",experience:2,experienceCurrency:10,equipment:{weapon:1,accessory1:-1,accessory2:-1,armor:-1}}],party:[0,1],battlePositions:[0,1]},leaderboards:{elasticity:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:13665},{playerLabel:"Latinature",score:12905},{playerLabel:"Wannatt",score:12146},{playerLabel:"Annonbok",score:11387},{playerLabel:"Wannatt",score:10628},{playerLabel:"Tutorksit",score:9869},{playerLabel:"Wannatt",score:9110},{playerLabel:"WeirdChampion",score:8350},{playerLabel:"Tutorksit",score:7591},{playerLabel:"Larvinglo",score:6832}],vortex:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:152598},{playerLabel:"BauerXb",score:144120},{playerLabel:"Teamback",score:135642},{playerLabel:"Latinature",score:127165},{playerLabel:"BauerXb",score:118687},{playerLabel:"Berglimis",score:110209},{playerLabel:"QuoteAnguris",score:101732},{playerLabel:"Vocatee",score:93254},{playerLabel:"Moress",score:84776},{playerLabel:"Vocatee",score:76299}],zag:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:42809},{playerLabel:"Taldene",score:40430},{playerLabel:"Teamback",score:38052},{playerLabel:"Larvinglo",score:35674},{playerLabel:"Latinature",score:33295},{playerLabel:"Taldene",score:30917},{playerLabel:"Variowain",score:28539},{playerLabel:"Steinetit",score:26161},{playerLabel:"Berglimis",score:23782},{playerLabel:"Variowain",score:21404}],invaderz:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:3015},{playerLabel:"PoshyHerald",score:2847},{playerLabel:"Latinature",score:2680},{playerLabel:"Moress",score:2512},{playerLabel:"Taldene",score:2345},{playerLabel:"SaberMagic",score:2177},{playerLabel:"Latinature",score:2010},{playerLabel:"Bondurain",score:1842},{playerLabel:"Vocatee",score:1675},{playerLabel:"Vintagentca",score:1507}]},stores:{}},e2.tutorial2={id:"t08cx0g66",debug:!0,timestampSaved:"2021-11-30T16:30:13.405Z",timestampLoaded:"2021-11-30T16:28:15.550Z",durationPlayed:276564,overworld:{name:"floor1TutVR1"},questsUpdated:["OpeningQuest","Tutorial"],scene:{storage:{"quest_floor1-main":!0,current_overworld:"floor1TutVR1",quest_tutorial:!0,"quest_floor1-atrium_acquire-haptic-bracer":!0,"floor1-atrium-desk-employee":!0,quest_tutorial_active:!0,roomName:"floor1TutEntrance","quest_tutorial-0":!0,"floor1-atrium-employee-jason":!0,"floor1-tut-entrance-vr-portal":!0},storageOnce:{},storageOnceKeys:{"1632453":!0,a567dae3:!0,"floor1-tut-entrance-vr-portal-action2-once":!0},storageEncounters:{},storageTreasure:{}},player:{tokens:109,tickets:99,backpack:["HapticBracer"],leader:0,partyStorage:[{stats:{POW:5,ACC:1,FOR:1,CON:1,RES:1,SPD:1,EVA:1,STAGGER:15,HP:50,RESV:10},hp:50,resv:10,x:167.8605748058471,y:173.3232217091791,z:0,name:"Ada",facing:"leftup_f",experience:2,experienceCurrency:10,equipment:{weapon:-1,accessory1:-1,accessory2:-1,armor:-1}},{stats:{POW:5,ACC:1,FOR:1,CON:1,RES:1,SPD:1,EVA:1,STAGGER:12,HP:35,RESV:10},hp:35,resv:10,x:0,y:0,z:0,name:"Conscience",facing:"down",experience:2,experienceCurrency:10,equipment:{weapon:-1,accessory1:-1,accessory2:-1,armor:-1}}],party:[0,1],battlePositions:[0,1]},leaderboards:{elasticity:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:13665},{playerLabel:"Latinature",score:12905},{playerLabel:"Wannatt",score:12146},{playerLabel:"Annonbok",score:11387},{playerLabel:"Wannatt",score:10628},{playerLabel:"Tutorksit",score:9869},{playerLabel:"Wannatt",score:9110},{playerLabel:"WeirdChampion",score:8350},{playerLabel:"Tutorksit",score:7591},{playerLabel:"Larvinglo",score:6832}],vortex:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:152598},{playerLabel:"BauerXb",score:144120},{playerLabel:"Teamback",score:135642},{playerLabel:"Latinature",score:127165},{playerLabel:"BauerXb",score:118687},{playerLabel:"Berglimis",score:110209},{playerLabel:"QuoteAnguris",score:101732},{playerLabel:"Vocatee",score:93254},{playerLabel:"Moress",score:84776},{playerLabel:"Vocatee",score:76299}],zag:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:42809},{playerLabel:"Taldene",score:40430},{playerLabel:"Teamback",score:38052},{playerLabel:"Larvinglo",score:35674},{playerLabel:"Latinature",score:33295},{playerLabel:"Taldene",score:30917},{playerLabel:"Variowain",score:28539},{playerLabel:"Steinetit",score:26161},{playerLabel:"Berglimis",score:23782},{playerLabel:"Variowain",score:21404}],invaderz:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:3015},{playerLabel:"PoshyHerald",score:2847},{playerLabel:"Latinature",score:2680},{playerLabel:"Moress",score:2512},{playerLabel:"Taldene",score:2345},{playerLabel:"SaberMagic",score:2177},{playerLabel:"Latinature",score:2010},{playerLabel:"Bondurain",score:1842},{playerLabel:"Vocatee",score:1675},{playerLabel:"Vintagentca",score:1507}]},stores:{}},e2.tutorial3={id:"94f2qzc7o",debug:!0,timestampSaved:"2021-11-30T18:28:58.650Z",timestampLoaded:"2021-11-30T18:26:17.060Z",durationPlayed:599744,overworld:{name:"floor1TutVR2"},questsUpdated:["OpeningQuest","Tutorial"],scene:{storage:{"quest_floor1-main":!0,current_overworld:"floor1TutVR2",quest_tutorial:!0,"quest_floor1-atrium_acquire-haptic-bracer":!0,"floor1-atrium-desk-employee":!0,quest_tutorial_active:!0,roomName:"floor1TutEntrance","quest_tutorial-0":!0,"floor1-atrium-employee-jason":!0,"floor1-tut-entrance-vr-portal":!0,"floor1-tut-vr1-to-vr2":!0,ARG0:[]},storageOnce:{},storageOnceKeys:{"1632453":!0,a567dae3:!0,"floor1-tut-entrance-vr-portal-action2-once":!0,"floor1-tut-vr1-to-vr21-once":!0},storageEncounters:{},storageTreasure:{}},player:{tokens:109,tickets:99,backpack:["HapticBracer","TrainingSword","TrainingBow"],leader:0,partyStorage:[{stats:{POW:5,ACC:1,FOR:1,CON:1,RES:1,SPD:1,EVA:1,STAGGER:15,HP:50,RESV:10},hp:50,resv:10,x:112.43040688317281,y:210.02906186682566,z:0,name:"Ada",facing:"left_f",experience:4,experienceCurrency:20,equipment:{weapon:1,accessory1:-1,accessory2:-1,armor:-1}},{stats:{POW:5,ACC:1,FOR:1,CON:1,RES:1,SPD:1,EVA:1,STAGGER:12,HP:35,RESV:10},hp:35,resv:10,x:0,y:0,z:0,name:"Conscience",facing:"down",experience:2,experienceCurrency:10,equipment:{weapon:2,accessory1:-1,accessory2:-1,armor:-1}}],party:[0,1],battlePositions:[0,1]},leaderboards:{elasticity:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:13665},{playerLabel:"Latinature",score:12905},{playerLabel:"Wannatt",score:12146},{playerLabel:"Annonbok",score:11387},{playerLabel:"Wannatt",score:10628},{playerLabel:"Tutorksit",score:9869},{playerLabel:"Wannatt",score:9110},{playerLabel:"WeirdChampion",score:8350},{playerLabel:"Tutorksit",score:7591},{playerLabel:"Larvinglo",score:6832}],vortex:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:152598},{playerLabel:"BauerXb",score:144120},{playerLabel:"Teamback",score:135642},{playerLabel:"Latinature",score:127165},{playerLabel:"BauerXb",score:118687},{playerLabel:"Berglimis",score:110209},{playerLabel:"QuoteAnguris",score:101732},{playerLabel:"Vocatee",score:93254},{playerLabel:"Moress",score:84776},{playerLabel:"Vocatee",score:76299}],zag:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:42809},{playerLabel:"Taldene",score:40430},{playerLabel:"Teamback",score:38052},{playerLabel:"Larvinglo",score:35674},{playerLabel:"Latinature",score:33295},{playerLabel:"Taldene",score:30917},{playerLabel:"Variowain",score:28539},{playerLabel:"Steinetit",score:26161},{playerLabel:"Berglimis",score:23782},{playerLabel:"Variowain",score:21404}],invaderz:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:3015},{playerLabel:"PoshyHerald",score:2847},{playerLabel:"Latinature",score:2680},{playerLabel:"Moress",score:2512},{playerLabel:"Taldene",score:2345},{playerLabel:"SaberMagic",score:2177},{playerLabel:"Latinature",score:2010},{playerLabel:"Bondurain",score:1842},{playerLabel:"Vocatee",score:1675},{playerLabel:"Vintagentca",score:1507}]},stores:{}},e2.tutorial4={id:"72b765t4b",debug:!0,timestampSaved:"2021-11-30T22:13:07.190Z",timestampLoaded:"2021-11-30T22:11:32.960Z",durationPlayed:788204,overworld:{name:"floor1TutVR2"},questsUpdated:["OpeningQuest","Tutorial"],scene:{storage:{"quest_floor1-main":!0,current_overworld:"floor1TutVR2",quest_tutorial:!0,"quest_floor1-atrium_acquire-haptic-bracer":!0,"floor1-atrium-desk-employee":!0,quest_tutorial_active:!0,roomName:"floor1TutEntrance","quest_tutorial-0":!0,"floor1-atrium-employee-jason":!0,"floor1-tut-entrance-vr-portal":!0,"floor1-tut-vr1-to-vr2":!0,"floor1-tut-vr2-facedown-jason":!0,"floor1-tut-vr2-battle2-area":!0,ARG0:[]},storageOnce:{},storageOnceKeys:{"1632453":!0,"2000000000":!0,a567dae3:!0,"floor1-tut-entrance-vr-portal-action2-once":!0,"floor1-tut-vr1-to-vr21-once":!0,df922503:!0},storageEncounters:{},storageTreasure:{}},player:{tokens:109,tickets:99,backpack:["HapticBracer","TrainingSword","TrainingBow","DilutedPotion","DilutedAcidicCompound"],leader:0,partyStorage:[{stats:{POW:5,ACC:1,FOR:1,CON:1,RES:1,SPD:1,EVA:1,STAGGER:15,HP:50,RESV:10},hp:50,resv:10,x:216.70615446913902,y:77.61093268292079,z:0,name:"Ada",facing:"left_f",experience:8,experienceCurrency:30,equipment:{weapon:1,accessory1:-1,accessory2:-1,armor:-1}},{stats:{POW:5,ACC:1,FOR:1,CON:1,RES:1,SPD:1,EVA:1,STAGGER:12,HP:35,RESV:10},hp:35,resv:10,x:128,y:159,z:0,name:"Conscience",facing:"left_f",experience:6,experienceCurrency:20,equipment:{weapon:2,accessory1:-1,accessory2:-1,armor:-1}}],party:[0,1],battlePositions:[0,1]},leaderboards:{elasticity:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:13665},{playerLabel:"Latinature",score:12905},{playerLabel:"Wannatt",score:12146},{playerLabel:"Annonbok",score:11387},{playerLabel:"Wannatt",score:10628},{playerLabel:"Tutorksit",score:9869},{playerLabel:"Wannatt",score:9110},{playerLabel:"WeirdChampion",score:8350},{playerLabel:"Tutorksit",score:7591},{playerLabel:"Larvinglo",score:6832}],vortex:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:152598},{playerLabel:"BauerXb",score:144120},{playerLabel:"Teamback",score:135642},{playerLabel:"Latinature",score:127165},{playerLabel:"BauerXb",score:118687},{playerLabel:"Berglimis",score:110209},{playerLabel:"QuoteAnguris",score:101732},{playerLabel:"Vocatee",score:93254},{playerLabel:"Moress",score:84776},{playerLabel:"Vocatee",score:76299}],zag:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:42809},{playerLabel:"Taldene",score:40430},{playerLabel:"Teamback",score:38052},{playerLabel:"Larvinglo",score:35674},{playerLabel:"Latinature",score:33295},{playerLabel:"Taldene",score:30917},{playerLabel:"Variowain",score:28539},{playerLabel:"Steinetit",score:26161},{playerLabel:"Berglimis",score:23782},{playerLabel:"Variowain",score:21404}],invaderz:[{playerName:"CarlArnold",playerLabel:"CarlArnold",score:3015},{playerLabel:"PoshyHerald",score:2847},{playerLabel:"Latinature",score:2680},{playerLabel:"Moress",score:2512},{playerLabel:"Taldene",score:2345},{playerLabel:"SaberMagic",score:2177},{playerLabel:"Latinature",score:2010},{playerLabel:"Bondurain",score:1842},{playerLabel:"Vocatee",score:1675},{playerLabel:"Vintagentca",score:1507}]},stores:{}}},nR=async e=>{await Promise.all([we("test2",e),we("test",e),we("example",e),we("utils",e),we("floor1/tic-tac-toe",e),we("floor1/ping-pong",e),we("floor1/floor1-atrium",e),we("floor1/floor1-tut",e),we("floor1/floor1",e),we("floor2/floor2-throne-room",e),we("floor2/jesse-cafeteria",e),we("intro",e),we("bowling",e)])};var Mp=async e=>{hS(),c7(),YA(),Py(),r7(),Yy(),n7(),FS(),Dy(),Lf(),vS(),CT(),p7(),iR(),await nR(e),iy(),Rv()};const ft=window.console,oR=()=>{window.console={log:ft.log,error:ft.error,warn:ft.warn,debug:ft.debug,trace:ft.trace,time:ft.time,timeEnd:ft.timeEnd}},rR=()=>{oR()},Dp=async()=>{D9(+new Date),wt(),Wo(4),S8(),await new Promise(e=>{setTimeout(e,100)})},aR=async()=>{await Dp();const e=St("Ada"),t=$8(e),i=o0(St("Conscience"));t.party.push(i),t.partyStorage.push(i),t.battlePositions.push(i),un($(),"OpeningQuest");const n=ii("floor1Outside");g2(t,n),an(),nn(),document.getElementById("controls").style.display="none",j1(O.Debug)},sR=e=>{let t=a("div",null);return e.activeSection==="new"?t=a("div",null,a(s8,{onConfirm:()=>{x("rez"),e.startGame()},onClose:()=>{e.hideActiveSection()},body:a("p",null,"Do you wish to create a new game?")})):e.activeSection==="settings"?t=a(t8,{onClose:()=>{e.hideActiveSection()}}):e.activeSection==="load"&&(t=a(ie,{title:"Load",onClose:()=>{e.hideActiveSection()},maxWidth:ue[b1.XLARGE].width,closeButtonLabel:"Back "+te(),disableKeyboardShortcut:!0},a(In,{onClose:()=>{e.hideActiveSection()},onSaveClicked:i=>{e.loadGame(i)}}))),t},lR=e=>{const[t,i]=G(null),n=Ye();return c1(()=>{n.current&&(n.current.style.opacity="1")},[t]),a("div",{ref:n,style:{opacity:"0",transition:"opacity 300ms linear",display:"flex",justifyContent:"center",alignItems:"flex-end",position:"fixed",left:"0",top:"0",width:"calc(100% - 37px)",height:"calc(100% - 64px)"}},a(sR,{activeSection:t,hideActiveSection:()=>{i(null),x("menu_choice_close"),e.squareCommands.logo()},startGame:async()=>{i("loading"),await e.squareCommands.hide(!0),aR()},loadGame:async l=>{i("loading"),await e.squareCommands.hide(!1),await Dp(),w2(l)}}),a(C1,{title:"MAKE YOUR SELECTION",width:"256px",open:t===null,isInactive:t!=null,items:[{label:"New Game",value:"new"},{label:"Load Game",value:"load"},{label:"Arcade Games",value:"games"},{label:"Settings",value:"settings"}],onItemClickSound:"menu_select",onItemClick:l=>{if(console.log("clicked",l),l!=="new"){if(l==="load")x("menu_choice_open"),e.squareCommands.field();else if(l==="settings")x("menu_choice_open"),e.squareCommands.plus2();else if(l==="games")return}i(l)}}))},Np=4,t2=7*Np,g9=1*Np,yt=25*(t2+g9),H2=27*(t2+g9);let Bp=-1,Lo=!1;const cR={10:h.GREY,11:h.DARKGREY_ALT,14:h.RED,15:h.LIGHTRED,12:h.DARKBLUE_ALT,13:h.LIGHTBLUE},dR=`
0,0,0,0,0,0,0,0,0,0,0,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,10,10,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,10,10,11,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,10,10,10,10,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,10,11,10,10,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
14,14,14,0,0,14,14,14,14,10,10,14,14,14,10,14,14,14,14,0,14,0,0,0,14,0,0,0,0,0,
14,0,0,14,0,14,0,0,10,10,14,10,10,10,11,14,0,0,0,0,14,14,0,14,14,0,0,0,0,0,
15,15,15,0,0,15,15,15,15,10,15,10,15,15,10,15,15,15,15,0,15,0,15,0,15,0,0,0,0,0,
14,0,0,14,0,14,0,0,10,10,14,10,10,14,10,14,0,0,0,0,14,0,14,0,14,0,0,0,0,0,
14,0,0,14,0,14,14,14,14,0,10,14,14,10,0,14,14,14,14,0,14,0,14,0,14,0,0,0,0,0,
0,0,0,0,0,0,0,10,10,11,10,10,10,10,10,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,
12,0,0,0,0,12,0,11,12,10,12,12,12,10,10,10,12,12,0,0,0,12,12,12,12,0,0,0,0,0,
12,0,0,0,0,12,10,10,12,10,12,10,10,12,10,12,10,10,12,0,12,0,0,0,0,0,0,0,0,0,
13,0,0,0,0,13,10,10,13,10,13,10,10,13,11,13,10,10,13,0,0,13,13,13,0,0,0,0,0,0,
12,0,0,0,0,12,10,10,12,10,12,10,10,12,10,12,10,10,12,0,0,0,0,0,12,0,0,0,0,0,
12,12,12,12,0,0,12,12,10,0,12,12,12,0,10,0,12,12,0,0,12,12,12,12,0,0,0,0,0,0,
0,0,0,0,0,0,10,11,10,0,10,10,10,10,10,10,10,10,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,10,10,10,10,10,10,11,10,0,10,10,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,10,10,10,10,0,10,10,10,10,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,10,11,0,10,0,10,11,10,10,0,10,10,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,10,10,0,10,10,0,10,0,10,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,10,0,0,11,10,10,0,10,0,10,10,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,10,0,10,0,10,0,10,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,10,0,0,0,10,0,0,0,0,11,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,10,0,0,0,0,11,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,10,0,0,0,10,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
`.slice(1,-1),i2=()=>{clearInterval(Bp),Lo=!1},uR=e=>{const t=e.split(`
`),i=[];t.forEach((r,s)=>{r[r.length-1]===","&&(r=r.slice(0,-1)),r.split(",").forEach((l,c)=>{const d=parseInt(l),u=cR[d];if(u){const g=c*(t2+g9),m=s*(t2+g9);i.push({nextX:g,nextY:m,resultX:g,resultY:m,color:u,timeoutId:null})}})});const n=[],o=i.length;for(let r=0;r<o;r++){const s=Ae(i),l=i.indexOf(s);i.splice(l,1),n.push(s)}return n},hR=e=>{const t=document.createElement("div");t.style.position="fixed",t.style.background=h.WHITE,t.style.left="0px",t.style.top="0px",t.style.width="100%",t.style.height="100%",t.style.display="flex",t.style["justify-content"]="center",t.style["align-items"]="center",t.style["flex-direction"]="column",t.style["padding-top"]="0px",t.style.transition="padding-top 300ms ease-out";const i=document.createElement("div");return i.style.position="relative",i.style.width=yt+"px",i.style.height=H2+"px",e.forEach((n,o)=>{const r=document.createElement("div");r.id="square-"+o,r.style.position="absolute",r.style.transition="transform 1000ms ease-in-out",r.style.left="0px",r.style.top="0px",r.style.width=t2+"px",r.style.height=t2+"px",r.style.background=n.color,(n.color===h.RED||n.color===h.DARKBLUE_ALT)&&(r.style["border-radius"]="6px"),r.style.transform="translate(0px, 0px)",i.appendChild(r),n.div=r}),t.appendChild(i),document.body.appendChild(t),t},$p=e=>{i2(),e.forEach(t=>{const{resultX:i,resultY:n,div:o,timeoutId:r}=t;o&&(o.style.transition=`transform ${750+Math.floor(Math.random()*500)}ms ease-out`,o.style.transform=`translate(${i}px, ${n}px)`,clearTimeout(r))}),setTimeout(()=>{Lo=!0},1e3),Bp=setInterval(()=>{const t=Math.floor(7-Math.random()*10);if(!(t<=0||!Lo))for(let i=0;i<t;i++){const n=Ae(e),{div:o,resultX:r,resultY:s}=n;o&&(o.style.transition="transform 250ms ease-out",setTimeout(()=>{o.style.transform=`translate(${r}px, ${s}px) rotate(360deg)`,setTimeout(()=>{o.style.transition="transform 0ms ease-out",o.style.transform=`translate(${r}px, ${s}px) rotate(0deg)`},250)},100))}},500)},gR=e=>{i2();const t=i=>{const{div:n}=i;if(n){const o=Math.round(Math.random()*(yt*2))-yt/2,r=Math.round(Math.random()*(H2*2))-H2/2,s=5e3+Math.random()*5e3;n.style.transition=`transform ${s}ms ease-out`,n.style.transform=`translate(${o}px, ${r}px)`,i.timeoutId=setTimeout(()=>{t(i)},s)}};e.forEach(i=>{clearTimeout(i.timeoutId),t(i),clearTimeout(i.timeoutId),i.timeoutId=setTimeout(()=>{t(i)},100)})},m9=(e,t,i,n)=>{i2();const o=(s,l)=>{const c=l!=null?l:8e3+Math.random()*8e3,d=5-Math.random()*10,{div:u}=s;if(u){const g=Math.round(Math.random()*(yt*2))-yt/2;u.style.transition=`transform ${c}ms ease-out`,u.style.transform=`translate(${g}px, ${i()+d}px)`,s.timeoutId=setTimeout(()=>{o(s)},c)}},r=(s,l)=>{const c=l!=null?l:8e3+Math.random()*8e3,d=5-Math.random()*10,{div:u}=s;if(u){const g=Math.round(Math.random()*(H2*2))-H2/2;u.style.transition=`transform ${c}ms ease-out`,u.style.transform=`translate(${t()+d}px, ${g}px)`,s.timeoutId=setTimeout(()=>{r(s)},c)}};e.forEach(s=>{clearTimeout(s.timeoutId),Math.random()>=.5?(o(s,750),clearTimeout(s.timeoutId),s.timeoutId=setTimeout(()=>{o(s)},n?50:750)):(r(s,750),clearTimeout(s.timeoutId),s.timeoutId=setTimeout(()=>{r(s)},n?50:750))})},mR=e=>{i2(),e.forEach(t=>{clearTimeout(t.timeoutId);const i=3e3,{div:n}=t;if(n){const o=Math.round(Math.random()*(yt*2))-yt/2;n.style.transition=`transform ${i}ms ease-out`,n.style.transform=`translate(${o}px, ${-1e3}px) rotate(${1e3+Math.random()*1e3}deg) scale(0.1)`}})},pR=(e,t,i)=>{Vr(a(lR,{squareCommands:{plus:()=>{m9(i,()=>window.innerWidth/2+50,()=>window.innerHeight/2+50)},plus2:()=>{m9(i,()=>window.innerWidth/2-50,()=>window.innerHeight/2-50)},plus3:()=>{m9(i,()=>10,()=>10)},logo:()=>{$p(i)},field:()=>{gR(i)},hide:t}}),e)},fR=async()=>{Q9(),t4();const e=$();await y9("foley/foley.mp3"),await So(),await Ep(),await Mp(e),await Op();try{const t=n5();t5(t),console.log("Settings have been loaded from localStorage.")}catch{console.log("Settings have NOT been loaded from localStorage.")}},yR=async()=>{xr(!0),w9("game_ready","game_ready.mp3",l1.NORMAL,1,!1),C8(),Q9();const e=uR(dR),t=hR(e);m9(e,()=>window.innerWidth/2+50,()=>window.innerHeight/2+50,!0);const o=document.createElement("div");o.style.position="fixed",o.style.left="0px",o.style.top="0px",o.style.width="100%",o.style.height="100%",o.style.display="flex",o.style["justify-content"]="center",o.style["align-items"]="center",o.style.background="radial-gradient(circle, rgba(17,17,17,0) 81%, rgba(17,17,17,1) 93%)",o.style.transition="opacity 750ms ease-out";const r=document.createElement("div");r.style.position="fixed",r.style.width="100%",r.style.height="100%",r.style.transition="opacity 750ms ease-out",r.style.opacity="1",r.style.background="radial-gradient(circle, rgba(17, 17, 17, 0) 1%, rgba(17, 17, 17, 1) 4%)",o.appendChild(r);const s=document.createElement("img");s.src=`${fe()}/img/flower.png`,s.style.width="64px",s.style["image-rendering"]="pixelated",s.className="bob-load",o.appendChild(s);const l=document.createElement("div");l.innerHTML="Press Any Key",l.style.padding="16px",l.style.background=h.DARKGREY,l.style["font-size"]="20px",l.style.margin="16px",l.style.border="2px solid "+h.BLUE,l.style["font-family"]="DataLatin",l.style["letter-spacing"]="1px",l.style["border-radius"]="8px",l.style["z-index"]=1,o.appendChild(l);const c=s.cloneNode();o.appendChild(c),document.body.appendChild(o),await new Promise(g=>{const m=()=>{window.removeEventListener("keydown",m),window.removeEventListener("mousedown",m),g()};window.addEventListener("keydown",m),window.addEventListener("mousedown",m),o.style.display="flex"}),Oe("game_ready"),r.style.opacity="0",l.style.background=h.GREY,l.innerHTML="Loading...",s.className="spin-load-fast",c.className="spin-load-fast",await new Promise(g=>{setTimeout(g,100)}),console.log("load assets"),console.time("assets"),await fR(),console.timeEnd("assets"),M4("music_menu"),o.style.opacity="0",t.style["justify-content"]="flex-start",t.style["padding-top"]="32px",$p(e),await new Promise(g=>{setTimeout(g,1e3)}),o.remove();const d=async g=>{g?(pe(800),t.style.transition="background-color 1000ms linear",t.style["background-color"]=h.BLACK,u.style.transition="opacity 800ms linear",u.style.opacity="0",i2(),await new Promise(m=>{setTimeout(m,2500)}),x("menu_sparkle"),mR(e),await new Promise(m=>{setTimeout(m,2e3)}),t.remove(),u.remove()):(pe(800),t.style.transition="background-color 1000ms linear, opacity 1000ms linear",t.style["background-color"]=h.BLACK,t.style.opacity="0",u.style.transition="opacity 800ms linear",u.style.opacity="0",i2(),await new Promise(m=>{setTimeout(m,1500)}),t.remove(),u.remove())},u=document.createElement("div");document.body.appendChild(u),pR(u,d,e)},wR=async()=>{console.log("load res"),document.body.innerHTML="",document.body.style["overflow-y"]="auto",await y9("foley/foley.mp3"),await So();const e=Object.keys(xt).sort().filter(t=>!t.includes("music_"));for(let t=0;t<e.length;t++){const i=e[t],n=document.createElement("button");n.onclick=()=>{x(i)},n.innerHTML=i,document.body.appendChild(n),document.body.appendChild(document.createElement("div"))}};function bR(e){const t={},i=(e[0]==="?"?e.substr(1):e).split("&");for(let n=0;n<i.length;n++){const o=i[n].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]||"")}return t}const Io=()=>{const e=document.getElementById("page-loading-progress");if(e){const t=document.createElement("div");t.style.background=h.DARKBLUE,t.style.border="1px solid "+h.WHITE,t.style.width="16px",t.style.height="32px",t.style.margin="4px 0px",t.style["border-radius"]="4px",e.appendChild(t)}},vR=async()=>{xr(!0),rR();const e=bR(window.location.search);if(document.getElementById("controls").style.display="none",e.menu){console.log("loading main app.");const l=document.getElementById("page-loading");return l&&(l.style.display="none"),yR()}if(e.soundboard)return console.log("loading soundboard app."),wR();console.log("loading debug app."),console.time("load"),C8(),Q9();const t=$();console.log("load res"),console.time("sound-spritesheet"),await y9("foley/foley.mp3"),console.timeEnd("sound-spritesheet"),console.time("res"),await So(Io),await Ep(),console.timeEnd("res"),console.log("init db"),console.time("db"),await Mp(t),Io(),await Mk(),console.log("load tiles"),await Op(),console.timeEnd("db"),Io();try{const l=n5();t5(l),console.log("Settings have been loaded from localStorage.")}catch{console.log("Settings have NOT been loaded from localStorage.")}console.timeEnd("load"),D9(+new Date),console.log("create canvas"),wt(),Wo(4),t4(),S8();const i=document.getElementById("page-loading");i&&(i.style.display="none");const n=St("Ada"),o=xS(n);Ue(o.leader,o.backpack[0]);const r=o0(St("Conscience"));o.party.push(r),o.partyStorage.push(r),o.battlePositions.push(r),un(t,"OpeningQuest"),Ue(o.leader,m1("ShieldRing"),0),Ue(o.leader,m1("PierceSword")),Ue(r,m1("TrainingSword")),Ue(r,o.backpack[1]),await new Promise(l=>{const c=()=>{window.removeEventListener("keydown",c),window.removeEventListener("mousedown",c),l()};window.addEventListener("keydown",c),window.addEventListener("mousedown",c);const d=document.getElementById("page-press-any-key");d&&(d.style.display="flex")});const s=document.getElementById("page-press-any-key");if(s&&(s.style.display="none"),console.log("initiate overworld"),e.room){const l=ii(e.room);g2(o,l)}else if(e.save){j2(o);const l=tR(e.save);if(console.log("Load save from QueryParams",l),!l){const c=document.getElementById("page-loading");c&&(c.style.display="flex",c.style.color=h.RED,c.innerHTML="The save specified in the query string does not exist in the save database.");return}w2(l)}else e.soundboard||e.debug||g2(o,ii("test2"));an(),console.log("run loop"),nn(),W1()};window.addEventListener("load",()=>{if(!window.requirejs){window.DEVELOPMENT=!0;const e=document.getElementById("page-loading");e&&(e.style.color="#42CAFD"),vR()}});
